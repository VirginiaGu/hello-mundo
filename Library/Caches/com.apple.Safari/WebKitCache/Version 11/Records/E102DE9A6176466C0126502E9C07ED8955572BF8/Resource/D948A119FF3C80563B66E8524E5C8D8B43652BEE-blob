/*! Version=16.0.0.0 */
if(typeof IEnumerable=="undefined"){IEnumerable=function(){};IEnumerable.registerInterface("IEnumerable")}if(typeof IEnumerator=="undefined"){IEnumerator=function(){};IEnumerator.registerInterface("IEnumerator")}typeof Sys=="undefined"&&Type.registerNamespace("Sys");if(typeof Sys.IEnumerable$1=="undefined"){Sys.IEnumerable$1=function(){};Sys.IEnumerable$1.registerInterface("Sys.IEnumerable$1")}if(typeof Sys.IEnumerator$1=="undefined"){Sys.IEnumerator$1=function(){};Sys.IEnumerator$1.registerInterface("Sys.IEnumerator$1")}Type.registerNamespace("NLRT");NLRT.IAnnotationQuery=function(){};NLRT.IAnnotationQuery.registerInterface("NLRT.IAnnotationQuery");NLRT.IAnnotationQueryStep=function(){};NLRT.IAnnotationQueryStep.registerInterface("NLRT.IAnnotationQueryStep");NLRT.IAnnotationQueryStoreContinuation=function(){};NLRT.IAnnotationQueryStoreContinuation.registerInterface("NLRT.IAnnotationQueryStoreContinuation");NLRT.IAnnotations=function(){};NLRT.IAnnotations.registerInterface("NLRT.IAnnotations");NLRT.IComplexAnnotationObject=function(){};NLRT.IComplexAnnotationObject.registerInterface("NLRT.IComplexAnnotationObject");NLRT.IFeatureBundle=function(){};NLRT.IFeatureBundle.registerInterface("NLRT.IFeatureBundle");NLRT.IStructValue=function(){};NLRT.IStructValue.registerInterface("NLRT.IStructValue");NLRT.IListValue=function(){};NLRT.IListValue.registerInterface("NLRT.IListValue");NLRT.INamedFeatureBundleResolver=function(){};NLRT.INamedFeatureBundleResolver.registerInterface("NLRT.INamedFeatureBundleResolver");NLRT.IAnnotationScript=function(){};NLRT.IAnnotationScript.registerInterface("NLRT.IAnnotationScript");NLRT.IAnnotationScriptCommand=function(){};NLRT.IAnnotationScriptCommand.registerInterface("NLRT.IAnnotationScriptCommand");NLRT.IErrorTolerantTrieLookupEngine=function(){};NLRT.IErrorTolerantTrieLookupEngine.registerInterface("NLRT.IErrorTolerantTrieLookupEngine");NLRT.IFilter=function(){};NLRT.IFilter.registerInterface("NLRT.IFilter");NLRT.IFilterFactory=function(){};NLRT.IFilterFactory.registerInterface("NLRT.IFilterFactory");NLRT.IRawFlatLexicon=function(){};NLRT.IRawFlatLexicon.registerInterface("NLRT.IRawFlatLexicon");NLRT.IObjectFetcher=function(){};NLRT.IObjectFetcher.registerInterface("NLRT.IObjectFetcher");NLRT.ISpanRegularExpression=function(){};NLRT.ISpanRegularExpression.registerInterface("NLRT.ISpanRegularExpression");NLRT.IStringTable=function(){};NLRT.IStringTable.registerInterface("NLRT.IStringTable");NLRT.ITrie=function(){};NLRT.ITrie.registerInterface("NLRT.ITrie");NLRT.ITriePrefixVisitor=function(){};NLRT.ITriePrefixVisitor.registerInterface("NLRT.ITriePrefixVisitor");NLRT.IReadOnlyList$1=function(){};NLRT.IReadOnlyList$1.$$=function(c){var a="IReadOnlyList$1$"+c.getName().replace(/\./g,"_");if(!NLRT[a]){var b=NLRT[a]=function(){};b.registerInterface("NLRT."+a)}return NLRT[a]};NLRT.AnnotationQuery=function(a){this.$0_0=a};NLRT.AnnotationQuery.coerceItem=function(e,b,c,a){if(c===a)return b;if(NLRT.Annotations.typeIDIsListType(c)&&NLRT.Annotations.typeIDIsListType(a)){for(var j=NLRT.Annotations.getMemberTypeID(c),g=NLRT.Annotations.getMemberTypeID(a),k=b,h=new NLRT.ListValue(e,g),f=k.get_items(),i=f.length,d=0;d<i;++d){var l=f[d];Array.add(h.get_items(),NLRT.AnnotationQuery.coerceItem(e,l,j,g))}return h}else if(c===3){if(a===5)return b;else if(a===1)return b.toString()}else if(c===5){if(a===3)return Math.floor(b);else if(a===1)return b.toString()}else if(c===1)if(a===3)return parseInt(b);else if(a===5)return parseFloat(b);throw Error.invalidOperation("Type conversion failure in query step");};NLRT.AnnotationQuery.prototype={get_incomingType:function(){return this.$0_0.$5_0},get_returnType:function(){return this.$0_0.$s_0},get_supportsStore:function(){return this.$0_0.$39_0},get_isContextFree:function(){return this.$0_0.$2m_0},load:function(a,b){return this.loadInternal(a,!a?b:new NLRT.SimpleNamedFeatureBundleResolver("root",a,b))},store:function(a,c,b){this.storeInternal(a,c,!a?b:new NLRT.SimpleNamedFeatureBundleResolver("root",a,b),null)},loadInternal:function(c,d){if(!this.get_isContextFree()&&!this.$0_0.$1_0.isLegalValue(this.get_incomingType(),c))throw Error.argument("input","Input value not of expected type");var b=c,a=this.$0_0.$1u_0;while(a){b=a.load(b,d);a=a.get_next()}return b},storeInternal:function(a,b,d,c){if(!this.get_supportsStore())throw Error.invalidOperation("Attempt to store into query that supports only loading");if(!this.get_isContextFree()&&!this.$0_0.$1_0.isLegalValue(this.get_incomingType(),a))throw Error.argument("lvalue","Lvalue not of expected type");if(!this.$0_0.$1_0.isLegalValue(this.get_returnType(),b))throw Error.argument("rvalue","Rvalue not of expected type");return this.$0_0.$1u_0.store(a,b,d,c)},$0_0:null};NLRT.AnnotationQueryInit=function(a,h){if(!a)return;this.$1_0=h.get_annotations();var b=0;this.$5_0=a.get_item(b);++b;this.$s_0=a.get_item(b);++b;this.$39_0=a.get_item(b)===1;++b;this.$2m_0=a.get_item(b)===1;++b;var d=a.get_item(b);++b;if(!d)return;for(var i=b,l=b+d,g=b+2*d,j=b+3*d,m=a.get_count()-j,f=null,c=0;c<d;++c){var n=j+a.get_item(g+c),o=(c===d-1?m:a.get_item(g+c+1))-a.get_item(g+c),k=new(NLRT.ReadOnlyList$1.$$(Number));k.fromReadOnlyList(a,n,o);var e=NLRT.AnnotationQueryInit.$5G(a.get_item(l+c),k,h);e.$5_0=a.get_item(i+c);e.$s_0=c===d-1?this.$s_0:a.get_item(i+c+1);if(!f){this.$1u_0=e;f=e}else{f.set_next(e);f=e}}};NLRT.AnnotationQueryInit.$5G=function(c,b,a){switch(c){case 1:return new NLRT.GetAnnotationQueryStep(new NLRT.FeatureBundleNameQueryStepInit(b,a));case 2:return new NLRT.IsDefinedAnnotationQueryStep(new NLRT.FeatureBundleNameQueryStepInit(b,a));case 3:return new NLRT.AttrAnnotationQueryStep(new NLRT.AttrQueryStepInit(b,a.get_annotations()));case 4:return new NLRT.FieldAnnotationQueryStep(new NLRT.FieldQueryStepInit(b,a.get_annotations()));case 5:return new NLRT.IfAnnotationQueryStep(new NLRT.IfQueryStepInit(b,a));case 6:return new NLRT.MatchesAnnotationQueryStep(new NLRT.SingleFilterQueryStepInit(b,a));case 43:return new NLRT.MatchesAsListAnnotationQueryStep(new NLRT.SingleFilterQueryStepInit(b,a));case 45:return new NLRT.ApplyAnnotationQueryStep(new NLRT.ApplyQueryStepInit(b,a));case 49:return new NLRT.ApplyExpandAnnotationQueryStep(new NLRT.ApplyExpandQueryStepInit(b,a));case 46:return new NLRT.ValueAnnotationQueryStep(new NLRT.ValueQueryStepInit(b,a.get_annotations()));case 51:return new NLRT.CallModuleAnnotationQueryStep(new NLRT.CallModuleQueryStepInit(b,a));case 52:return new NLRT.RangeAnnotationQueryStep(new NLRT.StartAndCountOrLengthQueryStepInit(b,a));case 53:return new NLRT.ConvertAnnotationQueryStep(new NLRT.AnnotationsOnlyQueryStepInit(a.get_annotations()));case 13:return new NLRT.ItemAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 14:return new NLRT.LastItemAnnotationQueryStep(new NLRT.SingleOptionalQueryQueryStepInit(b,a));case 15:return new NLRT.CountAnnotationQueryStep;case 18:return new NLRT.FirstItemMatchingAnnotationQueryStep(new NLRT.SingleFilterQueryStepInit(b,a));case 16:return new NLRT.ForAllAnnotationQueryStep(new NLRT.VarNameAndQueryQueryStepInit(b,a));case 17:return new NLRT.ExistsAnnotationQueryStep(new NLRT.VarNameAndQueryQueryStepInit(b,a));case 22:return new NLRT.InsertAtAnnotationQueryStep(new NLRT.IndexAndItemQueryStepInit(b,a));case 24:return new NLRT.AppendAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 26:return new NLRT.SublistAnnotationQueryStep(new NLRT.StartAndCountOrLengthQueryStepInit(b,a));case 27:return new NLRT.ItemsMatchingAnnotationQueryStep(new NLRT.SingleFilterQueryStepInit(b,a));case 30:return new NLRT.ToListAnnotationQueryStep(new NLRT.AnnotationsOnlyQueryStepInit(a.get_annotations()));case 31:return new NLRT.SubstringAnnotationQueryStep(new NLRT.StartAndCountOrLengthQueryStepInit(b,a));case 32:return new NLRT.ConcatAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 47:return new NLRT.LengthAnnotationQueryStep(new NLRT.AnnotationsOnlyQueryStepInit(a.get_annotations()));case 48:return new NLRT.ToCharListAnnotationQueryStep(new NLRT.AnnotationsOnlyQueryStepInit(a.get_annotations()));case 34:return new NLRT.AddAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 35:return new NLRT.SubtractAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 36:return new NLRT.MultiplyAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 37:return new NLRT.DivideAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 38:return new NLRT.ModuloAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 39:return new NLRT.ExpAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 40:return new NLRT.AndAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 41:return new NLRT.OrAnnotationQueryStep(new NLRT.SingleQueryQueryStepInit(b,a));case 42:return new NLRT.NotAnnotationQueryStep(new NLRT.AnnotationsOnlyQueryStepInit(a.get_annotations()));default:throw Error.argument("currStepInitData");}};NLRT.AnnotationQueryInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$5_0:0,get_incomingType:function(){return this.$5_0},set_incomingType:function(a){this.$5_0=a;return a},$s_0:0,get_returnType:function(){return this.$s_0},set_returnType:function(a){this.$s_0=a;return a},$39_0:false,get_supportsStore:function(){return this.$39_0},set_supportsStore:function(a){this.$39_0=a;return a},$2m_0:false,get_isContextFree:function(){return this.$2m_0},set_isContextFree:function(a){this.$2m_0=a;return a},$1u_0:null,get_firstStep:function(){return this.$1u_0},set_firstStep:function(a){this.$1u_0=a;return a}};NLRT.AnnotationQueryStoreContinuation=function(b,a){this.$3X_0=b;this.$3c_0=a};NLRT.AnnotationQueryStoreContinuation.prototype={$3X_0:null,get_continuationStep:function(){return this.$3X_0},set_continuationStep:function(a){this.$3X_0=a;return a},$3c_0:null,get_previousContinuation:function(){return this.$3c_0},set_previousContinuation:function(a){this.$3c_0=a;return a}};NLRT.Annotations=function(b,d){if(!b)throw Error.argumentNull("initData");if(!d)throw Error.argumentNull("objectFetcher");this.$4M_0=d.get_doubleID2DoubleValue();var a=0,o=d.getByteArray(b.get_item(a));++a;this.$2K_0=new NLRT.StringTable(new NLRT.StringTableInit(o));this.$1A_0=b.get_item(a);++a;this.$2E_0=new Array(this.$1A_0);this.$1g_0=new Array(this.$1A_0);this.$11_0=new Array(this.$1A_0);for(var g=0;g<this.$1A_0;++g){this.$2E_0[g]=d.getString(b.get_item(a));++a;this.$1g_0[g]=b.get_item(a);++a;var n=b.get_item(a);++a;this.$11_0[g]=new Array(n);for(var i=0;i<n;++i){this.$11_0[g][i]=d.getString(b.get_item(a));++a}}this.$17_0=b.get_item(a);++a;this.$2N_0=new Array(this.$17_0);this.$1i_0=new Array(this.$17_0);this.$2M_0=new Array(this.$17_0);this.$2L_0=new Array(this.$17_0);for(var c=0;c<this.$17_0;++c){this.$2N_0[c]=d.getString(b.get_item(a));++a;var h=b.get_item(a);++a;this.$1i_0[c]=new Array(h);this.$2M_0[c]=new Array(h);this.$2L_0[c]=new Array(h);for(var e=0;e<h;++e){this.$1i_0[c][e]=d.getString(b.get_item(a));++a;this.$2M_0[c][e]=b.get_item(a);++a;var j,k;this.$2L_0[c][e]=(k=this.deserializeValue(this.$2M_0[c][e],b,j={val:a},null,null,null),a=j.val,k);NLRT.Annotations.$1e(this.$2L_0[c][e])}}this.$w_0=b.get_item(a);++a;this.$3H_0=new Array(this.$w_0);this.$3I_0=new Array(this.$w_0);this.$3G_0=new Array(this.$w_0);for(var f=0;f<this.$w_0;++f){this.$3H_0[f]=d.getString(b.get_item(a));++a;this.$3I_0[f]=b.get_item(a);++a;var l,m;this.$3G_0[f]=(m=this.deserializeValue(this.$3I_0[f],b,l={val:a},null,null,null),a=l.val,m);NLRT.Annotations.$1e(this.$3G_0[f])}};NLRT.Annotations.typeIDIsEnumType=function(a){return(a&16383)>=16&&(a&16384)!==16384&&(a&32768)!==32768};NLRT.Annotations.typeIDIsStructType=function(a){return(a&16383)>=16&&(a&16384)===16384&&(a&32768)!==32768};NLRT.Annotations.typeIDIsListType=function(a){return(a&32768)===32768};NLRT.Annotations.getListTypeID=function(a){if(NLRT.Annotations.typeIDIsListType(a))throw Error.argument("nonListTypeID","Non-list type ID required");return a|32768};NLRT.Annotations.getMemberTypeID=function(a){if(!NLRT.Annotations.typeIDIsListType(a))throw Error.argument("listTypeID","List type ID required");return a&~32768};NLRT.Annotations.$19=function(c,a,b){switch(c){case 1:case 2:case 3:case 5:return a===b;case 9:return a.isEqual(b);default:return NLRT.Annotations.typeIDIsListType(c)?a.isEqual(b):NLRT.Annotations.typeIDIsEnumType(c)?a===b:a.isEqual(b)}};NLRT.Annotations.$1e=function(a){NLRT.IComplexAnnotationObject.isInstanceOfType(a)&&a.lockDown()};NLRT.Annotations.$Y=function(a){return NLRT.IComplexAnnotationObject.isInstanceOfType(a)?a.cloneIfReadOnly():a};NLRT.Annotations.$4G=function(a){return a-16};NLRT.Annotations.$2O=function(a){return(a&~16384)-16};NLRT.Annotations.get_firstStructID=function(){return 16400};NLRT.Annotations.get_firstEnumID=function(){return 16};NLRT.Annotations.prototype={getAttributeByName:function(b){for(var a=0;a<this.$w_0;++a)if(this.$3H_0[a]===b)return a;return-1},getAttributeName:function(a){if(!this.isValidAttributeID(a))throw Error.argument("attrID","Invalid attribute ID");return this.$3H_0[a]},getAttributeType:function(a){if(!this.isValidAttributeID(a))throw Error.argument("attrID","Invalid attribute ID");return this.$3I_0[a]},getEnumTypeByName:function(b){for(var a=0,c=this.$2E_0.length;a<c;++a)if(this.$2E_0[a]===b)return NLRT.Annotations.get_firstEnumID()+a;return 0},getStructTypeByName:function(b){for(var a=0,c=this.$2N_0.length;a<c;++a)if(this.$2N_0[a]===b)return NLRT.Annotations.get_firstStructID()+a;return 0},getStructFieldIndexByName:function(b,d){if(!this.isValidStructTypeID(b))throw Error.argument("structTypeID","Invalid struct type ID");for(var c=this.$1i_0[NLRT.Annotations.$2O(b)],a=0,e=c.length;a<e;++a)if(c[a]===d)return a;return-1},getStructFieldType:function(b,a){if(!this.isValidStructTypeID(b))throw Error.argument("structTypeID","Invalid struct type ID");var c=this.$2M_0[NLRT.Annotations.$2O(b)];if(a<0||a>=c.length)throw Error.argument("iField","Invalid field index");return c[a]},valueToString:function(c,a){if(!this.isValidTypeID(c))throw Error.argument("typeID","Invalid type ID");if(!this.isLegalValue(c,a))throw Error.argument("value","Value is not of the correct type");switch(c){case 1:return a;case 2:return a?"True":"False";case 3:case 5:return a.toString();case 9:return a.valueToString();default:if(NLRT.Annotations.typeIDIsListType(c))return a.valueToString();else if(NLRT.Annotations.typeIDIsEnumType(c)){var d=a,b=NLRT.Annotations.$4G(c),i=this.$11_0[b].length;switch(this.$1g_0[b]){case 0:return this.$11_0[b][d];case 1:if(!d)return this.$11_0[b][0];else{for(var e="",f=1;f<i;++f)if(d&1<<f-1){if(e.length>0)e+=" & ";e+=this.$11_0[b][f]}return e}case 2:for(var g="",h=0;h<i;++h)if(d&1<<h){if(g.length>0)g+=" & ";g+=this.$11_0[b][h]}return g;default:throw Error.invalidOperation("Unrecognized enum type flavor "+this.$1g_0[b]);}}else return a.valueToString()}},isValidTypeID:function(a){switch(a){case 1:case 2:case 3:case 5:case 9:return true;default:return NLRT.Annotations.typeIDIsListType(a)?this.isValidTypeID(NLRT.Annotations.getMemberTypeID(a)):NLRT.Annotations.typeIDIsEnumType(a)?this.isValidEnumTypeID(a):this.isValidStructTypeID(a)}},isValidEnumTypeID:function(b){var a=NLRT.Annotations.$4G(b);return a>=0&&a<this.$2E_0.length},isValidStructTypeID:function(b){var a=NLRT.Annotations.$2O(b);return a>=0&&a<this.$2N_0.length},isValidAttributeID:function(a){return a>=0&&a<this.$w_0},isLegalValue:function(b,a){if(a==null)return false;switch(b){case 1:return String.isInstanceOfType(a);case 2:return Boolean.isInstanceOfType(a);case 3:return Number.isInstanceOfType(a);case 5:return Number.isInstanceOfType(a);case 9:return NLRT.IFeatureBundle.isInstanceOfType(a);default:if(NLRT.Annotations.typeIDIsListType(b))return NLRT.IListValue.isInstanceOfType(a)&&a.get_memberTypeID()===NLRT.Annotations.getMemberTypeID(b);else if(NLRT.Annotations.typeIDIsEnumType(b)){if(!Number.isInstanceOfType(a))return false;var c=a,d=NLRT.Annotations.$4G(b),e=this.$11_0[d].length;switch(this.$1g_0[d]){case 0:return c>=0&&c<e;case 1:return!(c&-1<<e-1);case 2:return!!c&&!(c&-1<<e);default:throw Error.invalidOperation("Unrecognized enum type flavor "+this.$1g_0[d]);}}else return NLRT.IStructValue.isInstanceOfType(a)&&a.get_structTypeID()===b}},$w_0:0,get_attributeCount:function(){return this.$w_0},set_attributeCount:function(a){this.$w_0=a;return a},$1A_0:0,get_enumTypeCount:function(){return this.$1A_0},set_enumTypeCount:function(a){this.$1A_0=a;return a},$17_0:0,get_structTypeCount:function(){return this.$17_0},set_structTypeCount:function(a){this.$17_0=a;return a},getAttributeDefaultValue:function(a){if(!this.isValidAttributeID(a))throw Error.argument("attrID","Invalid attribute ID");return this.$3G_0[a]},getNumOfStructFields:function(a){if(!this.isValidStructTypeID(a))throw Error.argument("structTypeID","Invalid struct type ID");return this.$1i_0[NLRT.Annotations.$2O(a)].length},getStructFieldName:function(a,b){if(!this.isValidStructTypeID(a))throw Error.argument("structTypeID","Invalid struct type ID");return this.$1i_0[NLRT.Annotations.$2O(a)][b]},getStructFieldDefaultValue:function(b,a){if(!this.isValidStructTypeID(b))throw Error.argument("structTypeID","Invalid struct type ID");var c=this.$2L_0[NLRT.Annotations.$2O(b)];if(a<0||a>=c.length)throw Error.argument("iField","Invalid field index");return c[a]},deserializeValue:function(c,b,a,f,e,d){if(!b)throw Error.argumentNull("initData");if(NLRT.Annotations.typeIDIsListType(c)){var p=b.get_item(a.val);++a.val;for(var h=NLRT.Annotations.getMemberTypeID(c),i=new NLRT.ListValue(this,h),j=0;j<p;++j)Array.add(i.get_items(),this.deserializeValue(h,b,a,f,e,d));return i}else switch(c){case 1:return(f||this.$2K_0).getString(b.get_item(a.val++));case 2:return b.get_item(a.val++)===1;case 3:return b.get_item(a.val++);case 5:return(e||this.$4M_0)[b.get_item(a.val++)];case 9:for(var q=b.get_item(a.val++),k=new NLRT.FeatureBundle(this),l=0;l<q;++l){var g=b.get_item(a.val);++a.val;if(d)g=d[g];k.setAnnotation(g,this.deserializeValue(this.getAttributeType(g),b,a,f,e,d))}return k;default:if(NLRT.Annotations.typeIDIsEnumType(c))return b.get_item(a.val++);else if(NLRT.Annotations.typeIDIsStructType(c)){for(var r=b.get_item(a.val++),m=new NLRT.StructValue(this,c),n=0;n<r;++n){var o=b.get_item(a.val);++a.val;m.setFieldValue(o,this.deserializeValue(this.getStructFieldType(c,o),b,a,f,e,d))}return m}else throw Error.argument("typeID","Invalid type ID");}},$2K_0:null,$4M_0:null,$3H_0:null,$3I_0:null,$3G_0:null,$2E_0:null,$1g_0:null,$11_0:null,$2N_0:null,$2M_0:null,$1i_0:null,$2L_0:null};NLRT.FeatureBundle=function(a){if(!a)throw Error.argumentNull("annotations");this.$3_0=a;this.$G_0=new Array(0)};NLRT.FeatureBundle.$4H=function(a){return a.replace("\\","\\\\").replace("[","\\[").replace("]","\\]").replace(",","\\,")};NLRT.FeatureBundle.prototype={get_annotationsContext:function(){return this.$3_0},$E_0:false,get_isReadOnly:function(){return this.$E_0},set_isReadOnly:function(a){this.$E_0=a;return a},get_hasAnnotations:function(){return this.$G_0.length>0},tryGetAnnotation_Cast:function(b,c,e){if(!this.$3_0.isValidAttributeID(c))throw Error.argument("attributeID","Invalid attribute ID");for(var d=this.$G_0,g=d.length,a=0;a<g;++a){var f=d[a];if(c===f.$g_0){e.val=f.$4_0;return true}}e.val=b===Number||Type.isEnum(b)?0:b===Boolean?false:null;return false},setAnnotation:function(a,b){if(this.$E_0)throw Error.invalidOperation("Attempt to set annotation on read-only FeatureBundle");if(!this.$3_0.isValidAttributeID(a))throw Error.argument("attributeID","Invalid attribute ID");if(!this.$3_0.isLegalValue(this.$3_0.getAttributeType(a),b))throw Error.argument("value","Value is not of the correct type for the specified attribute");NLRT.Annotations.$1e(b);for(var c=0;c<this.$G_0.length;++c){var d=this.$G_0[c];if(a===d.$g_0){d.$4_0=b;return}}Array.add(this.$G_0,new NLRT.FeatureBundle.AttrValuePair(a,b))},removeAnnotation:function(b){if(this.$E_0)throw Error.invalidOperation("Attempt to remove annotation from read-only FeatureBundle");if(!this.$3_0.isValidAttributeID(b))throw Error.argument("attributeID","Invalid attribute ID");for(var a=0;a<this.$G_0.length;++a)if(b===this.$G_0[a].$g_0){Array.removeAt(this.$G_0,a);break}},forEachAnnotation:function(c){if(!c)throw Error.argumentNull("action");for(var b=this.$G_0,e=b.length,a=0;a<e;++a){var d=b[a];c(d.$g_0,d.$4_0)}},clone:function(){var a=new NLRT.FeatureBundle(this.$3_0);a.copyAnnotationsFrom(this);return a},copyAnnotationsFrom:function(a){if(this.$E_0)throw Error.invalidOperation("Attempt to copy annotations onto read-only FeatureBundle");if(!a)throw Error.argumentNull("other");if(a.get_annotationsContext()!==this.$3_0)throw Error.argument("other","Incompatible feature bundle");Array.clear(this.$G_0);var b=this;a.forEachAnnotation(function(a,c){b.setAnnotation(a,c)})},valueToString:function(){for(var a="[",e=true,d=this.$G_0,h=d.length,b=0;b<h;++b){var c=d[b];if(!e)a+=", ";else e=false;a+=this.$3_0.getAttributeName(c.$g_0);a+="=";var f=this.$3_0.getAttributeType(c.$g_0),g=this.$3_0.valueToString(f,c.$4_0);if(f===1){a+='"';a+=NLRT.FeatureBundle.$4H(g);a+='"'}else a+=g}a+="]";return a},isEqual:function(a){if(!a)throw Error.argumentNull("other");if(this===a)return true;if(!a||this.$3_0!==a.get_annotationsContext())return false;if(this.get_hasAnnotations()!==a.get_hasAnnotations())return false;var f=0,c=null,e=false,d=this;a.forEachAnnotation(function(g,h){++f;if(e)return;for(var b=-1,a=0,i=d.$G_0.length;a<i;++a)if(d.$G_0[a].$g_0===g){b=a;break}if(b<0)e=true;else{if(!c)c=new Array(d.$G_0.length);c[b]=h}});if(this.$G_0.length!==f||e)return false;for(var b=0,g=this.$G_0.length;b<g;++b)if(!NLRT.Annotations.$19(this.$3_0.getAttributeType(this.$G_0[b].$g_0),this.$G_0[b].$4_0,c[b]))return false;return true},cloneIfReadOnly:function(){return this.$E_0?this.clone():this},lockDown:function(){if(this.$E_0)return;this.$E_0=true;for(var b=this.$G_0,c=b.length,a=0;a<c;++a){var d=b[a];NLRT.Annotations.$1e(d.$4_0)}},toString:function(){return this.valueToString()},$3_0:null,$G_0:null};NLRT.FeatureBundle.AttrValuePair=function(a,b){this.$g_0=a;this.$4_0=b};NLRT.FeatureBundle.AttrValuePair.prototype={$g_0:0,get_attrId:function(){return this.$g_0},set_attrId:function(a){this.$g_0=a;return a},$4_0:null,get_value:function(){return this.$4_0},set_value:function(a){this.$4_0=a;return a}};NLRT.StructValue=function(b,a){if(!b)throw Error.argumentNull("annotations");if(!b.isValidStructTypeID(a))throw Error.argument("structTypeID","Invalid struct type ID");this.$3_0=b;this.$18_0=this.$3_0.getNumOfStructFields(a);this.$Z_0=a};NLRT.StructValue.prototype={get_annotationsContext:function(){return this.$3_0},$E_0:false,get_isReadOnly:function(){return this.$E_0},set_isReadOnly:function(a){this.$E_0=a;return a},$Z_0:0,get_structTypeID:function(){return this.$Z_0},set_structTypeID:function(a){this.$Z_0=a;return a},getFieldValue:function(a){if(a<0||a>=this.$18_0)throw Error.argument("iField","Invalid field index");return this.$L_0&&!(this.$L_0[a]==null)?this.$L_0[a]:this.$3_0.getStructFieldDefaultValue(this.$Z_0,a)},setFieldValue:function(a,b){if(this.$E_0)throw Error.invalidOperation("Attempt to set annotation on read-only StructValue");if(a<0||a>=this.$18_0)throw Error.argument("iField","Invalid field index");if(!this.$3_0.isLegalValue(this.$3_0.getStructFieldType(this.$Z_0,a),b))throw Error.argument("value","Value is not of the correct type for the specified field");(this.$L_0||(this.$L_0=new Array(this.$18_0)))[a]=b},valueToString:function(){var a="[";if(this.$L_0)for(var d=true,b=0;b<this.$18_0;++b){if(this.$L_0[b]==null)continue;var c=this.$3_0.getStructFieldType(this.$Z_0,b);if(NLRT.Annotations.$19(c,this.$L_0[b],this.$3_0.getStructFieldDefaultValue(this.$Z_0,b)))continue;if(!d)a+=", ";else d=false;a+=this.$3_0.getStructFieldName(this.$Z_0,b);a+="=";var e=this.$3_0.valueToString(c,this.$L_0[b]);if(c===1){a+='"';a+=NLRT.FeatureBundle.$4H(e);a+='"'}else a+=e}a+="]";return a},hasNonDefaultValueFor:function(a){if(a<0||a>=this.$18_0)throw Error.argument("iField","Invalid field index");return!this.$L_0||this.$L_0[a]==null?false:!NLRT.Annotations.$19(this.$3_0.getStructFieldType(this.$Z_0,a),this.$L_0[a],this.$3_0.getStructFieldDefaultValue(this.$Z_0,a))},isEqual:function(a){if(this===a)return true;if(!a||this.$3_0!==a.get_annotationsContext()||this.$Z_0!==a.get_structTypeID())return false;for(var b=0;b<this.$18_0;++b)if(!NLRT.Annotations.$19(this.$3_0.getStructFieldType(this.$Z_0,b),this.getFieldValue(b),a.getFieldValue(b)))return false;return true},clone:function(){var a=new NLRT.StructValue(this.$3_0,this.$Z_0);if(this.$L_0)a.$L_0=Array.clone(this.$L_0);return a},cloneIfReadOnly:function(){return this.$E_0?this.clone():this},lockDown:function(){if(this.$E_0)return;this.$E_0=true;if(this.$L_0)for(var a=0;a<this.$18_0;++a){var b=this.$L_0[a];!(b==null)&&NLRT.Annotations.$1e(b)}},toString:function(){return this.valueToString()},$3_0:null,$18_0:0,$L_0:null};NLRT.ListValue=function(b,a){if(!b)throw Error.argumentNull("annotations");if(!b.isValidTypeID(a))throw Error.argument("memberTypeID","Invalid type ID");if(NLRT.Annotations.typeIDIsListType(a))throw Error.argument("memberTypeID","Lists of lists are not permitted");this.$3_0=b;this.$14_0=a;this.$k_0=[]};NLRT.ListValue.prototype={get_annotationsContext:function(){return this.$3_0},$E_0:false,get_isReadOnly:function(){return this.$E_0},set_isReadOnly:function(a){this.$E_0=a;return a},$14_0:0,get_memberTypeID:function(){return this.$14_0},set_memberTypeID:function(a){this.$14_0=a;return a},$k_0:null,get_items:function(){return this.$k_0},set_items:function(a){this.$k_0=a;return a},valueToString:function(){for(var a="[",b=0,d=this.$k_0.length;b<d;++b){if(b>0)a+=", ";var c=this.$3_0.valueToString(this.$14_0,this.$k_0[b]);if(this.$14_0===1){a+='"';a+=NLRT.FeatureBundle.$4H(c);a+='"'}else a+=c}a+="]";return a},isEqual:function(a){if(this===a)return true;if(!a||a.get_annotationsContext()!==this.$3_0||a.get_memberTypeID()!==this.$14_0||a.get_items().length!==this.$k_0.length)return false;for(var b=0;b<this.$k_0.length;++b)if(!NLRT.Annotations.$19(this.$14_0,this.$k_0[b],a.get_items()[b]))return false;return true},clone:function(){var a=new NLRT.ListValue(this.$3_0,this.$14_0);Array.addRange(a.get_items(),this.$k_0);return a},cloneIfReadOnly:function(){return this.$E_0?this.clone():this},lockDown:function(){if(this.$E_0)return;this.$E_0=true;for(var b=this.$k_0,c=b.length,a=0;a<c;++a){var d=b[a];NLRT.Annotations.$1e(d)}},toString:function(){return this.valueToString()},$3_0:null};NLRT.SimpleNamedFeatureBundleResolver=function(a,b,c){this.getFeatureBundle=this.$5i_0;this.get_isReturningSingleMatchCapturesForSREs=this.get_$5j_0;this.get_attr_Capture_Matches=this.get_$5k_0;this.get_attr_Capture_FirstSpanIndex=this.get_$5l_0;this.get_attr_Capture_NumOfSpans=this.get_$5m_0;this.$4g_0=a;this.$3t_0=b;this.$n_0=c};NLRT.SimpleNamedFeatureBundleResolver.prototype={changeFeatureBundle:function(a){this.$3t_0=a},$5i_0:function(a){if(!a)throw Error.argument("name","Invalid named feature bundle reference");var b=a.charCodeAt(0),c=a.substr(1);return b===1&&c===this.$4g_0?this.$3t_0:!this.$n_0?null:this.$n_0.getFeatureBundle(a)},get_$5j_0:function(){return!this.$n_0?false:this.$n_0.get_isReturningSingleMatchCapturesForSREs()},get_$5k_0:function(){return!this.$n_0?-1:this.$n_0.get_attr_Capture_Matches()},get_$5l_0:function(){return!this.$n_0?-1:this.$n_0.get_attr_Capture_FirstSpanIndex()},get_$5m_0:function(){return!this.$n_0?-1:this.$n_0.get_attr_Capture_NumOfSpans()},$4g_0:null,$3t_0:null,$n_0:null};NLRT.AnnotationScript=function(a){this.$0_0=a};NLRT.AnnotationScript.prototype={execute:function(a,b){this.executeInternal(a,!a?b:new NLRT.SimpleNamedFeatureBundleResolver("root",a,b))},executeInternal:function(f,b){for(var c=this.$0_0.$1q_0,e=c.length,a=0;a<e;++a){var g=c[a],d;g.execute(f,d={val:b}),b=d.val}},$0_0:null};NLRT.AnnotationScriptInit=function(a,h){if(!a)return;var d=0,c=a.get_item(d);++d;if(!c)return;var i=d,e=d+c,f=d+2*c,j=a.get_count()-f;this.$1q_0=new Array(c);for(var b=0;b<c;++b){var k=f+a.get_item(e+b),l=(b===c-1?j:a.get_item(e+b+1))-a.get_item(e+b),g=new(NLRT.ReadOnlyList$1.$$(Number));g.fromReadOnlyList(a,k,l);this.$1q_0[b]=NLRT.AnnotationScriptInit.$5F(a.get_item(i+b),g,h)}};NLRT.AnnotationScriptInit.$5F=function(c,a,b){switch(c){case 1:return new NLRT.AssignAnnotationScriptCommand(new NLRT.LvalueAndRvalueQueryScriptCommandInit(a,b));case 2:return new NLRT.ModifyAnnotationScriptCommand(new NLRT.LvalueAndRvalueQueryScriptCommandInit(a,b));case 3:return new NLRT.RemoveAnnotationScriptCommand(new NLRT.RemoveScriptCommandInit(a,b));case 6:return new NLRT.NewAnnotationScriptCommand(new NLRT.NewScriptCommandInit(a,b));case 7:return new NLRT.EnumerateAnnotationScriptCommand(new NLRT.EnumerateScriptCommandInit(a,b));case 8:return new NLRT.IfAnnotationScriptCommand(new NLRT.IfScriptCommandInit(a,b));case 9:return new NLRT.CopyAnnotationScriptCommand(new NLRT.LvalueAndRvalueQueryScriptCommandInit(a,b));case 10:return new NLRT.ApplyAnnotationScriptCommand(new NLRT.ApplyScriptCommandInit(a,b));default:throw Error.argument("initData");}};NLRT.AnnotationScriptInit.prototype={$1q_0:null,get_commands:function(){return this.$1q_0},set_commands:function(a){this.$1q_0=a;return a}};NLRT.ErrorTolerantTrieMatch=function(c,d,a,b,e){this.$h_0=c;this.$V_0=d;this.$1C_0=a;this.$8_0=b;this.$P_0=e};NLRT.ErrorTolerantTrieMatch.prototype={$h_0:0,get_firstTrieId:function(){return this.$h_0},set_firstTrieId:function(a){this.$h_0=a;return a},$V_0:0,get_count:function(){return this.$V_0},set_count:function(a){this.$V_0=a;return a},$1C_0:false,get_firstStringMatchedExactly:function(){return this.$1C_0},set_firstStringMatchedExactly:function(a){this.$1C_0=a;return a},$8_0:0,get_editDistance:function(){return this.$8_0},set_editDistance:function(a){this.$8_0=a;return a},$P_0:0,get_depth:function(){return this.$P_0},set_depth:function(a){this.$P_0=a;return a}};NLRT.TrieBookmark=function(c,b,a,d){this.$F_0=c||new NLRT.Trie.TRIESCAN;this.$i_0=b;this.$8_0=a;this.$P_0=d};NLRT.TrieBookmark.prototype={$F_0:null,get_triescan:function(){return this.$F_0},set_triescan:function(a){this.$F_0=a;return a},$i_0:0,get_firstTrieID:function(){return this.$i_0},set_firstTrieID:function(a){this.$i_0=a;return a},$8_0:0,get_editDistance:function(){return this.$8_0},set_editDistance:function(a){this.$8_0=a;return a},$P_0:0,get_depth:function(){return this.$P_0},set_depth:function(a){this.$P_0=a;return a},getKey:function(){return this.$F_0.iNode.toString()+":"+this.$i_0.toString()}};NLRT.ErrorTolerantTrieLookupEngine=function(b,a){this.$o_0=b;this.$3P_0=a};NLRT.ErrorTolerantTrieLookupEngine.$41=function(a,c){var b=a.getKey();if(b in c){var d=c[b];d.$8_0=Math.min(d.$8_0,a.$8_0)}else c[b]=new NLRT.TrieBookmark(NLRT.Trie.$4F(a.$F_0),a.$i_0,a.$8_0,a.$P_0)};NLRT.ErrorTolerantTrieLookupEngine.$4z=function(d,e,i){var b=e[d],a=b.$h_0,g=a+b.$V_0,c=1,h=b.$1C_0;while(d+c<e.length&&e[d+c].$h_0<g){var f=e[d+c];if(f.$h_0>a){Array.add(i,new NLRT.ErrorTolerantTrieMatch(a,f.$h_0-a,h,b.$8_0,b.$P_0));h=false}c+=NLRT.ErrorTolerantTrieLookupEngine.$4z(d+c,e,i);a=f.$h_0+f.$V_0}a<g&&Array.add(i,new NLRT.ErrorTolerantTrieMatch(a,g-a,h,b.$8_0,b.$P_0));return c};NLRT.ErrorTolerantTrieLookupEngine.prototype={lookUp:function(b){if(b==null)throw Error.argumentNull("prefix");var a={},g=a[""]=new NLRT.TrieBookmark(null,0,0,0);this.$3k_0(g,a);for(var c=0;c<b.length;++c){var h=b.charCodeAt(c),f={},d=a;for(var e in d){var i={key:e,value:d[e]};this.$54_0(h,i.value,f)}a=f}return this.$5b_0(a)},$3k_0:function(b,d){if(b.$8_0>=this.$3P_0)return;var a=new NLRT.TrieBookmark(NLRT.Trie.$4F(b.$F_0),b.$i_0,b.$8_0+1,b.$P_0);if(a.$F_0.wFlags&1)++a.$i_0;if(this.$o_0.$1j_0(a.$F_0)){++a.$P_0;var c=true;while(c){NLRT.ErrorTolerantTrieLookupEngine.$41(a,d);this.$3k_0(a,d);a.$i_0+=this.$o_0.$2B_0(a.$F_0,true)+(a.$F_0.wFlags&1?1:0);c=this.$o_0.$3U_0(a.$F_0)}}},$54_0:function(d,a,b){if(a.$8_0+1<=this.$3P_0){++a.$8_0;NLRT.ErrorTolerantTrieLookupEngine.$41(a,b);--a.$8_0}if(a.$F_0.wFlags&1)++a.$i_0;if(this.$o_0.$1j_0(a.$F_0)){++a.$P_0;var c=true;while(c){if(a.$F_0.wch===d){NLRT.ErrorTolerantTrieLookupEngine.$41(a,b);this.$3k_0(a,b)}else if(a.$8_0+1<=this.$3P_0){++a.$8_0;NLRT.ErrorTolerantTrieLookupEngine.$41(a,b);this.$3k_0(a,b);--a.$8_0}a.$i_0+=this.$o_0.$2B_0(a.$F_0,true)+(a.$F_0.wFlags&1?1:0);c=this.$o_0.$3U_0(a.$F_0)}}},$5b_0:function(j){var a=[],d=j;for(var e in d){var h={key:e,value:d[e]},b=h.value;if(!b.$F_0.iNode)continue;var g=!!(b.$F_0.wFlags&1),i=this.$o_0.$2B_0(b.$F_0,false)+(g?1:0);Array.add(a,new NLRT.ErrorTolerantTrieMatch(b.$i_0,i,g,b.$8_0,b.$P_0))}var k=this;a.sort(function(b,c){var a=b.$h_0-c.$h_0;if(a)return a;a=-(b.$V_0-c.$V_0);if(a)return a;a=b.$P_0-c.$P_0;return a});if(a.length<2)return a;for(var f=[],c=0;c<a.length;)c+=NLRT.ErrorTolerantTrieLookupEngine.$4z(c,a,f);return f},$o_0:null,$3P_0:0};NLRT.FilterFactory=function(){};NLRT.FilterFactory.prototype={getFilter:function(c,b){var d=c.get_item(0),a=new(NLRT.ReadOnlyList$1.$$(Number));a.fromReadOnlyList(c,1,c.get_count()-1);switch(d){case 1:return new NLRT.NonterminalFilter(new NLRT.NonterminalFilterInit(a,b),0);case 2:return new NLRT.NonterminalFilter(new NLRT.NonterminalFilterInit(a,b),1);case 3:return new NLRT.NonterminalFilter(new NLRT.NonterminalFilterInit(a,b),2);case 101:return new NLRT.RegexStringFilter(new NLRT.RegexStringFilterInit(a,b));case 103:return new NLRT.QueryStringFilter(new NLRT.QueryStringFilterInit(a,b),0);case 104:return new NLRT.QueryStringFilter(new NLRT.QueryStringFilterInit(a,b),1);case 105:return new NLRT.QueryStringFilter(new NLRT.QueryStringFilterInit(a,b),2);case 106:return new NLRT.QueryStringFilter(new NLRT.QueryStringFilterInit(a,b),3);case 107:return new NLRT.QueryStringFilter(new NLRT.QueryStringFilterInit(a,b),4);case 108:return new NLRT.QueryStringFilter(new NLRT.QueryStringFilterInit(a,b),5);case 109:return new NLRT.QueryStringFilter(new NLRT.QueryStringFilterInit(a,b),6);case 201:return new NLRT.StoredValueBooleanFilter(new NLRT.StoredValueBooleanFilterInit(a));case 202:return new NLRT.QueryBooleanFilter(new NLRT.SingleQueryFilterInit(a,b));case 301:return new NLRT.NumberFilter(new NLRT.NumberFilterInit(a,b),0);case 302:return new NLRT.NumberFilter(new NLRT.NumberFilterInit(a,b),1);case 303:return new NLRT.NumberFilter(new NLRT.NumberFilterInit(a,b),2);case 304:return new NLRT.NumberFilter(new NLRT.NumberFilterInit(a,b),3);case 305:return new NLRT.NumberFilter(new NLRT.NumberFilterInit(a,b),4);case 401:return new NLRT.StoredValueEnumFilter(new NLRT.StoredValueEnumFilterInit(a),0);case 402:return new NLRT.StoredValueEnumFilter(new NLRT.StoredValueEnumFilterInit(a),1);case 403:return new NLRT.StoredValueEnumFilter(new NLRT.StoredValueEnumFilterInit(a),2);case 404:return new NLRT.QueryEnumFilter(new NLRT.QueryEnumFilterInit(a,b),0);case 405:return new NLRT.QueryEnumFilter(new NLRT.QueryEnumFilterInit(a,b),1);case 406:return new NLRT.QueryEnumFilter(new NLRT.QueryEnumFilterInit(a,b),2);case 407:return new NLRT.QueryEnumFilter(new NLRT.QueryEnumFilterInit(a,b),3);case 501:return new NLRT.FieldValueMatchesStructFilter(new NLRT.FieldValueMatchesStructFilterInit(a,b));case 502:return new NLRT.QueryStructFilter(new NLRT.SingleQueryFilterInit(a,b));case 601:return new NLRT.ItemTestListFilter(new NLRT.SingleFilterFilterInit(a,b),0);case 602:return new NLRT.ItemTestListFilter(new NLRT.SingleFilterFilterInit(a,b),1);case 603:return new NLRT.LengthMatchesListFilter(new NLRT.SingleFilterFilterInit(a,b));case 604:return new NLRT.QueryListFilter(new NLRT.SingleQueryFilterInit(a,b),0);case 605:return new NLRT.QueryListFilter(new NLRT.SingleQueryFilterInit(a,b),1);case 606:return new NLRT.QueryListFilter(new NLRT.SingleQueryFilterInit(a,b),2);case 607:return new NLRT.QueryListFilter(new NLRT.SingleQueryFilterInit(a,b),3);case 701:return new NLRT.HasAnnotationsAnnotationFilter(false);case 702:return new NLRT.HasAnnotationsAnnotationFilter(true);case 703:return new NLRT.AnnotatedWithAnnotationFilter(new NLRT.ValueFilterAnnotationFilterInit(a,b),false);case 704:return new NLRT.AnnotatedWithAnnotationFilter(new NLRT.ValueFilterAnnotationFilterInit(a,b),true);case 705:return new NLRT.AnnotatedWithAndValueMatchesAnnotationFilter(new NLRT.ValueFilterAnnotationFilterInit(a,b),false);case 706:return new NLRT.AnnotatedWithAndValueMatchesAnnotationFilter(new NLRT.ValueFilterAnnotationFilterInit(a,b),true);case 707:return new NLRT.PredicateAnnotationFilter(new NLRT.PredicateAnnotationFilterInit(a,b));case 901:return new NLRT.TextSpanFilter(new NLRT.TextSpanFilterInit(a,b));case 1002:return new NLRT.QueryWhereConstraintFilter(new NLRT.SingleQueryFilterInit(a,b));case 1001:return new NLRT.SubSreWhereConstraintFilter(new NLRT.SubSreWhereConstraintFilterInit(a,b));default:throw Error.argument("initData");}}};NLRT.RawFlatLexicon=function(d,b){var c=0;try{this.$3_0=b.get_annotations();var e=b.getByteArray(d.get_item(c));++c;var a=new NLRT.ByteArrayReader(e);if(a.readInt32()!==-914743053)throw Error.argument("Input does not represent a flat lexicon");this.$4R_0=a.readInt32()===1;this.$4T_0=a.readInt32()===1;var f=a.readInt32();a.$J_0+=f;var g=a.readInt32();this.$3m_0=NLRT.RawFlatLexicon.$5N(a,g,this.$3_0);var h=a.readInt32();this.$4P_0=NLRT.RawFlatLexicon.$5P(a,h);var i=a.readInt32();this.$o_0=new NLRT.Trie(a.$1M_0,a.$J_0);a.$J_0+=i}catch(j){throw Error.argument("initData");}};NLRT.RawFlatLexicon.$5N=function(b,c,j){if(c%4)throw Error.argument("reader");var h=c/4,f=NLRT.ReadOnlyListOverByteArray.createFromByteArray(b.$1M_0,b.$J_0,h);b.$J_0+=c;var g=[],a=0;while(a<f.get_count()){var d,e,i=(e=j.deserializeValue(9,f,d={val:a},null,null,null),a=d.val,e);Array.add(g,i)}return g};NLRT.RawFlatLexicon.$5P=function(a,h){var f=a.$J_0+h,c=[];while(a.$J_0<f){for(var d=a.readInt32(),e=new Array(d),b=0;b<d;++b){var g=a.readInt32();e[b]=g}Array.add(c,e)}return c};NLRT.RawFlatLexicon.prototype={get_trie:function(){return this.$o_0},getCaseInsensitiveForm:function(a){return a==="i"&&this.$4T_0?"\u0130":a.toUpperCase()},isCaseInsensitive:function(){return this.$4R_0},getAnalysesForTrieTag:function(a,b){b.val=new NLRT.ListValue(this.$3_0,9);if(a!==1)if(!a){var g=new NLRT.FeatureBundle(this.$3_0);Array.add(b.val.get_items(),g)}else if(!(a&1073741824)){var h=this.$3m_0[a-2];Array.add(b.val.get_items(),h)}else for(var i=a&~1073741824,e=this.$4P_0[i],c=0;c<e.length;++c){var f=e[c],d;if(!f)d=new NLRT.FeatureBundle(this.$3_0);else d=this.$3m_0[f-2];Array.add(b.val.get_items(),d)}return true},$4R_0:false,$4T_0:false,$4P_0:null,$3m_0:null,$o_0:null,$3_0:null};NLRT.ObjectFetcher=function(a,b,c){this.$6_0=a;this.$4S_0=b;this.$4f_0=c;this.$3u_0=new Array(!a.b?0:a.b.length);this.$2K_0=new NLRT.StringTable(new NLRT.StringTableInit(this.getByteArray(this.$6_0.s)));this.$M_0=new Array(a.t.length);this.$1_0=new NLRT.Annotations(this.$1N_0(0),this)};NLRT.ObjectFetcher.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},get_doubleID2DoubleValue:function(){return this.$6_0.d},getModuleByName:function(a){if(!(a in this.$6_0.m))throw Error.argument("name","Unrecognized module");return this.getModule(this.$6_0.m[a])},getByteArray:function(a){if(a<0||!this.$6_0.b||a>=this.$6_0.b.length)throw Error.argumentOutOfRange("byteArrayID");return this.$3u_0[a]||(this.$3u_0[a]=new NLRT.ByteArray(this.$6_0.b[a]))},getString:function(a){if(a<1||a>=this.$6_0.t.length)throw Error.argumentOutOfRange("blobID");if(this.$6_0.t[a]!==1)throw Error.argument("blobID","Requested blob is not a string");if(this.$M_0[a]==null){var b=this.$1N_0(a),c=b.get_item(0);this.$M_0[a]=this.$2K_0.getString(c)}return this.$M_0[a]},getRegex:function(a){if(a<1||a>=this.$6_0.t.length)throw Error.argumentOutOfRange("blobID");if(this.$6_0.t[a]!==2)throw Error.argument("blobID","Requested blob is not a Regex");if(!this.$M_0[a]){var b=this.$1N_0(a),c=this.getString(b.get_item(0)),d=b.get_item(1)===1;this.$M_0[a]=new RegExp(c,d?"i":"")}return this.$M_0[a]},getSRE:function(a){if(a<1||a>=this.$6_0.t.length)throw Error.argumentOutOfRange("blobID");if(this.$6_0.t[a]!==3)throw Error.argument("blobID","Requested blob is not an SRE");throw Error.notImplemented();},getModule:function(a){if(a<1||a>=this.$6_0.t.length)throw Error.argumentOutOfRange("blobID");if(this.$6_0.t[a]!==4)throw Error.argument("blobID","Requested blob is not an NL module");return this.$M_0[a]||(this.$M_0[a]=this.$4f_0.getNLModule(this.$1N_0(a),this))},getAnnotationQuery:function(a){if(a<1||a>=this.$6_0.t.length)throw Error.argumentOutOfRange("blobID");if(this.$6_0.t[a]!==5)throw Error.argument("blobID","Requested blob is not an annotation query");return this.$M_0[a]||(this.$M_0[a]=new NLRT.AnnotationQuery(new NLRT.AnnotationQueryInit(this.$1N_0(a),this)))},getAnnotationScript:function(a){if(a<1||a>=this.$6_0.t.length)throw Error.argumentOutOfRange("blobID");if(this.$6_0.t[a]!==6)throw Error.argument("blobID","Requested blob is not an annotation script");return this.$M_0[a]||(this.$M_0[a]=new NLRT.AnnotationScript(new NLRT.AnnotationScriptInit(this.$1N_0(a),this)))},getFilter:function(a){if(a<1||a>=this.$6_0.t.length)throw Error.argumentOutOfRange("blobID");if(this.$6_0.t[a]!==7)throw Error.argument("blobID","Requested blob is not a filter");return this.$M_0[a]||(this.$M_0[a]=this.$4S_0.getFilter(this.$1N_0(a),this))},getRawFlatLexicon:function(a){if(a<1||a>=this.$6_0.t.length)throw Error.argumentOutOfRange("blobID");if(this.$6_0.t[a]!==10)throw Error.argument("blobID","Requested blob is not a raw flat lexicon");return this.$M_0[a]||(this.$M_0[a]=new NLRT.RawFlatLexicon(this.$1N_0(a),this))},$1N_0:function(c){var a=this.$6_0.n[c],e=c<this.$6_0.t.length-1?this.$6_0.n[c+1]:this.$6_0.n.length,b=e-a;if(a<0||b<0||a+b>this.$6_0.n.length)throw Error.invalidOperation("Resource contains illegal int array range ("+a+","+b+")");var d=new(NLRT.ReadOnlyList$1.$$(Number));d.fromArray(this.$6_0.n,a,b);return d},$6_0:null,$2K_0:null,$4S_0:null,$4f_0:null,$M_0:null,$3u_0:null};NLRT.REMatch=function(b,a,c){this.$36_0=b;this.$W_0=a;this.$m_0=c};NLRT.REMatch.prototype={$W_0:0,get_firstSpanIndex:function(){return this.$W_0},set_firstSpanIndex:function(a){this.$W_0=a;return a},$m_0:0,get_spanCount:function(){return this.$m_0},set_spanCount:function(a){this.$m_0=a;return a},$3W_0:null,get_captures:function(){return this.$3W_0},set_captures:function(a){this.$3W_0=a;return a},$36_0:null,get_sreInputManager:function(){return this.$36_0},set_sreInputManager:function(a){this.$36_0=a;return a}};NLRT.CaptureRec=function(b,a,c,d,e){this.$q_0=b;this.$W_0=d.$W_0+a;this.$m_0=c;this.$l_0=e};NLRT.CaptureRec.prototype={$q_0:null,get_name:function(){return this.$q_0},set_name:function(a){this.$q_0=a;return a},$W_0:0,get_firstSpanIndex:function(){return this.$W_0},set_firstSpanIndex:function(a){this.$W_0=a;return a},$m_0:0,get_spanCount:function(){return this.$m_0},set_spanCount:function(a){this.$m_0=a;return a},$l_0:null,get_next:function(){return this.$l_0},set_next:function(a){this.$l_0=a;return a}};NLRT.SpanRegularExpression=function(){};NLRT.SpanRegularExpression.prototype={get_minMatchLength:function(){throw Error.notImplemented();},get_maxMatchLength:function(){throw Error.notImplemented();},getNextMatch:function(){throw Error.notImplemented();}};NLRT.SpanRegularExpression.WHEREConstraintData=function(){};NLRT.SpanRegularExpression.WHEREConstraintData.prototype={$3Y_0:null,get_parentMatch:function(){return this.$3Y_0},set_parentMatch:function(a){this.$3Y_0=a;return a},$x_0:0,get_iFirstSpanInWindow:function(){return this.$x_0},set_iFirstSpanInWindow:function(a){this.$x_0=a;return a},$1r_0:0,get_cTotalSpansInWindow:function(){return this.$1r_0},set_cTotalSpansInWindow:function(a){this.$1r_0=a;return a}};NLRT.StringTable=function(a){this.$0_0=a};NLRT.StringTable.prototype={get_numOfStrings:function(){return this.$0_0.$r_0},get_supportsIdLookupGivenString:function(){return this.$0_0.$b_0!==4},get_supportsStringLookupGivenId:function(){return true},get_trie:function(){return this.$0_0.$1I_0},getId:function(b,a){if(!this.get_supportsIdLookupGivenString())throw Error.invalidOperation("ID lookup not supported on this string table");switch(this.$0_0.$b_0){case 0:return this.$5E_0(b,a);default:throw Error.notImplemented();}},getString:function(a){if(!this.get_supportsStringLookupGivenId())throw Error.invalidOperation("String lookup not supported on this string table");if(a<0||a>=this.get_numOfStrings())throw Error.argumentOutOfRange("id","Invalid string ID");switch(this.$0_0.$b_0){case 0:return this.$5I_0(a);case 4:return this.$5H_0(a);default:throw Error.notImplemented();}},$5E_0:function(b,c){var a=this.$0_0.$1I_0.lookUpString(b,0,b.length,c);if(!a.succeeded)return-1;if(a.trieId<0||a.trieId>=this.$0_0.$r_0)throw Error.invalidOperation("Trie with invalid trie ID in StringTable");return!this.$0_0.$1J_0?a.trieId:this.$0_0.$15_0.readInt(this.$0_0.$1J_0+a.trieId*4,4)},$5I_0:function(b){if(!this.$0_0.$1J_0)return this.$0_0.$1I_0.getStringForTrieId(b);else{for(var a=0;a<this.$0_0.$r_0;++a)if(this.$0_0.$15_0.readInt(this.$0_0.$1J_0+a*4,4)===b)break;if(a>=this.$0_0.$r_0)throw Error.invalidOperation("Malformed TrieId2StringTableId in StringTable");return this.$0_0.$1I_0.getStringForTrieId(a)}},$5H_0:function(g){var a=this.$0_0.$15_0.readInt(this.$0_0.$37_0+g*4,4),b=this.$0_0.$15_0.readInt(this.$0_0.$38_0+g*4,4);if(b<0||a<0)throw Error.invalidOperation("Hash table string invalid byte range in StringTable");for(var f=new Array(a),c=0;c<a;++c){var d,e;f[c]=(e=this.$5V_0(d={val:b}),b=d.val,e)}return String.fromCharCode.apply(null,f)},$5V_0:function(d){for(var b=0,a=0;a<3;++a){var c=this.$0_0.$15_0.get_item(this.$0_0.$2Z_0+d.val)^182;++d.val;b|=(c&127)<<7*a;if(!(c&128))break}return b},$0_0:null};NLRT.StringTableInit=function(b){if(!b)return;this.$15_0=b;var a=0;if(b.readInt(a,4)!==1025118440)throw Error.argument("bytes","Input does not represent a string table");a+=4;this.$r_0=b.readInt(a,4);a+=4;this.$b_0=b.readInt(a,4);a+=4;switch(this.$b_0){case 0:var c=b.readInt(a,4)===1;a+=4;if(!c){this.$1J_0=a;a+=this.$r_0*4}var d=b.readInt(a,4);a+=4;this.$1I_0=this.parseTrie(b,a);a+=d;break;case 4:this.$38_0=a;a+=this.$r_0*4;this.$37_0=a;a+=this.$r_0*4;this.$2w_0=b.readInt(a,4);a+=4;this.$2Z_0=a;a+=this.$2w_0;break;default:throw Error.argument("bytes");}};NLRT.StringTableInit.prototype={$r_0:0,get_numOfStrings:function(){return this.$r_0},set_numOfStrings:function(a){this.$r_0=a;return a},$b_0:0,get_style:function(){return this.$b_0},set_style:function(a){this.$b_0=a;return a},$15_0:null,get_rawBytes:function(){return this.$15_0},set_rawBytes:function(a){this.$15_0=a;return a},$1I_0:null,get_trie:function(){return this.$1I_0},set_trie:function(a){this.$1I_0=a;return a},$1J_0:0,get_trieId2StringTableId_StartIndex:function(){return this.$1J_0},set_trieId2StringTableId_StartIndex:function(a){this.$1J_0=a;return a},$38_0:0,get_stringId2StringStartIndex_StartIndex:function(){return this.$38_0},set_stringId2StringStartIndex_StartIndex:function(a){this.$38_0=a;return a},$37_0:0,get_stringId2StringLength_StartIndex:function(){return this.$37_0},set_stringId2StringLength_StartIndex:function(a){this.$37_0=a;return a},$2w_0:0,get_numOfBytesInCharByteData:function(){return this.$2w_0},set_numOfBytesInCharByteData:function(a){this.$2w_0=a;return a},$2Z_0:0,get_charByteData_StartIndex:function(){return this.$2Z_0},set_charByteData_StartIndex:function(a){this.$2Z_0=a;return a},parseTrie:function(b,a){return new NLRT.Trie(b,a)}};NLRT.TrieResult=function(a){this.nextShorterResult=a;this.succeeded=false;this.trieId=!a?0:a.trieId;this.isTagged=false;this.tagValue=0;this.length=0};NLRT.TrieResult.prototype={nextShorterResult:null,succeeded:false,trieId:0,isTagged:false,tagValue:0,length:0};NLRT.Trie=function(c,e){this.$7_0=c;var b=e;if(c.readInt(b,4)!==1654263084)throw Error.argument("Input does not represent a trie");b+=4;this.$3s_0=c.readInt(b,4)===1;b+=4;this.$4Q_0=c.readInt(b,4)===1;b+=4;this.$4N_0=c.readInt(b,4);b+=4;var f=c.readInt(b,4);b+=4;if(!f)this.$N_0=null;else{var d=b;this.$N_0=this.$5W_0(d);var a=d+48;this.$4V_0=a;a+=2*(this.$N_0.cCharFlagsCodesMax+(this.$N_0.cCharFlagsCodesMax%2?1:0));this.$4d_0=a;a+=2*(this.$N_0.cTagsCodesMax+(this.$N_0.cTagsCodesMax%2?1:0));this.$4Z_0=a;a+=2*(this.$N_0.cMRPointersCodesMax+(this.$N_0.cMRPointersCodesMax%2?1:0));this.$4b_0=a;a+=2*(this.$N_0.cSROffsetsCodesMax+(this.$N_0.cSROffsetsCodesMax%2?1:0));this.$4U_0=a;a+=4*this.$N_0.cUniqueCharFlags;this.$4c_0=a;a+=4*this.$N_0.cUniqueTags;this.$4Y_0=a;a+=4*this.$N_0.cUniqueMRPointers;this.$4a_0=a;a+=4*this.$N_0.cUniqueSROffsets;if(a!==d+this.$N_0.cbHeader)throw Error.argument("Corrupted trie binary");this.$3O_0=a}};NLRT.Trie.$4F=function(b){var a=new NLRT.Trie.TRIESCAN;a.wch=b.wch;a.wFlags=b.wFlags;a.cWords=b.cWords;a.iNode=b.iNode;a.iDown=b.iDown;a.iSRDown=b.iSRDown;a.tagData=b.tagData;return a};NLRT.Trie.prototype={lookUpString:function(e,d,c,b){var a=new NLRT.Trie.LookUpStringVisitor(e,d,c);this.visitPrefixes(a,b);return a.$12_0},getStringForTrieId:function(b){if(this.$3s_0)if(!b)return"";else--b;if(!this.$N_0)throw Error.argument("Invalid trieID");var a=new NLRT.Trie.TRIESCAN;a.wFlags=0;this.$1j_0(a);var c=[];while(true){if(a.wFlags&1)if(!b){Array.add(c,a.wch);return String.fromCharCode.apply(null,c)}else--b;var e=!!(a.wFlags&2),d=this.$2B_0(a,true);if(e||b<d){Array.add(c,a.wch);if(!this.$1j_0(a))throw Error.argument("Invalid trieID");}else{b-=d;if(!this.$3U_0(a))throw Error.argument("Invalid trieID");}}},visitPrefixes:function(d,e){var c=0;if(this.$3s_0){d.registerTrieEnding(this.$4Q_0,this.$4N_0,0);++c}if(!this.$N_0)return;var a=new NLRT.Trie.TRIESCAN;a.wFlags=0;if(!this.$1j_0(a))return;while(true){var b,f,g;if(!(g=d.getNextChar(f={val:b}),b=f.val,g))return;if(e)b=e(b);var j=b.toString().charCodeAt(0),h=false;while(!h){var i=!!(a.wFlags&1);if(a.wch===j){h=true;i&&d.registerTrieEnding(!!(a.wFlags&8),a.tagData,c);if(!this.$1j_0(a))return}else{c+=this.$2B_0(a,true);if(!this.$3U_0(a))return}if(i)++c}}},$1j_0:function(a){if(!a.wFlags){this.$4i_0(a);return true}if(!(a.wFlags&16))return false;a.iSRDown=0;a.iNode=a.iDown;this.$4i_0(a);return true},$3U_0:function(a){if(a.wFlags&2)return false;this.$4i_0(a);return true},$2B_0:function(a,b){return a.wFlags&4?a.cWords:!(a.wFlags&16)?0:b||!(a.wFlags&2)?1:this.$5D_0(a)},$5D_0:function(a){a=NLRT.Trie.$4F(a);if(!this.$1j_0(a))return 0;var b=0;do{if(a.wFlags&1)++b;b+=this.$2B_0(a,false)}while(this.$3U_0(a));return b},$4i_0:function(a){if(!a.wFlags){a.iSRDown=0;a.iNode=this.$3O_0}var b=this.$3h_0(this.$4V_0,a.iNode),g=b.symbol;a.iNode+=b.numOfBytes;var c=this.$7_0.readInt(this.$4U_0+4*g,4);a.wch=c&65535;a.wFlags=c>>16;if(a.wFlags&4)a.cWords=this.$5A_0(a);if(a.wFlags&8){var d=this.$3h_0(this.$4d_0,a.iNode),h=d.symbol;a.iNode+=d.numOfBytes;a.tagData=this.$7_0.readInt(this.$4c_0+4*h,4)}if(a.wFlags&256){a.iDown=this.$3O_0+((this.$7_0.get_item(a.iNode)<<8|this.$7_0.get_item(a.iNode+1))<<8|this.$7_0.get_item(a.iNode+2));a.iNode+=3}else if(a.wFlags&64){a.iDown=a.iNode;a.iSRDown=a.iDown}else if(a.wFlags&128){var e=this.$3h_0(this.$4Z_0,a.iNode),i=e.symbol;a.iNode+=e.numOfBytes;a.iDown=this.$3O_0+this.$7_0.readInt(this.$4Y_0+4*i,4)}else if(a.wFlags&16){var f=this.$3h_0(this.$4b_0,a.iNode),j=f.symbol;a.iNode+=f.numOfBytes;if(!a.iSRDown)a.iSRDown=a.iNode;a.iSRDown+=this.$7_0.readInt(this.$4a_0+4*j,4);a.iDown=a.iSRDown}},$3h_0:function(d,e){var b=new NLRT.Trie.TrieSymbol,a=0;while(true){a+=this.$7_0.get_item(e);++e;++b.numOfBytes;var c=this.$7_0.readInt(d,2);if(a<c)break;b.symbol+=c;a-=c;d+=2;a<<=8}b.symbol+=a;return b},$5A_0:function(b){var a=this.$7_0.get_item(b.iNode);if(a>=192){a=(a&63)<<15;a|=(this.$7_0.get_item(b.iNode+1)&127)<<8;a|=this.$7_0.get_item(b.iNode+2);b.iNode+=3}else if(a>=128){a=(a&127)<<8;a|=this.$7_0.get_item(b.iNode+1);b.iNode+=2}else b.iNode+=1;return a},$5W_0:function(b){var a=new NLRT.Trie.TRIESTATS;a.cCharFlagsCodesMax=this.$7_0.readInt(b+12,2);a.cTagsCodesMax=this.$7_0.readInt(b+14,2);a.cMRPointersCodesMax=this.$7_0.readInt(b+16,2);a.cSROffsetsCodesMax=this.$7_0.readInt(b+18,2);a.cUniqueSROffsets=this.$7_0.readInt(b+24,4);a.cUniqueCharFlags=this.$7_0.readInt(b+28,4);a.cUniqueTags=this.$7_0.readInt(b+32,4);a.cUniqueMRPointers=this.$7_0.readInt(b+36,4);a.cbHeader=this.$7_0.readInt(b+40,4);return a},$7_0:null,$3s_0:false,$4Q_0:false,$4N_0:0,$N_0:null,$4V_0:0,$4d_0:0,$4Z_0:0,$4b_0:0,$4U_0:0,$4c_0:0,$4Y_0:0,$4a_0:0,$3O_0:0};NLRT.Trie.LookUpStringVisitor=function(b,a,c){this.$12_0=new NLRT.TrieResult(null);this.$4e_0=b;this.$1h_0=a;this.$3r_0=a+c-1};NLRT.Trie.LookUpStringVisitor.prototype={get_result:function(){return this.$12_0},getNextChar:function(a){if(this.$1h_0<=this.$3r_0){a.val=this.$4e_0.charAt(this.$1h_0);++this.$1h_0;return true}else{a.val="\0";return false}},registerTrieEnding:function(a,b,c){if(a){this.$12_0.isTagged=true;this.$12_0.tagValue=b}this.$12_0.length=this.$1h_0;this.$12_0.succeeded=true;this.$12_0.trieId=c;if(this.$1h_0!==this.$3r_0+1)this.$12_0=new NLRT.TrieResult(this.$12_0)},$4e_0:null,$1h_0:0,$3r_0:0};NLRT.Trie.TrieSymbol=function(){this.numOfBytes=0;this.symbol=0};NLRT.Trie.TrieSymbol.prototype={numOfBytes:0,symbol:0};NLRT.Trie.TRIESCAN=function(){};NLRT.Trie.TRIESCAN.prototype={wch:0,wFlags:0,cWords:0,iNode:0,iDown:0,iSRDown:0,tagData:0};NLRT.Trie.TRIESTATS=function(){};NLRT.Trie.TRIESTATS.prototype={cCharFlagsCodesMax:0,cTagsCodesMax:0,cMRPointersCodesMax:0,cSROffsetsCodesMax:0,cUniqueSROffsets:0,cUniqueCharFlags:0,cUniqueTags:0,cUniqueMRPointers:0,cbHeader:0};NLRT.FloatConverter=function(){};NLRT.FloatConverter.$4s=function(c,d){for(var a=new Array(d),b=0;b<a.length;b++)a[b]=NLRT.FloatConverter.convertIntToFloat(c.readInt32());return a};NLRT.FloatConverter.convertIntToFloat=function(d){var a=(d>>31&1)===1?-1:1,b=d&8388607,c=d>>23&255;return c+1===256?b?Number.NaN:a===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:!c?NLRT.FloatConverter.$5X(a,b):NLRT.FloatConverter.$5M(a,b,c)};NLRT.FloatConverter.$5X=function(a,b){return a*NLRT.FloatConverter.$4p(b,0)*Math.pow(2,-126)};NLRT.FloatConverter.$5M=function(b,c,d){var a=d-127;return b*NLRT.FloatConverter.$4p(c,1)*Math.pow(2,a)};NLRT.FloatConverter.$4p=function(c,d){for(var b=0,a=0;a<23;a++)b+=(c>>22-a&1)/Math.pow(2,a+1);return d+b};NLRT.ByteArrayReader=function(a){this.$1M_0=a;this.$J_0=0};NLRT.ByteArrayReader.prototype={$1M_0:null,$J_0:0,readInt32:function(){var a=this.$1M_0.readInt(this.$J_0,4);this.$J_0+=4;return a},readByte:function(){var a=this.$1M_0.get_item(this.$J_0);this.$J_0++;return a},get_array:function(){return this.$1M_0},get_offset:function(){return this.$J_0},set_offset:function(a){this.$J_0=a;return a}};NLRT.ByteArray=function(b){if(b==null)throw Error.argumentNull("base64String");var e=b.length;if(e%4)throw Error.argument("base64String's length must be a multiple of 4");this.$T_0=e*.75;this.$2D_0=new Array(Math.ceil(this.$T_0/4));if(b.endsWith("=="))this.$T_0-=2;else if(b.endsWith("="))this.$T_0-=1;for(var a=0,c=0;c<e;c+=4){var f=NLRT.ByteArray.$3T[b.charCodeAt(c)-43]<<18|NLRT.ByteArray.$3T[b.charCodeAt(c+1)-43]<<12|NLRT.ByteArray.$3T[b.charCodeAt(c+2)-43]<<6|NLRT.ByteArray.$3T[b.charCodeAt(c+3)-43],d=f>>16&255;this.$2D_0[Math.floor(a/4)]|=d<<8*(a%4);++a;d=f>>8&255;this.$2D_0[Math.floor(a/4)]|=d<<8*(a%4);++a;d=f&255;this.$2D_0[Math.floor(a/4)]|=d<<8*(a%4);++a}};NLRT.ByteArray.prototype={get_length:function(){return this.$T_0},get_item:function(a){if(a<0||a>=this.$T_0)throw Error.argumentOutOfRange("i");return this.$4r_0(a)},readInt:function(c,b){if(c<0||b<0||c+b>this.$T_0)throw Error.argument("Bad range");for(var d=0,a=0;a<b;++a)d|=this.$4r_0(c+a)<<a*8;return d},readVarWidthInt:function(d,c){var e=0,a=0,f=Math.floor(d/8),b=d%8;while(a<c){var g=8-b>c-a?c-a:8-b,h=this.get_item(f);e|=(h>>b&~(255<<g))<<a;a+=g;++f;b=0}return e},$4r_0:function(a){return this.$2D_0[Math.floor(a/4)]>>8*(a%4)&255},$2D_0:null,$T_0:0};NLRT.CompactIntArray=function(a,b){if(!a)throw Error.argumentNull("byteArray");this.$2J_0=b;if(a.readInt(this.$2J_0,4)!==604662927)throw Error.argument("byteArray","Input does not represent a compact int array");this.$V_0=a.readInt(this.$2J_0+4,4);this.$3K_0=a.readInt(this.$2J_0+8,4);this.$4L_0=a};NLRT.CompactIntArray.prototype={get_item:function(a){if(a<0||a>=this.$V_0)throw Error.argumentOutOfRange("index");return this.$4L_0.readVarWidthInt(this.$2J_0*8+96+a*this.$3K_0,this.$3K_0)},$V_0:0,get_count:function(){return this.$V_0},set_count:function(a){this.$V_0=a;return a},get_occupiedBytes:function(){return Math.ceil((96+this.$V_0*this.$3K_0)/8)},$3K_0:0,$4L_0:null,$2J_0:0};NLRT.ReadOnlyList$1=function(){};NLRT.ReadOnlyList$1.$$=function(d){var b="ReadOnlyList$1$"+d.getName().replace(/\./g,"_");if(!NLRT[b]){var a=NLRT[b]=function(){for(var b=[],a=0;a<arguments.length;++a)b[a]=arguments[a];NLRT.ReadOnlyList$1.apply(this,b)};a.registerClass("NLRT."+b,null,NLRT.IReadOnlyList$1.$$(d));var g={"NLRT.ReadOnlyList$1":{T:d}};a.prototype.$$gta=g;var e=NLRT.ReadOnlyList$1.prototype;for(var f in e){var c={key:f,value:e[f]};if("constructor"!==c.key)a.prototype[c.key]=c.value}a.createReadOnlyList=function(c){var b=new a;b.fromArray(c,0,c.length);return b}}return NLRT[b]};NLRT.ReadOnlyList$1.prototype={fromArray:function(a,b,c){if(!a)throw Error.argumentNull("referenceList");if(b<0||b>a.length)throw Error.argumentOutOfRange("startIndex");if(c<0||c>a.length)throw Error.argumentOutOfRange("length");if(b+c>a.length)throw Error.argument("Invalid start-length range");this.$3v_0=a;this.$3w_0=b;this.$T_0=c},fromReadOnlyList:function(a,b,c){this.fromArray(a.$3v_0,a.$3w_0+b,c)},get_item:function(a){if(a<0||a>=this.$T_0)throw Error.argumentOutOfRange("index");return this.$3v_0[this.$3w_0+a]},get_count:function(){return this.$T_0},$3v_0:null,$3w_0:0,$T_0:0};NLRT.ReadOnlyListOverByteArray=function(){};NLRT.ReadOnlyListOverByteArray.createFromByteArray=function(c,d,b){var a=new NLRT.ReadOnlyListOverByteArray;a.$7_0=c;a.$4W_0=d;a.$T_0=b;return a};NLRT.ReadOnlyListOverByteArray.prototype={get_item:function(a){if(a<0||a>=this.$T_0)throw Error.argumentOutOfRange("index");var b=a*4;return this.$7_0.readInt(this.$4W_0+b,4)},get_count:function(){return this.$T_0},$7_0:null,$T_0:0,$4W_0:0};NLRT.FeatureBundleNameQueryStepInit=function(a,b){if(!a)return;this.$H_0=b.getString(a.get_item(0))};NLRT.FeatureBundleNameQueryStepInit.prototype={$H_0:null,get_featureBundleName:function(){return this.$H_0},set_featureBundleName:function(a){this.$H_0=a;return a}};NLRT.AttrQueryStepInit=function(a,b){if(!a)return;this.$1_0=b;this.$D_0=a.get_item(0)};NLRT.AttrQueryStepInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$D_0:0,get_attributeID:function(){return this.$D_0},set_attributeID:function(a){this.$D_0=a;return a}};NLRT.FieldQueryStepInit=function(a,b){if(!a)return;this.$1_0=b;this.$Q_0=a.get_item(0)};NLRT.FieldQueryStepInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$Q_0:0,get_fieldIndex:function(){return this.$Q_0},set_fieldIndex:function(a){this.$Q_0=a;return a}};NLRT.IfQueryStepInit=function(a,b){if(!a)return;this.$t_0=b.getAnnotationQuery(a.get_item(0));this.$29_0=b.getAnnotationQuery(a.get_item(1));this.$1B_0=!a.get_item(2)?null:b.getAnnotationQuery(a.get_item(2))};NLRT.IfQueryStepInit.prototype={$t_0:null,get_testQuery:function(){return this.$t_0},set_testQuery:function(a){this.$t_0=a;return a},$29_0:null,get_trueQuery:function(){return this.$29_0},set_trueQuery:function(a){this.$29_0=a;return a},$1B_0:null,get_falseQuery:function(){return this.$1B_0},set_falseQuery:function(a){this.$1B_0=a;return a}};NLRT.SingleQueryQueryStepInit=function(b,a){if(!b)return;this.$1_0=a.get_annotations();this.$2_0=a.getAnnotationQuery(b.get_item(0))};NLRT.SingleQueryQueryStepInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$2_0:null,get_query:function(){return this.$2_0},set_query:function(a){this.$2_0=a;return a}};NLRT.SingleOptionalQueryQueryStepInit=function(a,b){if(!a)return;this.$1_0=b.get_annotations();this.$2_0=!a.get_item(0)?null:b.getAnnotationQuery(a.get_item(0))};NLRT.SingleOptionalQueryQueryStepInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$2_0:null,get_query:function(){return this.$2_0},set_query:function(a){this.$2_0=a;return a}};NLRT.SingleFilterQueryStepInit=function(b,a){if(!b)return;this.$1_0=a.get_annotations();this.$R_0=a.getFilter(b.get_item(0))};NLRT.SingleFilterQueryStepInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$R_0:null,get_filter:function(){return this.$R_0},set_filter:function(a){this.$R_0=a;return a}};NLRT.ApplyQueryStepInit=function(b,a){if(!b)return;this.$1_0=a.get_annotations();this.$I_0=a.getAnnotationScript(b.get_item(0))};NLRT.ApplyQueryStepInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$I_0:null,get_script:function(){return this.$I_0},set_script:function(a){this.$I_0=a;return a}};NLRT.ApplyExpandQueryStepInit=function(a,b){if(!a)return;this.$1_0=b.get_annotations();this.$I_0=b.getAnnotationScript(a.get_item(0));this.$1m_0=a.get_item(1)};NLRT.ApplyExpandQueryStepInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$I_0:null,get_script:function(){return this.$I_0},set_script:function(a){this.$I_0=a;return a},$1m_0:0,get_annotationScript_ListOfFeatureBundleAttrID:function(){return this.$1m_0},set_annotationScript_ListOfFeatureBundleAttrID:function(a){this.$1m_0=a;return a}};NLRT.ValueQueryStepInit=function(a,e){if(!a)return;var f=a.get_item(0),d=1,b,c;this.$4_0=(c=e.deserializeValue(f,a,b={val:d},null,null,null),d=b.val,c);NLRT.Annotations.$1e(this.$4_0)};NLRT.ValueQueryStepInit.prototype={$4_0:null,get_value:function(){return this.$4_0},set_value:function(a){this.$4_0=a;return a}};NLRT.CallModuleQueryStepInit=function(b,a){if(!b)return;this.$1_0=a.get_annotations();this.$2u_0=a.getModule(b.get_item(0))};NLRT.CallModuleQueryStepInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$2u_0:null,get_module:function(){return this.$2u_0},set_module:function(a){this.$2u_0=a;return a}};NLRT.StartAndCountOrLengthQueryStepInit=function(a,b){if(!a)return;this.$1_0=b.get_annotations();this.$1Y_0=b.getAnnotationQuery(a.get_item(0));this.$13_0=!a.get_item(1)?null:b.getAnnotationQuery(a.get_item(1))};NLRT.StartAndCountOrLengthQueryStepInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$1Y_0:null,get_startQuery:function(){return this.$1Y_0},set_startQuery:function(a){this.$1Y_0=a;return a},$13_0:null,get_countOrLengthQuery:function(){return this.$13_0},set_countOrLengthQuery:function(a){this.$13_0=a;return a}};NLRT.VarNameAndQueryQueryStepInit=function(a,b){if(!a)return;this.$u_0=b.getString(a.get_item(0));this.$2_0=b.getAnnotationQuery(a.get_item(1))};NLRT.VarNameAndQueryQueryStepInit.prototype={$u_0:null,get_varName:function(){return this.$u_0},set_varName:function(a){this.$u_0=a;return a},$2_0:null,get_query:function(){return this.$2_0},set_query:function(a){this.$2_0=a;return a}};NLRT.AnnotationsOnlyQueryStepInit=function(a){if(!a)return;this.$1_0=a};NLRT.AnnotationsOnlyQueryStepInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a}};NLRT.IndexAndItemQueryStepInit=function(a,b){if(!a)return;this.$2g_0=b.getAnnotationQuery(a.get_item(0));this.$1w_0=b.getAnnotationQuery(a.get_item(1))};NLRT.IndexAndItemQueryStepInit.prototype={$2g_0:null,get_indexQuery:function(){return this.$2g_0},set_indexQuery:function(a){this.$2g_0=a;return a},$1w_0:null,get_itemQuery:function(){return this.$1w_0},set_itemQuery:function(a){this.$1w_0=a;return a}};NLRT.AnnotationQueryStep=function(){};NLRT.AnnotationQueryStep.prototype={$5_0:0,get_incomingType:function(){return this.$5_0},set_incomingType:function(a){this.$5_0=a;return a},$s_0:0,get_returnType:function(){return this.$s_0},set_returnType:function(a){this.$s_0=a;return a},$l_0:null,get_next:function(){return this.$l_0},set_next:function(a){this.$l_0=a;return a},store:function(){throw Error.invalidOperation("Store not supported");},getNextStepForStore:function(a){if(this.$l_0)return this.$l_0;if(a.val){var b=a.val.get_continuationStep();a.val=a.val.get_previousContinuation();return b}return null}};NLRT.GetAnnotationQueryStep=function(a){NLRT.GetAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.GetAnnotationQueryStep.prototype={load:function(c,a){var b=!a?null:a.getFeatureBundle(this.$0_1.$H_0);if(!b)throw Error.invalidOperation('Feature bundle resolution failure: "'+this.$0_1.$H_0+'"');return b},store:function(i,e,c,b){var a=!c?null:c.getFeatureBundle(this.$0_1.$H_0);if(!a)throw Error.invalidOperation('Feature bundle resolution failure: "'+this.$0_1.$H_0+'"');var d=e,f,g,h=(g=this.getNextStepForStore(f={val:b}),b=f.val,g);if(h)d=h.store(a,e,c,b);a!==d&&a.copyAnnotationsFrom(d);return a},$0_1:null};NLRT.IsDefinedAnnotationQueryStep=function(a){NLRT.IsDefinedAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.IsDefinedAnnotationQueryStep.prototype={load:function(c,a){var b=!a?null:a.getFeatureBundle(this.$0_1.$H_0);return!!b},$0_1:null};NLRT.AttrAnnotationQueryStep=function(a){NLRT.AttrAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.AttrAnnotationQueryStep.prototype={load:function(c){if(this.$5_0===9)return this.$3l_1(c);else{for(var d=new NLRT.ListValue(this.$0_1.$1_0,this.$0_1.$1_0.getAttributeType(this.$0_1.$D_0)),b=c.get_items(),e=b.length,a=0;a<e;++a){var f=b[a];Array.add(d.get_items(),this.$3l_1(f))}return d}},store:function(j,e,h,a){if(this.$5_0===9){var g=j,o=e,k,l,p=(l=this.getNextStepForStore(k={val:a}),a=k.val,l);if(p)o=p.store(NLRT.Annotations.$Y(this.$3l_1(g)),e,h,a);g.setAnnotation(this.$0_1.$D_0,o);return g}else{var b=j,q=e,m,n,r=(n=this.getNextStepForStore(m={val:a}),a=m.val,n);if(r){for(var t=new NLRT.ListValue(this.$0_1.$1_0,this.$0_1.$1_0.getAttributeType(this.$0_1.$D_0)),i=b.get_items(),u=i.length,f=0;f<u;++f){var v=i[f];Array.add(t.get_items(),this.$3l_1(v))}q=r.store(t,e,h,a)}var s=q;if(s.get_items().length!==b.get_items().length)throw Error.invalidOperation("RValue list length mismatch in Attr query step store");for(var c=0,w=b.get_items().length;c<w;++c){var d=b.get_items()[c];if(d.get_isReadOnly()){d=d.clone();b.get_items()[c]=d}d.setAnnotation(this.$0_1.$D_0,s.get_items()[c])}return b}},$3l_1:function(d){var a,b,c;if(!(c=d.tryGetAnnotation_Cast(Object,this.$0_1.$D_0,b={val:a}),a=b.val,c))a=this.$0_1.$1_0.getAttributeDefaultValue(this.$0_1.$D_0);return a},$0_1:null};NLRT.FieldAnnotationQueryStep=function(a){NLRT.FieldAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.FieldAnnotationQueryStep.prototype={load:function(c){if(!NLRT.Annotations.typeIDIsListType(this.$5_0))return c.getFieldValue(this.$0_1.$Q_0);else{for(var d=new NLRT.ListValue(this.$0_1.$1_0,this.$0_1.$1_0.getStructFieldType(NLRT.Annotations.getMemberTypeID(this.$5_0),this.$0_1.$Q_0)),b=c.get_items(),e=b.length,a=0;a<e;++a){var f=b[a];Array.add(d.get_items(),f.getFieldValue(this.$0_1.$Q_0))}return d}},store:function(j,e,h,a){if(!NLRT.Annotations.typeIDIsListType(this.$5_0)){var g=j,o=e,k,l,p=(l=this.getNextStepForStore(k={val:a}),a=k.val,l);if(p)o=p.store(NLRT.Annotations.$Y(g.getFieldValue(this.$0_1.$Q_0)),e,h,a);g.setFieldValue(this.$0_1.$Q_0,o);return g}else{var b=j,q=e,m,n,r=(n=this.getNextStepForStore(m={val:a}),a=m.val,n);if(r){for(var t=new NLRT.ListValue(this.$0_1.$1_0,this.$0_1.$1_0.getStructFieldType(NLRT.Annotations.getMemberTypeID(this.$5_0),this.$0_1.$Q_0)),i=b.get_items(),u=i.length,f=0;f<u;++f){var v=i[f];Array.add(t.get_items(),v.getFieldValue(this.$0_1.$Q_0))}q=r.store(t,e,h,a)}var s=q;if(s.get_items().length!==b.get_items().length)throw Error.invalidOperation("RValue list length mismatch in Field query step store");for(var c=0,w=b.get_items().length;c<w;++c){var d=b.get_items()[c];if(d.get_isReadOnly()){d=d.clone();b.get_items()[c]=d}d.setFieldValue(this.$0_1.$Q_0,s.get_items()[c])}return b}},$0_1:null};NLRT.IfAnnotationQueryStep=function(a){NLRT.IfAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.IfAnnotationQueryStep.prototype={load:function(a,b){return this.$0_1.$t_0.loadInternal(a,b)?this.$0_1.$29_0.loadInternal(a,b):this.$0_1.$1B_0?this.$0_1.$1B_0.loadInternal(a,b):a},store:function(c,d,b,a){var g=this.$0_1.$t_0.loadInternal(c,b);if(this.$l_0)a=new NLRT.AnnotationQueryStoreContinuation(this.$l_0,a);if(g)return this.$0_1.$29_0.storeInternal(c,d,b,a);else if(this.$0_1.$1B_0)return this.$0_1.$1B_0.storeInternal(c,d,b,a);else{var f=d,e=null;if(a){e=a.get_continuationStep();a=a.get_previousContinuation()}if(e)f=e.store(NLRT.Annotations.$Y(c),d,b,a);return f}},$0_1:null};NLRT.MatchesAnnotationQueryStep=function(a){NLRT.MatchesAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.MatchesAnnotationQueryStep.prototype={load:function(d,b){if(!NLRT.Annotations.typeIDIsListType(this.$5_0))return this.$0_1.$R_0.isMatch(d,b,null);else{for(var e=new NLRT.ListValue(this.$0_1.$1_0,2),c=d.get_items(),f=c.length,a=0;a<f;++a){var g=c[a];Array.add(e.get_items(),this.$0_1.$R_0.isMatch(g,b,null))}return e}},$0_1:null};NLRT.MatchesAsListAnnotationQueryStep=function(a){NLRT.MatchesAsListAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.MatchesAsListAnnotationQueryStep.prototype={load:function(b,a){return this.$0_1.$R_0.isMatch(b,a,null)},$0_1:null};NLRT.ApplyAnnotationQueryStep=function(a){NLRT.ApplyAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ApplyAnnotationQueryStep.prototype={load:function(d,b){if(this.$5_0===9)return this.$3i_1(d,b);else{for(var e=new NLRT.ListValue(this.$0_1.$1_0,9),c=d.get_items(),f=c.length,a=0;a<f;++a){var g=c[a];Array.add(e.get_items(),this.$3i_1(g,b))}return e}},$3i_1:function(c,d){var a=new NLRT.FeatureBundle(this.$0_1.$1_0);a.copyAnnotationsFrom(c);var b=new NLRT.FeatureBundle(this.$0_1.$1_0);this.$0_1.$I_0.executeInternal(null,new NLRT.SimpleNamedFeatureBundleResolver("Input",a,new NLRT.SimpleNamedFeatureBundleResolver("Output",b,d)));return b},$0_1:null};NLRT.ApplyExpandAnnotationQueryStep=function(a){NLRT.ApplyExpandAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ApplyExpandAnnotationQueryStep.prototype={load:function(l,e){if(this.$5_0===9){var m=this.$3i_1(l,e),c,h,i;if(!(i=m.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_1.$1m_0,h={val:c}),c=h.val,i))c=new NLRT.ListValue(this.$0_1.$1_0,9);return m}else{for(var n=new NLRT.ListValue(this.$0_1.$1_0,9),f=l.get_items(),o=f.length,a=0;a<o;++a){var q=f[a],r=this.$3i_1(q,e),d,j,k;if(k=r.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_1.$1m_0,j={val:d}),d=j.val,k)for(var g=d.get_items(),p=g.length,b=0;b<p;++b){var s=g[b];Array.add(n.get_items(),s)}}return n}},$3i_1:function(c,d){var a=new NLRT.FeatureBundle(this.$0_1.$1_0);a.copyAnnotationsFrom(c);var b=new NLRT.FeatureBundle(this.$0_1.$1_0);this.$0_1.$I_0.executeInternal(null,new NLRT.SimpleNamedFeatureBundleResolver("Input",a,new NLRT.SimpleNamedFeatureBundleResolver("Output",b,d)));return b},$0_1:null};NLRT.ValueAnnotationQueryStep=function(a){NLRT.ValueAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ValueAnnotationQueryStep.prototype={load:function(){return this.$0_1.$4_0},$0_1:null};NLRT.CallModuleAnnotationQueryStep=function(a){NLRT.CallModuleAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.CallModuleAnnotationQueryStep.prototype={load:function(b){var a=new NLRT.FeatureBundle(this.$0_1.$1_0);a.copyAnnotationsFrom(b);return this.$0_1.$2u_0.execute(a)},$0_1:null};NLRT.RangeAnnotationQueryStep=function(a){NLRT.RangeAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.RangeAnnotationQueryStep.prototype={load:function(c,b){for(var e=this.$0_1.$1Y_0.loadInternal(c,b),f=this.$0_1.$13_0.loadInternal(c,b),d=new NLRT.ListValue(this.$0_1.$1_0,3),a=0;a<f;++a)Array.add(d.get_items(),e+a);return d},$0_1:null};NLRT.ConvertAnnotationQueryStep=function(a){NLRT.ConvertAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ConvertAnnotationQueryStep.prototype={load:function(a){return NLRT.AnnotationQuery.coerceItem(this.$0_1.$1_0,a,this.$5_0,this.$s_0)},$0_1:null};NLRT.ItemAnnotationQueryStep=function(a){NLRT.ItemAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ItemAnnotationQueryStep.prototype={load:function(c,b){var a=c,d=this.$3j_1(a,b);return a.get_items()[d]},store:function(j,d,c,b){var a=j,g=this.$3j_1(a,c),h=d,e,f,i=(f=this.getNextStepForStore(e={val:b}),b=e.val,f);if(i)h=i.store(NLRT.Annotations.$Y(a.get_items()[g]),d,c,b);a.get_items()[g]=h;return a},$3j_1:function(b,c){var a=this.$0_1.$2_0.loadInternal(b,c);if(a<0||a>=b.get_items().length)throw Error.invalidOperation("Index out of range in Item store step");return a},$0_1:null};NLRT.LastItemAnnotationQueryStep=function(a){NLRT.LastItemAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.LastItemAnnotationQueryStep.prototype={load:function(c,b){var a=c,d=this.$3j_1(a,b);return a.get_items()[a.get_items().length-d-1]},store:function(j,d,c,b){var a=j,g=this.$3j_1(a,c),h=d,e,f,i=(f=this.getNextStepForStore(e={val:b}),b=e.val,f);if(i)h=i.store(NLRT.Annotations.$Y(a.get_items()[a.get_items().length-g-1]),d,c,b);a.get_items()[a.get_items().length-g-1]=h;return a},$3j_1:function(b,c){var a=!this.$0_1.$2_0?0:this.$0_1.$2_0.loadInternal(b,c);if(a<0||a>=b.get_items().length)throw Error.invalidOperation("Index out of range in LastItem load step");return a},$0_1:null};NLRT.CountAnnotationQueryStep=function(){NLRT.CountAnnotationQueryStep.initializeBase(this)};NLRT.CountAnnotationQueryStep.prototype={load:function(a){return a.get_items().length}};NLRT.FirstItemMatchingAnnotationQueryStep=function(a){NLRT.FirstItemMatchingAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.FirstItemMatchingAnnotationQueryStep.prototype={load:function(f,d){for(var b=f.get_items(),e=b.length,a=0;a<e;++a){var c=b[a];if(this.$0_1.$R_0.isMatch(c,d,null))return c}throw Error.invalidOperation("No matching item found in FirstItemMatching load step");},store:function(k,f,e,d){for(var a=k,i=f,b=-1,c=0,l=a.get_items().length;c<l;c++){var m=a.get_items()[c];if(this.$0_1.$R_0.isMatch(m,e,null)){b=c;break}}if(b<0)throw Error.invalidOperation("No matching item found in FirstItemMatching store step");var g,h,j=(h=this.getNextStepForStore(g={val:d}),d=g.val,h);if(j)i=j.store(NLRT.Annotations.$Y(a.get_items()[b]),f,e,d);a.get_items()[b]=i;return a},$0_1:null};NLRT.ForAllAnnotationQueryStep=function(a){NLRT.ForAllAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ForAllAnnotationQueryStep.prototype={load:function(g,e){for(var c=new NLRT.SimpleNamedFeatureBundleResolver(this.$0_1.$u_0,null,e),b=g.get_items(),f=b.length,a=0;a<f;++a){var d=b[a];c.changeFeatureBundle(d);if(!this.$0_1.$2_0.loadInternal(d,c))return false}return true},$0_1:null};NLRT.ExistsAnnotationQueryStep=function(a){NLRT.ExistsAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ExistsAnnotationQueryStep.prototype={load:function(g,e){for(var c=new NLRT.SimpleNamedFeatureBundleResolver(this.$0_1.$u_0,null,e),b=g.get_items(),f=b.length,a=0;a<f;++a){var d=b[a];c.changeFeatureBundle(d);if(this.$0_1.$2_0.loadInternal(d,c))return true}return false},$0_1:null};NLRT.AppendAnnotationQueryStep=function(a){NLRT.AppendAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.AppendAnnotationQueryStep.prototype={load:function(b,d){var c=this.$0_1.$2_0.loadInternal(b,d),a=b.clone();if(NLRT.Annotations.typeIDIsListType(this.$0_1.$2_0.get_returnType()))Array.addRange(a.get_items(),c.get_items());else Array.add(a.get_items(),c);return a},$0_1:null};NLRT.SublistAnnotationQueryStep=function(a){NLRT.SublistAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.SublistAnnotationQueryStep.prototype={load:function(i,h){var a=i,b,c,e,f;this.$4J_1(a,h,e={val:b},f={val:c}),b=e.val,c=f.val;for(var g=new NLRT.ListValue(this.$0_1.$1_0,a.get_memberTypeID()),d=0;d<c;++d)Array.add(g.get_items(),a.get_items()[b+d]);return g},store:function(r,h,g,e){var a=r,b,c,i,j;this.$4J_1(a,g,i={val:b},j={val:c}),b=i.val,c=j.val;var m=h,k,l,n=(l=this.getNextStepForStore(k={val:e}),e=k.val,l);if(n){for(var p=new NLRT.ListValue(this.$0_1.$1_0,a.get_memberTypeID()),f=0;f<c;++f)Array.add(p.get_items(),a.get_items()[b+f]);m=n.store(p,h,g,e)}for(var o=m,q=0;q<c;++q)Array.removeAt(a.get_items(),b);for(var d=0,s=o.get_items().length;d<s;++d)Array.insert(a.get_items(),b+d,o.get_items()[d]);return a},$4J_1:function(a,d,b,c){b.val=this.$0_1.$1Y_0.loadInternal(a,d);if(b.val<0)throw Error.invalidOperation("Invalid start index in Sublist() query step");c.val=!this.$0_1.$13_0?a.get_items().length-b.val:this.$0_1.$13_0.loadInternal(a,d);if(c.val<0||b.val+c.val>a.get_items().length)throw Error.invalidOperation("Start index or length out of range in Sublist() query step");},$0_1:null};NLRT.ItemsMatchingAnnotationQueryStep=function(a){NLRT.ItemsMatchingAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ItemsMatchingAnnotationQueryStep.prototype={load:function(g,e){for(var c=new NLRT.ListValue(this.$0_1.$1_0,NLRT.Annotations.getMemberTypeID(this.$5_0)),b=g.get_items(),f=b.length,a=0;a<f;++a){var d=b[a];this.$0_1.$R_0.isMatch(d,e,null)&&Array.add(c.get_items(),d)}return c},$0_1:null};NLRT.ToListAnnotationQueryStep=function(a){NLRT.ToListAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ToListAnnotationQueryStep.prototype={load:function(b){var a=new NLRT.ListValue(this.$0_1.$1_0,this.$5_0);Array.add(a.get_items(),b);return a},$0_1:null};NLRT.InsertAtAnnotationQueryStep=function(a){NLRT.InsertAtAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.InsertAtAnnotationQueryStep.prototype={load:function(d,e){var a=this.$0_1.$2g_0.loadInternal(d,e),f=this.$0_1.$1w_0.loadInternal(d,e),b=d.clone();if(a<0||a>b.get_items().length)throw Error.invalidOperation("Index out of range in InsertAt() query step");if(NLRT.Annotations.typeIDIsListType(this.$0_1.$1w_0.get_returnType()))for(var g=f,c=0;c<g.get_items().length;++c)Array.insert(b.get_items(),a+c,g.get_items()[c]);else Array.insert(b.get_items(),a,f);return b},$0_1:null};NLRT.SubstringAnnotationQueryStep=function(a){NLRT.SubstringAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.SubstringAnnotationQueryStep.prototype={load:function(c,b){if(NLRT.Annotations.typeIDIsListType(this.$5_0)){for(var d=c,e=new NLRT.ListValue(this.$0_1.$1_0,1),a=0,f=d.get_items().length;a<f;++a)Array.add(e.get_items(),this.$4u_1(d.get_items()[a],b));return e}else return this.$4u_1(c,b)},store:function(){throw Error.invalidOperation("Substring() store not yet supported by the runtime");},$4u_1:function(e,f){var a,b,c,d;this.$4J_1(e,f,c={val:a},d={val:b}),a=c.val,b=d.val;return e.substr(a,b)},$4J_1:function(a,d,b,c){b.val=this.$0_1.$1Y_0.loadInternal(a,d);if(b.val<0)throw Error.invalidOperation("Invalid start index in Substring() query step");c.val=!this.$0_1.$13_0?a.length-b.val:this.$0_1.$13_0.loadInternal(a,d);if(c.val<0||b.val+c.val>a.length)throw Error.invalidOperation("Start index or length out of range in Substring() query step");},$0_1:null};NLRT.ConcatAnnotationQueryStep=function(a){NLRT.ConcatAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ConcatAnnotationQueryStep.prototype={load:function(a,h){if(NLRT.Annotations.typeIDIsListType(this.$5_0)){for(var r=a,e=this.$0_1.$2_0.loadInternal(a,h),f=new NLRT.ListValue(this.$0_1.$1_0,1),s=String.isInstanceOfType(e),t=e,i=r.get_items(),o=i.length,b=0;b<o;++b){var l=i[b];if(s)Array.add(f.get_items(),l+e);else for(var j=t.get_items(),p=j.length,c=0;c<p;++c){var u=j[c];Array.add(f.get_items(),l+u)}}return f}else{var m=a,g=this.$0_1.$2_0.loadInternal(a,h),v=String.isInstanceOfType(g);if(v)return m+g;else{for(var n=new NLRT.ListValue(this.$0_1.$1_0,1),k=g.get_items(),q=k.length,d=0;d<q;++d){var w=k[d];Array.add(n.get_items(),m+w)}return n}}},$0_1:null};NLRT.LengthAnnotationQueryStep=function(a){NLRT.LengthAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.LengthAnnotationQueryStep.prototype={load:function(c){if(NLRT.Annotations.typeIDIsListType(this.$5_0)){for(var f=c,d=new NLRT.ListValue(this.$0_1.$1_0,3),b=f.get_items(),e=b.length,a=0;a<e;++a){var g=b[a];Array.add(d.get_items(),g.length)}return d}else return c.length},$0_1:null};NLRT.ToCharListAnnotationQueryStep=function(a){NLRT.ToCharListAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.ToCharListAnnotationQueryStep.prototype={load:function(d){for(var b=new NLRT.ListValue(this.$0_1.$1_0,1),c=d,a=0;a<c.length;++a)Array.add(b.get_items(),c.charAt(a).toString());return b},$0_1:null};NLRT.NumericAnnotationQueryStep=function(a){NLRT.NumericAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.NumericAnnotationQueryStep.prototype={load:function(a,m){var b=this.$0_1.$2_0.loadInternal(a,m);if(NLRT.Annotations.typeIDIsListType(this.$5_0)){var c=a,g=NLRT.Annotations.getMemberTypeID(this.$5_0),h=new NLRT.ListValue(this.$0_1.$1_0,g);if(!NLRT.Annotations.typeIDIsListType(this.$0_1.$2_0.get_returnType()))for(var i=c.get_items(),n=i.length,e=0;e<n;++e){var p=i[e];Array.add(h.get_items(),this.calculateResult(p,b,g===5))}else{var k=b;if(c.get_items().length!==k.get_items().length)throw Error.invalidOperation("List length mismatch in itemwise numeric query step");for(var d=0,q=c.get_items().length;d<q;++d)Array.add(h.get_items(),this.calculateResult(c.get_items()[d],k.get_items()[d],g===5))}return h}else if(!NLRT.Annotations.typeIDIsListType(this.$0_1.$2_0.get_returnType()))return this.calculateResult(a,b,this.$5_0===5);else{for(var r=b,l=new NLRT.ListValue(this.$0_1.$1_0,this.$5_0),j=r.get_items(),o=j.length,f=0;f<o;++f){var s=j[f];Array.add(l.get_items(),this.calculateResult(a,s,this.$5_0===5))}return l}},calculateResult:function(c,d,b){var a=this.calculateResultAux(c,d);return b?a:Math.floor(a)},$0_1:null};NLRT.AddAnnotationQueryStep=function(a){NLRT.AddAnnotationQueryStep.initializeBase(this,[a])};NLRT.AddAnnotationQueryStep.prototype={calculateResultAux:function(a,b){return a+b}};NLRT.SubtractAnnotationQueryStep=function(a){NLRT.SubtractAnnotationQueryStep.initializeBase(this,[a])};NLRT.SubtractAnnotationQueryStep.prototype={calculateResultAux:function(a,b){return a-b}};NLRT.MultiplyAnnotationQueryStep=function(a){NLRT.MultiplyAnnotationQueryStep.initializeBase(this,[a])};NLRT.MultiplyAnnotationQueryStep.prototype={calculateResultAux:function(a,b){return a*b}};NLRT.DivideAnnotationQueryStep=function(a){NLRT.DivideAnnotationQueryStep.initializeBase(this,[a])};NLRT.DivideAnnotationQueryStep.prototype={calculateResultAux:function(a,b){return a/b}};NLRT.ModuloAnnotationQueryStep=function(a){NLRT.ModuloAnnotationQueryStep.initializeBase(this,[a])};NLRT.ModuloAnnotationQueryStep.prototype={calculateResultAux:function(a,b){return a%b}};NLRT.ExpAnnotationQueryStep=function(a){NLRT.ExpAnnotationQueryStep.initializeBase(this,[a])};NLRT.ExpAnnotationQueryStep.prototype={calculateResultAux:function(a,b){return Math.pow(a,b)}};NLRT.BinaryBooleanAnnotationQueryStep=function(a){NLRT.BinaryBooleanAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.BinaryBooleanAnnotationQueryStep.prototype={load:function(a,h){if(this.$5_0===2&&this.$0_1.$2_0.get_returnType()===2){var f,k,l;if(l=this.canShortCircuit(a,k={val:f}),f=k.val,l)return f}if(NLRT.Annotations.typeIDIsListType(this.$5_0)){var b=a,g=new NLRT.ListValue(this.$0_1.$1_0,2),m=this.$0_1.$2_0.loadInternal(a,h);if(!NLRT.Annotations.typeIDIsListType(this.$0_1.$2_0.get_returnType()))for(var i=b.get_items(),q=i.length,d=0;d<q;++d){var s=i[d];Array.add(g.get_items(),this.computeResult(m,s))}else{var n=m;if(b.get_items().length!==n.get_items().length)throw Error.invalidOperation("List length mismatch in itemwise boolean query step");for(var c=0,t=b.get_items().length;c<t;++c)Array.add(g.get_items(),this.computeResult(n.get_items()[c],b.get_items()[c]))}return g}else{var o=this.$0_1.$2_0.loadInternal(a,h);if(!NLRT.Annotations.typeIDIsListType(this.$0_1.$2_0.get_returnType()))return this.computeResult(o,a);else{for(var u=o,p=new NLRT.ListValue(this.$0_1.$1_0,2),j=u.get_items(),r=j.length,e=0;e<r;++e){var v=j[e];Array.add(p.get_items(),this.computeResult(v,a))}return p}}},$0_1:null};NLRT.AndAnnotationQueryStep=function(a){NLRT.AndAnnotationQueryStep.initializeBase(this,[a])};NLRT.AndAnnotationQueryStep.prototype={canShortCircuit:function(b,a){a.val=false;return!b},computeResult:function(a,b){return a&&b}};NLRT.OrAnnotationQueryStep=function(a){NLRT.OrAnnotationQueryStep.initializeBase(this,[a])};NLRT.OrAnnotationQueryStep.prototype={canShortCircuit:function(b,a){a.val=true;return b},computeResult:function(a,b){return a||b}};NLRT.NotAnnotationQueryStep=function(a){NLRT.NotAnnotationQueryStep.initializeBase(this);this.$0_1=a};NLRT.NotAnnotationQueryStep.prototype={load:function(c){if(NLRT.Annotations.typeIDIsListType(this.$5_0)){for(var d=new NLRT.ListValue(this.$0_1.$1_0,2),b=c.get_items(),e=b.length,a=0;a<e;++a){var f=b[a];Array.add(d.get_items(),!f)}return d}else return!c},$0_1:null};NLRT.LvalueAndRvalueQueryScriptCommandInit=function(b,a){if(!b)return;this.$1_0=a.get_annotations();this.$1G_0=a.getAnnotationQuery(b.get_item(0));this.$1W_0=a.getAnnotationQuery(b.get_item(1))};NLRT.LvalueAndRvalueQueryScriptCommandInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$1G_0:null,get_lvalueQuery:function(){return this.$1G_0},set_lvalueQuery:function(a){this.$1G_0=a;return a},$1W_0:null,get_rvalueQuery:function(){return this.$1W_0},set_rvalueQuery:function(a){this.$1W_0=a;return a}};NLRT.RemoveScriptCommandInit=function(a,b){if(!a)return;this.$1_0=b.get_annotations();this.$2_0=b.getAnnotationQuery(a.get_item(0));this.$D_0=a.get_item(1)};NLRT.RemoveScriptCommandInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$2_0:null,get_query:function(){return this.$2_0},set_query:function(a){this.$2_0=a;return a},$D_0:0,get_attributeID:function(){return this.$D_0},set_attributeID:function(a){this.$D_0=a;return a}};NLRT.NewScriptCommandInit=function(a,b){if(!a)return;this.$1_0=b.get_annotations();this.$H_0=b.getString(a.get_item(0));this.$2_0=!a.get_item(1)?null:b.getAnnotationQuery(a.get_item(1))};NLRT.NewScriptCommandInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$H_0:null,get_featureBundleName:function(){return this.$H_0},set_featureBundleName:function(a){this.$H_0=a;return a},$2_0:null,get_query:function(){return this.$2_0},set_query:function(a){this.$2_0=a;return a}};NLRT.EnumerateScriptCommandInit=function(a,b){if(!a)return;this.$1_0=b.get_annotations();this.$H_0=b.getString(a.get_item(0));this.$1T_0=b.getAnnotationQuery(a.get_item(1));this.$2Y_0=b.getAnnotationScript(a.get_item(2));this.$16_0=a.get_item(3)};NLRT.EnumerateScriptCommandInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$H_0:null,get_featureBundleName:function(){return this.$H_0},set_featureBundleName:function(a){this.$H_0=a;return a},$1T_0:null,get_listQuery:function(){return this.$1T_0},set_listQuery:function(a){this.$1T_0=a;return a},$2Y_0:null,get_bodyScript:function(){return this.$2Y_0},set_bodyScript:function(a){this.$2Y_0=a;return a},$16_0:0,get_resultAttributeID:function(){return this.$16_0},set_resultAttributeID:function(a){this.$16_0=a;return a}};NLRT.IfScriptCommandInit=function(a,b){if(!a)return;this.$t_0=b.getAnnotationQuery(a.get_item(0));this.$3B_0=b.getAnnotationScript(a.get_item(1));this.$1t_0=!a.get_item(2)?null:b.getAnnotationScript(a.get_item(2))};NLRT.IfScriptCommandInit.prototype={$t_0:null,get_testQuery:function(){return this.$t_0},set_testQuery:function(a){this.$t_0=a;return a},$3B_0:null,get_trueScript:function(){return this.$3B_0},set_trueScript:function(a){this.$3B_0=a;return a},$1t_0:null,get_falseScript:function(){return this.$1t_0},set_falseScript:function(a){this.$1t_0=a;return a}};NLRT.ApplyScriptCommandInit=function(a,b){if(!a)return;this.$2i_0=b.getAnnotationQuery(a.get_item(0));this.$30_0=b.getAnnotationQuery(a.get_item(1));this.$I_0=b.getAnnotationScript(a.get_item(2))};NLRT.ApplyScriptCommandInit.prototype={$2i_0:null,get_inputQuery:function(){return this.$2i_0},set_inputQuery:function(a){this.$2i_0=a;return a},$30_0:null,get_outputQuery:function(){return this.$30_0},set_outputQuery:function(a){this.$30_0=a;return a},$I_0:null,get_script:function(){return this.$I_0},set_script:function(a){this.$I_0=a;return a}};NLRT.AssignAnnotationScriptCommand=function(a){this.$0_0=a};NLRT.AssignAnnotationScriptCommand.prototype={execute:function(b,a){var c=this.$0_0.$1W_0.loadInternal(b,a.val);this.$0_0.$1G_0.storeInternal(b,c,a.val,null)},$0_0:null};NLRT.ModifyAnnotationScriptCommand=function(a){this.$0_0=a};NLRT.ModifyAnnotationScriptCommand.prototype={execute:function(b,a){var c=this.$0_0.$1W_0.loadInternal(this.$0_0.$1G_0.loadInternal(b,a.val),a.val);this.$0_0.$1G_0.storeInternal(b,c,a.val,null)},$0_0:null};NLRT.RemoveAnnotationScriptCommand=function(a){this.$0_0=a};NLRT.RemoveAnnotationScriptCommand.prototype={execute:function(f,d){var c=this.$0_0.$2_0.loadInternal(f,d.val);if(this.$0_0.$2_0.get_returnType()===9)c.removeAnnotation(this.$0_0.$D_0);else for(var b=c.get_items(),e=b.length,a=0;a<e;++a){var g=b[a];g.removeAnnotation(this.$0_0.$D_0)}},$0_0:null};NLRT.NewAnnotationScriptCommand=function(a){this.$0_0=a};NLRT.NewAnnotationScriptCommand.prototype={execute:function(c,a){var b=new NLRT.FeatureBundle(this.$0_0.$1_0);this.$0_0.$2_0&&b.copyAnnotationsFrom(this.$0_0.$2_0.loadInternal(c,a.val));a.val=new NLRT.SimpleNamedFeatureBundleResolver(this.$0_0.$H_0,b,a.val)},$0_0:null};NLRT.EnumerateAnnotationScriptCommand=function(a){a.$16_0>=0;this.$0_0=a};NLRT.EnumerateAnnotationScriptCommand.prototype={execute:function(d,c){var a=this.$0_0.$1T_0.loadInternal(d,c.val);if(this.$0_0.$1T_0.get_supportsStore()){a=NLRT.Annotations.$Y(a);for(var j=new NLRT.SimpleNamedFeatureBundleResolver(this.$0_0.$H_0,null,c.val),b=0,k=a.get_items().length;b<k;++b){var i=this.executeCore(d,a.get_items()[b],j);if(this.$0_0.$16_0<0)a.get_items()[b]=i;else{var e,g,h;if(h=i.tryGetAnnotation_Cast(Object,this.$0_0.$16_0,g={val:e}),e=g.val,h)a.get_items()[b]=e;else throw Error.invalidOperation("Expected result attribute missing in Enumerate() script command");}}this.$0_0.$1T_0.storeInternal(d,a,c.val,null)}else for(var l=new NLRT.SimpleNamedFeatureBundleResolver(this.$0_0.$H_0,null,c.val),f=0,m=a.get_items().length;f<m;++f)this.executeCore(d,a.get_items()[f],l)},executeCore:function(d,c,b){var a;if(this.$0_0.$16_0<0)a=NLRT.Annotations.$Y(c);else{a=new NLRT.FeatureBundle(this.$0_0.$1_0);a.setAnnotation(this.$0_0.$16_0,c)}b.changeFeatureBundle(a);this.$0_0.$2Y_0.executeInternal(d,b);return a},$0_0:null};NLRT.IfAnnotationScriptCommand=function(a){this.$0_0=a};NLRT.IfAnnotationScriptCommand.prototype={execute:function(b,a){if(this.$0_0.$t_0.loadInternal(b,a.val))this.$0_0.$3B_0.executeInternal(b,a.val);else this.$0_0.$1t_0&&this.$0_0.$1t_0.executeInternal(b,a.val)},$0_0:null};NLRT.ApplyAnnotationScriptCommand=function(a){this.$0_0=a};NLRT.ApplyAnnotationScriptCommand.prototype={execute:function(b,a){var c=this.$0_0.$2i_0.loadInternal(b,a.val),d=this.$0_0.$30_0.loadInternal(b,a.val);this.$0_0.$I_0.executeInternal(b,new NLRT.SimpleNamedFeatureBundleResolver("Input",c,new NLRT.SimpleNamedFeatureBundleResolver("Output",d,a.val)))},$0_0:null};NLRT.CopyAnnotationScriptCommand=function(a){this.$0_0=a};NLRT.CopyAnnotationScriptCommand.prototype={execute:function(b,a){var c=this.$0_0.$1G_0.loadInternal(b,a.val),d=this.$0_0.$1W_0.loadInternal(b,a.val);c!==d&&c.copyAnnotationsFrom(d)},$0_0:null};NLRT.Ranker=function(a){if(!a)throw Error.argumentNull("resource");this.$U_0=new NLRT.ObjectFetcher(a,new NLRT.FilterFactory,new NLRT.NLModuleFactory);this.$2I_0=this.$U_0.getModuleByName("");this.$3p_0=this.$U_0.$1_0.getAttributeByName("Text.Text");this.$3n_0=this.$U_0.$1_0.getAttributeByName("Classification.Predictions");this.$3F_0=this.$U_0.$1_0.getAttributeByName("Classification.PredictionString");this.$3o_0=this.$U_0.$1_0.getAttributeByName("Classification.Probability");this.$4K_0=this.$U_0.$1_0.getAttributeByName("NLMod.Tokens");if(this.$3p_0<0||this.$3n_0<0||this.$3F_0<0||this.$3o_0<0)throw Error.argument("resourceObj","Resource does not represent a ranker");};NLRT.Ranker.prototype={getBestClasses:function(b){var a=[];this.$4I_0(b,this.$4q_0(a),null);return a},getBestClassesWithTokenAttributes:function(f,a){var c=[],d=[],b=this,e=function(c,h){var e=b.$U_0.$1_0.getAttributeName(c),f=[],g=[];if(!a||!a.length||Array.indexOf(a,e)!==-1){var i=b.$U_0.$1_0.getAttributeType(c);b.$4x_0(i,h,f,g);var j=new NLRT.TokenAttributes(e,f,g);Array.add(d,j)}};this.$4I_0(f,this.$4q_0(c),e);return new NLRT.PredictionsWithTokenAttributes(c,d)},getBestClassesWithScores:function(d){var b=[],a=this,c=function(i){var c,e,f;if(f=i.tryGetAnnotation_Cast(String,a.$3F_0,e={val:c}),c=e.val,f){var d,g,h;(h=i.tryGetAnnotation_Cast(Number,a.$3o_0,g={val:d}),d=g.val,h)&&Array.add(b,new NLRT.PredictionWithScore(c,d))}};this.$4I_0(d,c,null);return b},$4I_0:function(r,s,m){var k=new NLRT.FeatureBundle(this.$U_0.$1_0);k.setAnnotation(this.$3p_0,r);var l=this.$2I_0.execute(k),c,g,h;if(h=l.tryGetAnnotation_Cast(NLRT.IListValue,this.$3n_0,g={val:c}),c=g.val,h)for(var e=c.get_items(),n=e.length,a=0;a<n;++a){var q=e[a];s(q)}if(m){var d,i,j;if(j=l.tryGetAnnotation_Cast(NLRT.IListValue,this.$4K_0,i={val:d}),d=i.val,j)for(var f=d.get_items(),o=f.length,b=0;b<o;++b){var p=f[b];p.forEachAnnotation(m)}}},$4x_0:function(a,d,e,f){if(NLRT.Annotations.typeIDIsListType(a))for(var h=d,g=h.get_items(),i=g.length,c=0;c<i;++c){var j=g[c];this.$4x_0(h.get_memberTypeID(),j,e,f)}else if(NLRT.Annotations.typeIDIsStructType(a))for(var k=d,l=this.$U_0.$1_0.getNumOfStructFields(a),b=0;b<l;b++){Array.add(e,this.$U_0.$1_0.getStructFieldName(a,b));Array.add(f,this.$U_0.$1_0.valueToString(this.$U_0.$1_0.getStructFieldType(a,b),k.getFieldValue(b)))}else{Array.add(e,"VALUE");Array.add(f,this.$U_0.$1_0.valueToString(a,d))}},$4q_0:function(c){var a=this,b=function(f){var b,d,e;(e=f.tryGetAnnotation_Cast(String,a.$3F_0,d={val:b}),b=d.val,e)&&Array.add(c,b)};return b},$U_0:null,$2I_0:null,$3p_0:0,$3n_0:0,$3F_0:0,$3o_0:0,$4K_0:0};NLRT.PredictionWithScore=function(a,b){this.$3a_0=a;this.$X_0=b};NLRT.PredictionWithScore.prototype={$3a_0:null,get_prediction:function(){return this.$3a_0},set_prediction:function(a){this.$3a_0=a;return a},$X_0:0,get_score:function(){return this.$X_0},set_score:function(a){this.$X_0=a;return a}};NLRT.PredictionsWithTokenAttributes=function(a,b){if(!a)throw Error.argumentNull("predictions");if(!b)throw Error.argumentNull("attributes");this.$4D_0=a;this.$4B_0=b};NLRT.PredictionsWithTokenAttributes.prototype={$4D_0:null,$4B_0:null,getPredictions:function(){return this.$4D_0},getAllTokenAttributes:function(){return this.$4B_0}};NLRT.TokenAttributes=function(c,a,b){if(!a)throw Error.argumentNull("fieldNames");if(!b)throw Error.argumentNull("values");a.length!==b.length&&Error.argument("values","fieldNames and values do not have same length");this.$3V_0=c;this.$3N_0=a;this.$3y_0=b};NLRT.TokenAttributes.prototype={$3N_0:null,$3y_0:null,$3V_0:null,get_attributeName:function(){return this.$3V_0},set_attributeName:function(a){this.$3V_0=a;return a},get_fieldCount:function(){return this.$3N_0.length},getFieldName:function(a){return a>=0&&a<this.$3N_0.length?this.$3N_0[a]:null},getValue:function(a){return a>=0&&a<this.$3y_0.length?this.$3y_0[a]:null}};NLRT.NonterminalFilterInit=function(b,d){if(!b)return;var c=b.get_item(0);this.$1p_0=new Array(c);for(var a=0;a<c;++a)this.$1p_0[a]=d.getFilter(b.get_item(1+a))};NLRT.NonterminalFilterInit.prototype={$1p_0:null,get_childFilters:function(){return this.$1p_0},set_childFilters:function(a){this.$1p_0=a;return a}};NLRT.RegexStringFilterInit=function(a,b){if(!a)return;this.$y_0=b.getRegex(a.get_item(0))};NLRT.RegexStringFilterInit.prototype={$y_0:null,get_regex:function(){return this.$y_0},set_regex:function(a){this.$y_0=a;return a}};NLRT.QueryStringFilterInit=function(a,b){if(!a)return;this.$2_0=b.getAnnotationQuery(a.get_item(0));this.$2l_0=a.get_item(1)===1};NLRT.QueryStringFilterInit.prototype={$2_0:null,get_query:function(){return this.$2_0},set_query:function(a){this.$2_0=a;return a},$2l_0:false,get_isCaseInsensitive:function(){return this.$2l_0},set_isCaseInsensitive:function(a){this.$2l_0=a;return a}};NLRT.StoredValueBooleanFilterInit=function(a){if(!a)return;this.$4_0=a.get_item(0)===1};NLRT.StoredValueBooleanFilterInit.prototype={$4_0:false,get_value:function(){return this.$4_0},set_value:function(a){this.$4_0=a;return a}};NLRT.SingleQueryFilterInit=function(a,b){if(!a)return;this.$2_0=b.getAnnotationQuery(a.get_item(0))};NLRT.SingleQueryFilterInit.prototype={$2_0:null,get_query:function(){return this.$2_0},set_query:function(a){this.$2_0=a;return a}};NLRT.NumberFilterInit=function(a,b){if(!a)return;this.$2v_0=a.get_item(0);this.$2_0=!a.get_item(1)?null:b.getAnnotationQuery(a.get_item(1))};NLRT.NumberFilterInit.prototype={$2v_0:0,get_number:function(){return this.$2v_0},set_number:function(a){this.$2v_0=a;return a},$2_0:null,get_query:function(){return this.$2_0},set_query:function(a){this.$2_0=a;return a}};NLRT.StoredValueEnumFilterInit=function(a){if(!a)return;this.$p_0=a.get_item(0)===1;this.$4_0=a.get_item(1)};NLRT.StoredValueEnumFilterInit.prototype={$p_0:false,get_isMultiSelectEnum:function(){return this.$p_0},set_isMultiSelectEnum:function(a){this.$p_0=a;return a},$4_0:0,get_value:function(){return this.$4_0},set_value:function(a){this.$4_0=a;return a}};NLRT.QueryEnumFilterInit=function(a,b){if(!a)return;this.$p_0=a.get_item(0)===1;this.$2_0=b.getAnnotationQuery(a.get_item(1))};NLRT.QueryEnumFilterInit.prototype={$p_0:false,get_isMultiSelectEnum:function(){return this.$p_0},set_isMultiSelectEnum:function(a){this.$p_0=a;return a},$2_0:null,get_query:function(){return this.$2_0},set_query:function(a){this.$2_0=a;return a}};NLRT.FieldValueMatchesStructFilterInit=function(a,b){if(!a)return;this.$Q_0=a.get_item(0);this.$10_0=b.getFilter(a.get_item(1))};NLRT.FieldValueMatchesStructFilterInit.prototype={$Q_0:0,get_fieldIndex:function(){return this.$Q_0},set_fieldIndex:function(a){this.$Q_0=a;return a},$10_0:null,get_valueFilter:function(){return this.$10_0},set_valueFilter:function(a){this.$10_0=a;return a}};NLRT.SingleFilterFilterInit=function(a,b){if(!a)return;this.$R_0=b.getFilter(a.get_item(0))};NLRT.SingleFilterFilterInit.prototype={$R_0:null,get_filter:function(){return this.$R_0},set_filter:function(a){this.$R_0=a;return a}};NLRT.ValueFilterAnnotationFilterInit=function(a,b){if(!a)return;this.$1_0=b.get_annotations();this.$D_0=a.get_item(0);this.$10_0=!a.get_item(1)?null:b.getFilter(a.get_item(1))};NLRT.ValueFilterAnnotationFilterInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$D_0:0,get_attributeID:function(){return this.$D_0},set_attributeID:function(a){this.$D_0=a;return a},$10_0:null,get_valueFilter:function(){return this.$10_0},set_valueFilter:function(a){this.$10_0=a;return a}};NLRT.PredicateAnnotationFilterInit=function(a,b){if(!a)return;this.$u_0=b.getString(a.get_item(0));this.$2_0=b.getAnnotationQuery(a.get_item(1))};NLRT.PredicateAnnotationFilterInit.prototype={$u_0:null,get_varName:function(){return this.$u_0},set_varName:function(a){this.$u_0=a;return a},$2_0:null,get_query:function(){return this.$2_0},set_query:function(a){this.$2_0=a;return a}};NLRT.TextSpanFilterInit=function(a,b){if(!a)return;this.$1_0=b.get_annotations();this.$24_0=a.get_item(0);this.$23_0=a.get_item(1);this.$34_0=a.get_item(2);this.$1b_0=!a.get_item(3)?null:b.getFilter(a.get_item(3));this.$1n_0=!a.get_item(4)?null:b.getFilter(a.get_item(4));this.$26_0=!a.get_item(5)?null:b.getFilter(a.get_item(5));this.$1x_0=!a.get_item(6)?null:b.getFilter(a.get_item(6))};NLRT.TextSpanFilterInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$24_0:0,get_span_StartIndexAttrID:function(){return this.$24_0},set_span_StartIndexAttrID:function(a){this.$24_0=a;return a},$23_0:0,get_span_LengthAttrID:function(){return this.$23_0},set_span_LengthAttrID:function(a){this.$23_0=a;return a},$34_0:0,get_span_TextAttrID:function(){return this.$34_0},set_span_TextAttrID:function(a){this.$34_0=a;return a},$1b_0:null,get_textFilter:function(){return this.$1b_0},set_textFilter:function(a){this.$1b_0=a;return a},$1n_0:null,get_annotationsFilter:function(){return this.$1n_0},set_annotationsFilter:function(a){this.$1n_0=a;return a},$26_0:null,get_startIndexFilter:function(){return this.$26_0},set_startIndexFilter:function(a){this.$26_0=a;return a},$1x_0:null,get_lengthFilter:function(){return this.$1x_0},set_lengthFilter:function(a){this.$1x_0=a;return a}};NLRT.SubSreWhereConstraintFilterInit=function(a,b){if(!a)return;var c=b.getString(a.get_item(0));this.$1Q_0=c.charCodeAt(0);this.$3C_0=c.substr(1);this.$35_0=b.getSRE(a.get_item(1))};NLRT.SubSreWhereConstraintFilterInit.prototype={$1Q_0:0,get_captureReferenceType:function(){return this.$1Q_0},set_captureReferenceType:function(a){this.$1Q_0=a;return a},$3C_0:null,get_userDefinedCaptureName:function(){return this.$3C_0},set_userDefinedCaptureName:function(a){this.$3C_0=a;return a},$35_0:null,get_sre:function(){return this.$35_0},set_sre:function(a){this.$35_0=a;return a}};NLRT.NonterminalFilter=function(a,b){this.$0_0=a;this.$A_0=b};NLRT.NonterminalFilter.prototype={isMatch:function(e,f,d){for(var a=!this.$A_0,c=this.$0_0.$1p_0,g=c.length,b=0;b<g;++b){var h=c[b];a=h.isMatch(e,f,d);if(a?this.$A_0===1:!this.$A_0)return a}if(this.$A_0===2)a=!a;return a},$0_0:null,$A_0:0};NLRT.RegexStringFilter=function(a){this.$0_0=a};NLRT.RegexStringFilter.prototype={isMatch:function(a){if(!String.isInstanceOfType(a))throw Error.argument("objToTest","Expected string");var d=a;return this.$0_0.$y_0.test(a)},$0_0:null};NLRT.QueryStringFilter=function(a,b){this.$0_0=a;this.$A_0=b};NLRT.QueryStringFilter.prototype={isMatch:function(c,e){if(!String.isInstanceOfType(c))throw Error.argument("objToTest","Expected string");var a=c,d=this.$0_0.$2_0.loadInternal(null,e);if(!String.isInstanceOfType(d))throw Error.invalidOperation("Query did not return string");var b=d;if(this.$0_0.$2l_0){a=a.toUpperCase();b=b.toUpperCase()}switch(this.$A_0){case 0:return a===b;case 1:return a.indexOf(b)>=0;case 2:return a.startsWith(b);case 3:return a.endsWith(b);case 4:return b.indexOf(a)>=0;case 5:return b.startsWith(a);case 6:return b.endsWith(a);default:throw Error.notImplemented();}},$0_0:null,$A_0:0};NLRT.StoredValueBooleanFilter=function(a){this.$0_0=a};NLRT.StoredValueBooleanFilter.prototype={isMatch:function(a){if(!Boolean.isInstanceOfType(a))throw Error.argument("objToTest","Expected bool value");return a===this.$0_0.$4_0},$0_0:null};NLRT.QueryBooleanFilter=function(a){this.$0_0=a};NLRT.QueryBooleanFilter.prototype={isMatch:function(a,c){if(!Boolean.isInstanceOfType(a))throw Error.argument("objToTest","Expected bool value");var b=this.$0_0.$2_0.loadInternal(null,c);if(!Boolean.isInstanceOfType(b))throw Error.invalidOperation("Query did not return bool");return a===b},$0_0:null};NLRT.NumberFilter=function(a,b){this.$0_0=a;this.$A_0=b};NLRT.NumberFilter.prototype={isMatch:function(c,e){if(!Number.isInstanceOfType(c))throw Error.argument("objToTest","Expected number value");var b=c,a=this.$0_0.$2v_0;if(this.$0_0.$2_0){var d=this.$0_0.$2_0.loadInternal(null,e);if(!Number.isInstanceOfType(d))throw Error.invalidOperation("Query did not return number");a+=d}switch(this.$A_0){case 0:return b===a;case 1:return b<a;case 2:return b<=a;case 3:return b>a;case 4:return b>=a;default:throw Error.notImplemented();}},$0_0:null,$A_0:0};NLRT.StoredValueEnumFilter=function(a,b){this.$0_0=a;this.$A_0=b};NLRT.StoredValueEnumFilter.prototype={isMatch:function(b){if(!Number.isInstanceOfType(b))throw Error.argument("objToTest","Expected integer");var a=b;switch(this.$A_0){case 0:return this.$0_0.$p_0?!this.$0_0.$4_0?!a:!!(a&this.$0_0.$4_0):a===this.$0_0.$4_0;case 1:return this.$0_0.$p_0?(a&this.$0_0.$4_0)===this.$0_0.$4_0:a<32&&(1<<a&this.$0_0.$4_0)===this.$0_0.$4_0;case 2:return this.$0_0.$p_0?!!(a&this.$0_0.$4_0):a<32&&!!(1<<a&this.$0_0.$4_0);default:throw Error.notImplemented();}},$0_0:null,$A_0:0};NLRT.QueryEnumFilter=function(a,b){this.$0_0=a;this.$A_0=b};NLRT.QueryEnumFilter.prototype={isMatch:function(c,e){if(!Number.isInstanceOfType(c))throw Error.argument("objToTest","Expected integer");var a=c,d=this.$0_0.$2_0.loadInternal(null,e);if(!Number.isInstanceOfType(d))throw Error.invalidOperation("Query did not return an enum value");var b=d;switch(this.$A_0){case 0:return a===b;case 1:return 0!==(a&b);case 2:return a===(a&b);case 3:return b===(a&b);default:throw Error.notImplemented();}},$0_0:null,$A_0:0};NLRT.FieldValueMatchesStructFilter=function(a){this.$0_0=a};NLRT.FieldValueMatchesStructFilter.prototype={isMatch:function(a,b){if(!NLRT.IStructValue.isInstanceOfType(a))throw Error.argument("objToTest","Expected struct value");var c=a;return this.$0_0.$10_0.isMatch(c.getFieldValue(this.$0_0.$Q_0),b,null)},$0_0:null};NLRT.QueryStructFilter=function(a){this.$0_0=a};NLRT.QueryStructFilter.prototype={isMatch:function(a,b){if(!NLRT.IStructValue.isInstanceOfType(a))throw Error.argument("objToTest","Expected struct value");var c=a,d=this.$0_0.$2_0.loadInternal(null,b);if(!NLRT.IStructValue.isInstanceOfType(d))throw Error.invalidOperation("Query did not return struct value");var e=a;return c.isEqual(e)},$0_0:null};NLRT.ItemTestListFilter=function(a,b){this.$0_0=a;this.$A_0=b};NLRT.ItemTestListFilter.prototype={isMatch:function(c,d){if(!NLRT.IListValue.isInstanceOfType(c))throw Error.argument("objToTest","Expected list value");var g=c;switch(this.$A_0){case 0:for(var e=g.get_items(),h=e.length,a=0;a<h;++a){var j=e[a];if(this.$0_0.$R_0.isMatch(j,d,null))return true}return false;case 1:for(var f=g.get_items(),i=f.length,b=0;b<i;++b){var k=f[b];if(!this.$0_0.$R_0.isMatch(k,d,null))return false}return true;default:throw Error.notImplemented();}},$0_0:null,$A_0:0};NLRT.LengthMatchesListFilter=function(a){this.$0_0=a};NLRT.LengthMatchesListFilter.prototype={isMatch:function(a,b){if(!NLRT.IListValue.isInstanceOfType(a))throw Error.argument("objToTest","Expected list value");var c=a;return this.$0_0.$R_0.isMatch(c.get_items().length,b,null)},$0_0:null};NLRT.QueryListFilter=function(a,b){this.$0_0=a;this.$A_0=b};NLRT.QueryListFilter.prototype={isMatch:function(i,q){if(!NLRT.IListValue.isInstanceOfType(i))throw Error.argument("objToTest","Expected list value");var a=i,p=this.$0_0.$2_0.loadInternal(null,q);if(!NLRT.IListValue.isInstanceOfType(p))throw Error.invalidOperation("Query did not return list value");var b=p;if(a.get_memberTypeID()!==b.get_memberTypeID())return false;switch(this.$A_0){case 0:return NLRT.Annotations.$19(NLRT.Annotations.getListTypeID(a.get_memberTypeID()),a,b);case 1:for(var j=a.get_items(),r=j.length,c=0;c<r;++c)for(var x=j[c],k=b.get_items(),s=k.length,d=0;d<s;++d){var y=k[d];if(NLRT.Annotations.$19(a.get_memberTypeID(),x,y))return true}return false;case 2:for(var l=a.get_items(),t=l.length,e=0;e<t;++e)for(var z=l[e],m=b.get_items(),u=m.length,f=0;f<u;++f){var A=m[f];if(!NLRT.Annotations.$19(a.get_memberTypeID(),z,A))return false}return true;case 3:for(var n=b.get_items(),v=n.length,g=0;g<v;++g)for(var B=n[g],o=a.get_items(),w=o.length,h=0;h<w;++h){var C=o[h];if(!NLRT.Annotations.$19(a.get_memberTypeID(),B,C))return false}return true;default:throw Error.notImplemented();}},$0_0:null,$A_0:0};NLRT.HasAnnotationsAnnotationFilter=function(a){this.$2F_0=a};NLRT.HasAnnotationsAnnotationFilter.prototype={isMatch:function(a){if(!NLRT.IFeatureBundle.isInstanceOfType(a))throw Error.argument("objToTest","Expected feature bundle");var b=a;return!!(this.$2F_0^b.get_hasAnnotations())},$2F_0:false};NLRT.AnnotatedWithAnnotationFilter=function(b,a){this.$0_0=b;this.$2F_0=a};NLRT.AnnotatedWithAnnotationFilter.prototype={isMatch:function(a){if(!NLRT.IFeatureBundle.isInstanceOfType(a))throw Error.argument("objToTest","Expected feature bundle");var e=a,d,b,c;return!!(this.$2F_0^(c=e.tryGetAnnotation_Cast(Object,this.$0_0.$D_0,b={val:d}),d=b.val,c))},$0_0:null,$2F_0:false};NLRT.AnnotatedWithAndValueMatchesAnnotationFilter=function(b,a){this.$0_0=b;this.$4O_0=a};NLRT.AnnotatedWithAndValueMatchesAnnotationFilter.prototype={isMatch:function(b,e){if(!NLRT.IFeatureBundle.isInstanceOfType(b))throw Error.argument("objToTest","Expected feature bundle");var f=b,a,c,d;return!(d=f.tryGetAnnotation_Cast(Object,this.$0_0.$D_0,c={val:a}),a=c.val,d)?this.$4O_0:this.$0_0.$10_0.isMatch(a,e,null)},$0_0:null,$4O_0:false};NLRT.PredicateAnnotationFilter=function(a){this.$0_0=a};NLRT.PredicateAnnotationFilter.prototype={isMatch:function(a,c){if(!NLRT.IFeatureBundle.isInstanceOfType(a))throw Error.argument("objToTest","Expected feature bundle");var d=a,b=this.$0_0.$2_0.loadInternal(null,new NLRT.SimpleNamedFeatureBundleResolver(this.$0_0.$u_0,d,c));if(!Boolean.isInstanceOfType(b))throw Error.invalidOperation("Query did not return bool");return b},$0_0:null};NLRT.TextSpanFilter=function(a){this.$0_0=a};NLRT.TextSpanFilter.prototype={isMatch:function(i,b,e){if(!NLRT.IFeatureBundle.isInstanceOfType(i))throw Error.argument("objToTest","Expected feature bundle");var a=i;if(e==null)throw Error.argumentNull("parentTextForSpan");if(this.$0_0.$1n_0&&!this.$0_0.$1n_0.isMatch(a,b,null))return false;if(this.$0_0.$1b_0){var f,j,k;if(k=a.tryGetAnnotation_Cast(String,this.$0_0.$34_0,j={val:f}),f=j.val,k){if(!this.$0_0.$1b_0.isMatch(f,b,null))return false}else{var c,d,l,m,n,o;if(!(m=a.tryGetAnnotation_Cast(Number,this.$0_0.$24_0,l={val:c}),c=l.val,m)||!(o=a.tryGetAnnotation_Cast(Number,this.$0_0.$23_0,n={val:d}),d=n.val,o)||c<0||d<0||c+d>e.length)return false;if(!this.$0_0.$1b_0.isMatch(e.substr(c,d),b,null))return false}}if(this.$0_0.$26_0){var g,p,q;if(!(q=a.tryGetAnnotation_Cast(Number,this.$0_0.$24_0,p={val:g}),g=p.val,q)||!this.$0_0.$26_0.isMatch(g,b,null))return false}if(this.$0_0.$1x_0){var h,r,s;if(!(s=a.tryGetAnnotation_Cast(Number,this.$0_0.$23_0,r={val:h}),h=r.val,s)||!this.$0_0.$1x_0.isMatch(h,b,null))return false}return true},$0_0:null};NLRT.QueryWhereConstraintFilter=function(a){this.$0_0=a};NLRT.QueryWhereConstraintFilter.prototype={isMatch:function(d,b){var a=this.$0_0.$2_0.loadInternal(null,b);if(!Boolean.isInstanceOfType(a))throw Error.invalidOperation("Query did not return bool");return a},$0_0:null};NLRT.SubSreWhereConstraintFilter=function(a){this.$0_0=a};NLRT.SubSreWhereConstraintFilter.prototype={isMatch:function(f,h){if(!NLRT.SpanRegularExpression.WHEREConstraintData.isInstanceOfType(f))throw Error.argument("objToTest","Expected WHERE constraint data");var a=f,b=-1,d=-1,e=a.$3Y_0;switch(this.$0_0.$1Q_0){case 4:b=e.$W_0;d=e.$m_0;break;case 5:b=a.$x_0;d=e.$W_0-a.$x_0;break;case 6:b=e.$W_0+e.$m_0;d=a.$x_0+a.$1r_0-b;break;case 1:case 2:case 3:for(var g=false,c=e.$3W_0;c;c=c.$l_0)if(this.$0_0.$3C_0===c.$q_0){g=true;if(this.$0_0.$1Q_0===1){b=c.$W_0;d=c.$m_0}else if(this.$0_0.$1Q_0===2){b=a.$x_0;d=c.$W_0-a.$x_0}else{b=c.$W_0+c.$m_0;d=a.$x_0+a.$1r_0-b}break}if(!g)return false;break;case 7:b=a.$x_0;d=a.$1r_0;break;default:throw Error.notImplemented();}return null!==this.$0_0.$35_0.getNextMatch(e.$36_0,b,d,b,true,2,h)},$0_0:null};NLRT.INLModule=function(){};NLRT.INLModule.registerInterface("NLRT.INLModule");NLRT.INLModuleFactory=function(){};NLRT.INLModuleFactory.registerInterface("NLRT.INLModuleFactory");NLRT.ITransliterationStage=function(){};NLRT.ITransliterationStage.registerInterface("NLRT.ITransliterationStage");NLRT.FlatLexiconNLModuleInit=function(b,c){this.$1_0=c.get_annotations();var a=0;try{this.$O_0=b.get_item(a);++a;this.$S_0=b.get_item(a);++a;this.$9_0=b.get_item(a);++a;this.$B_0=b.get_item(a);++a;this.$a_0=b.get_item(a);++a;this.$1X_0=b.get_item(a);++a;this.$1H_0=b.get_item(a);++a;this.$1P_0=b.get_item(a);++a;this.$1E_0=b.get_item(a)===1;++a;this.$2n_0=b.get_item(a)===1;++a;this.$2o_0=b.get_item(a)===1;++a;this.$1D_0=c.getRawFlatLexicon(b.get_item(a));++a}catch(d){throw Error.argument("initData");}};NLRT.FlatLexiconNLModuleInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$O_0:0,get_attr_NLMod_Tokens:function(){return this.$O_0},set_attr_NLMod_Tokens:function(a){this.$O_0=a;return a},$S_0:0,get_attr_NLMod_ParentText:function(){return this.$S_0},set_attr_NLMod_ParentText:function(a){this.$S_0=a;return a},$9_0:0,get_attr_Span_StartIndex:function(){return this.$9_0},set_attr_Span_StartIndex:function(a){this.$9_0=a;return a},$B_0:0,get_attr_Span_Length:function(){return this.$B_0},set_attr_Span_Length:function(a){this.$B_0=a;return a},$a_0:0,get_attr_Span_Text:function(){return this.$a_0},set_attr_Span_Text:function(a){this.$a_0=a;return a},$1X_0:0,get_singleAnalysisAttribute:function(){return this.$1X_0},set_singleAnalysisAttribute:function(a){this.$1X_0=a;return a},$1H_0:0,get_multipleAnalysesAttribute:function(){return this.$1H_0},set_multipleAnalysesAttribute:function(a){this.$1H_0=a;return a},$1P_0:0,get_booleanAttribute:function(){return this.$1P_0},set_booleanAttribute:function(a){this.$1P_0=a;return a},$1E_0:false,get_isChunkingPhrasalEntries:function(){return this.$1E_0},set_isChunkingPhrasalEntries:function(a){this.$1E_0=a;return a},$2n_0:false,get_isNormalizingPhrasalWhitespace:function(){return this.$2n_0},set_isNormalizingPhrasalWhitespace:function(a){this.$2n_0=a;return a},$2o_0:false,get_isOverlayingSingleAnalysis:function(){return this.$2o_0},set_isOverlayingSingleAnalysis:function(a){this.$2o_0=a;return a},$1D_0:null,get_flatLexicon:function(){return this.$1D_0},set_flatLexicon:function(a){this.$1D_0=a;return a}};NLRT.FlatLexiconNLModule=function(a){a.$1X_0>=0;a.$1H_0>=0;a.$1P_0>=0;this.$0_0=a};NLRT.FlatLexiconNLModule.prototype={execute:function(b){var c,d,e;if(!(e=b.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_0.$O_0,d={val:c}),c=d.val,e))throw Error.argument("Expected input parameter NLMod.Tokens not found");var a,f,g;if(!(g=b.tryGetAnnotation_Cast(String,this.$0_0.$S_0,f={val:a}),a=f.val,g))a=null;var i=this.$5C_0(c,a),h=NLRT.Annotations.$Y(b);h.setAnnotation(this.$0_0.$O_0,i);return h},$5C_0:function(d,t){var b=null,u=this.$0_0.$1D_0.get_trie(),f=new NLRT.FlatLexiconNLModule.TriePrefixVisitor(this,d,t),q=null;if(this.$0_0.$1D_0.isCaseInsensitive()){var e=this.$0_0.$1D_0;q=e.$$d_getCaseInsensitiveForm||(e.$$d_getCaseInsensitiveForm=Function.createDelegate(e,e.getCaseInsensitiveForm))}var a=0,c,g,h;while(a<d.get_items().length){var r=d.get_items()[a];f.resetStartingFrom(a);u.visitPrefixes(f,q);var l,m,n;f.getLookupResults(l={val:c},m={val:g},n={val:h}),c=l.val,g=m.val,h=n.val;if(c>0){var i,o,p;p=this.$0_0.$1D_0.getAnalysesForTrieTag(g,o={val:i}),i=o.val,p;var k=this.$58_0(d,a,c,i).$$ge();while(k.$$mn()){var s=k.$$cu();c>1&&this.$0_0.$1E_0&&this.$59_0(d,t,a,r,c,h,s);if(!b){b=new NLRT.ListValue(this.$0_0.$1_0,9);for(var j=0;j<a;++j)Array.add(b.get_items(),d.get_items()[j])}Array.add(b.get_items(),s)}a+=c}else{b&&Array.add(b.get_items(),r);++a}}return b||d},$59_0:function(p,h,q,J,r,K,c){var a;if(K)a=true;else if(this.$0_0.$2n_0){a=false;for(var b=-1,e=0;e<r;e++){var H=p.get_items()[q+e],f,k,t,u,v,w;if(!(u=H.tryGetAnnotation_Cast(Number,this.$0_0.$9_0,t={val:f}),f=t.val,u)||!(w=H.tryGetAnnotation_Cast(Number,this.$0_0.$B_0,v={val:k}),k=v.val,w))throw Error.invalidOperation("FlatLexiconNLModule: token unexpectedly missing one or more required Span.* annotations");if(e>0){if(f>b+1){a=true;break}if(b<0||null===h||b>=h.length)throw Error.invalidOperation("FlatLexiconNLModule: token with unexpectedly out of range Span.StartIndex/Span.Length annotations");if(h.charAt(b)!==" "){a=true;break}}b=f+k}}else a=false;if(a){for(var l=new Sys.StringBuilder,g=0;g<r;++g){var m,n,o,I,x,y,z,A;this.$4v_0(p.get_items()[q+g],h,x={val:m},y={val:n},z={val:o},A={val:I}),m=x.val,n=y.val,o=z.val,I=A.val;g>0&&l.append(" ");l.append(m.substr(n,o))}c.setAnnotation(this.$0_0.$a_0,l.toString())}var G=p.get_items()[q+r-1],d,i,j,B,C,D,E,F,s;if((C=J.tryGetAnnotation_Cast(Number,this.$0_0.$9_0,B={val:d}),d=B.val,C)&&(E=G.tryGetAnnotation_Cast(Number,this.$0_0.$9_0,D={val:i}),i=D.val,E)&&(s=G.tryGetAnnotation_Cast(Number,this.$0_0.$B_0,F={val:j}),j=F.val,s)){c.setAnnotation(this.$0_0.$9_0,d);c.setAnnotation(this.$0_0.$B_0,i+j-d)}else{c.removeAnnotation(this.$0_0.$9_0);c.removeAnnotation(this.$0_0.$B_0)}},$58_0:function(a,b,c,d){return new NLRT.FlatLexiconNLModule.$$sm_Microsoft$NaturalLanguage$Runtime$ScriptSharp$NLModules$FlatLexiconNLModule$CreateNewTokenAndApplyLexicalAnalyses(this,a,b,c,d)},$4v_0:function(d,e,a,b,c,f){if(d.tryGetAnnotation_Cast(String,this.$0_0.$a_0,a)){f.val=true;b.val=0;c.val=a.val.length}else{f.val=false;if(null===e)throw Error.argument("parentText","Expected parameter NLMod.ParentText not found");a.val=e;if(!d.tryGetAnnotation_Cast(Number,this.$0_0.$9_0,b))throw Error.argument("Token missing required Span.StartIndex annotation","token");if(!d.tryGetAnnotation_Cast(Number,this.$0_0.$B_0,c))throw Error.argument("Token missing required Span.Length annotation","token");if(b.val<0||c.val<0||b.val+c.val>a.val.length)throw Error.argument("Token start/length values out of range","token");}},$0_0:null};NLRT.FlatLexiconNLModule.TriePrefixVisitor=function(b,c,a){this.$2I_0=b;this.$3S_0=c;this.$4h_0=a};NLRT.FlatLexiconNLModule.TriePrefixVisitor.prototype={getNextChar:function(b){if(null===this.$1O_0){var a,c,d,e,f;this.$2I_0.$4v_0(this.$3S_0.get_items()[this.$2G_0],this.$4h_0,c={val:this.$1O_0},d={val:this.$3L_0},e={val:this.$2C_0},f={val:a}),this.$1O_0=c.val,this.$3L_0=d.val,this.$2C_0=e.val,a=f.val;this.$3M_0=!!(this.$3M_0|a)}if(this.$1f_0<this.$2C_0){b.val=this.$1O_0.charAt(this.$3L_0+this.$1f_0);++this.$1f_0;return true}else if(this.$2G_0===this.$3S_0.get_items().length-1){b.val="\0";return false}else{++this.$2G_0;this.$1f_0=0;this.$1O_0=null;b.val=" ";return true}},registerTrieEnding:function(b,a){if(this.$1f_0===this.$2C_0&&this.$1O_0){this.$3x_0=a;this.$3q_0=this.$2G_0-this.$4X_0+1}},resetStartingFrom:function(a){if(a<0||a>=this.$3S_0.get_items().length)throw Error.argumentOutOfRange("iToken");this.$4X_0=a;this.$2G_0=a;this.$1O_0=null;this.$3L_0=0;this.$2C_0=0;this.$1f_0=0;this.$3q_0=0;this.$3x_0=-1;this.$3M_0=false},getLookupResults:function(a,c,b){a.val=this.$3q_0;c.val=this.$3x_0;b.val=this.$3M_0},$2I_0:null,$3S_0:null,$4h_0:null,$4X_0:0,$2G_0:0,$1O_0:null,$3L_0:0,$2C_0:0,$1f_0:0,$3q_0:0,$3x_0:0,$3M_0:false};NLRT.FlatLexiconNLModule.$$sm_Microsoft$NaturalLanguage$Runtime$ScriptSharp$NLModules$FlatLexiconNLModule$CreateNewTokenAndApplyLexicalAnalyses=function(e,d,b,a,c){this.$$ge=this.getEnumerator;this.$$cu=this.get_current;this.$$mn=this.moveNext;this.$$rst=this.reset;this.$C_0=e;this.$47_0=d;this.$43_0=d;this.$45_0=b;this.$42_0=b;this.$44_0=a;this.$1k_0=a;this.$46_0=c;this.$1l_0=c};NLRT.FlatLexiconNLModule.$$sm_Microsoft$NaturalLanguage$Runtime$ScriptSharp$NLModules$FlatLexiconNLModule$CreateNewTokenAndApplyLexicalAnalyses.prototype={$1k_0:0,$42_0:0,$1l_0:null,$43_0:null,$44_0:0,$45_0:0,$46_0:null,$47_0:null,$C_0:null,$3D_0:0,$48_0:null,$1K_0:0,$49_0:null,$3E_0:0,$2A_0:null,$c_0:null,$1L_0:null,$3e_0:null,$4A_0:0,$4C_0:null,$3f_0:null,$v_0:-1,$50_0:function(){this.$3E_0=0;return this.$4j_0},$4j_0:function(){if(!(this.$3E_0<this.$1k_0))return this.$4k_0;this.$2A_0=this.$43_0.get_items()[this.$3E_0+this.$42_0];this.$c_0=new NLRT.FeatureBundle(this.$C_0.$0_0.$1_0);(this.$1k_0===1||!this.$C_0.$0_0.$1E_0)&&this.$c_0.copyAnnotationsFrom(this.$2A_0);if(this.$C_0.$0_0.$1H_0>=0){var a,b;if(b=this.$c_0.tryGetAnnotation_Cast(NLRT.ListValue,this.$C_0.$0_0.$1H_0,a={val:this.$1L_0}),this.$1L_0=a.val,b)this.$1L_0=this.$1L_0.cloneIfReadOnly();else this.$1L_0=new NLRT.ListValue(this.$C_0.$0_0.$1_0,9);this.$3e_0=this.$1l_0.get_items();this.$4A_0=this.$3e_0.length;this.$3D_0=0;for(;this.$3D_0<this.$4A_0;++this.$3D_0){this.$48_0=this.$3e_0[this.$3D_0];Array.add(this.$1L_0.$k_0,this.$48_0)}this.$c_0.setAnnotation(this.$C_0.$0_0.$1H_0,this.$1L_0)}else if(this.$C_0.$0_0.$1X_0>=0)this.$c_0.setAnnotation(this.$C_0.$0_0.$1X_0,this.$1l_0.get_items()[0]);else if(this.$C_0.$0_0.$1P_0>=0)this.$c_0.setAnnotation(this.$C_0.$0_0.$1P_0,true);else if(this.$C_0.$0_0.$2o_0){var i=this;this.$1l_0.get_items()[0].forEachAnnotation(function(a,b){return i.$c_0.setAnnotation(a,b)})}else{this.$c_0.copyAnnotationsFrom(this.$1l_0.get_items()[0]);if(this.$1k_0===1||!this.$C_0.$0_0.$1E_0){var c,d;(d=this.$2A_0.tryGetAnnotation_Cast(Number,this.$C_0.$0_0.$9_0,c={val:this.$1K_0}),this.$1K_0=c.val,d)&&this.$c_0.setAnnotation(this.$C_0.$0_0.$9_0,this.$1K_0);var e,f;(f=this.$2A_0.tryGetAnnotation_Cast(Number,this.$C_0.$0_0.$B_0,e={val:this.$1K_0}),this.$1K_0=e.val,f)&&this.$c_0.setAnnotation(this.$C_0.$0_0.$B_0,this.$1K_0);var g,h;(h=this.$2A_0.tryGetAnnotation_Cast(String,this.$C_0.$0_0.$a_0,g={val:this.$49_0}),this.$49_0=g.val,h)&&this.$c_0.setAnnotation(this.$C_0.$0_0.$a_0,this.$1K_0)}}this.$4C_0=this.$c_0;this.$v_0=2;return this.$52_0},$4k_0:function(){this.$v_0=3},$51_0:function(){this.$3E_0++;return this.$4j_0},$52_0:function(){return this.$1k_0>1&&this.$C_0.$0_0.$1E_0?this.$4k_0:this.$51_0},dispose:function(){},getEnumerator:function(){if(this.$v_0===-1){this.$v_0=0;return this}return new NLRT.FlatLexiconNLModule.$$sm_Microsoft$NaturalLanguage$Runtime$ScriptSharp$NLModules$FlatLexiconNLModule$CreateNewTokenAndApplyLexicalAnalyses(this.$C_0,this.$47_0,this.$45_0,this.$44_0,this.$46_0).getEnumerator()},moveNext:function(){if(this.$v_0===3)return false;if(!this.$v_0){this.$v_0=1;this.$3f_0=this.$50_0()}else this.$v_0=1;while(this.$v_0===1)this.$3f_0=this.$3f_0();return this.$v_0!==3},reset:function(){throw Error.invalidOperation("Reset() is not supported");},get_current:function(){return this.$4C_0}};NLRT.NGramNLModuleInit=function(b,c){if(!b)return;this.$1_0=c.get_annotations();var a=0;try{this.$1F_0=b.get_item(a)===1;++a;this.$2q_0=b.get_item(a)===1;++a;this.$j_0=b.get_item(a)===1;++a;this.$d_0=b.get_item(a);++a;this.$e_0=b.get_item(a);++a;this.$f_0=b.get_item(a);++a;this.$S_0=b.get_item(a);++a;this.$O_0=b.get_item(a);++a;this.$9_0=b.get_item(a);++a;this.$B_0=b.get_item(a);++a;this.$a_0=b.get_item(a);++a;this.$1d_0=this.$5T_0(c.getByteArray(b.get_item(a)));++a;this.$21_0=b.get_item(a);++a;this.$20_0=b.get_item(a);++a;var f=b.get_item(a);++a;this.$28_0=new Array(f);for(var d=0;d<f;++d){var h=b.get_item(a);++a;var l=this.$1d_0.get_trie(),i=new(NLRT.ReadOnlyList$1.$$(Number));i.fromReadOnlyList(b,a,h);this.$28_0[d]=this.$5U_0(i,c,l);a+=h}var g=b.get_item(a);++a;this.$1R_0=new Array(g);for(var e=0;e<g;++e){var j=b.get_item(a);++a;var k=new(NLRT.ReadOnlyList$1.$$(Number));k.fromReadOnlyList(b,a,j);this.$1R_0[e]=this.$5Q_0(k);a+=j}}catch(m){throw Error.argument("initData");}};NLRT.NGramNLModuleInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$1F_0:false,get_isForSequenceLabeling:function(){return this.$1F_0},set_isForSequenceLabeling:function(a){this.$1F_0=a;return a},$2q_0:false,get_isUniqifyingFeatureLists:function(){return this.$2q_0},set_isUniqifyingFeatureLists:function(a){this.$2q_0=a;return a},$j_0:false,get_isGeneratingFloatingPointFeatures:function(){return this.$j_0},set_isGeneratingFloatingPointFeatures:function(a){this.$j_0=a;return a},$d_0:0,get_attr_NLMod_BooleanFeatureIDs:function(){return this.$d_0},set_attr_NLMod_BooleanFeatureIDs:function(a){this.$d_0=a;return a},$e_0:0,get_attr_NLMod_FloatingPointFeatureIDs:function(){return this.$e_0},set_attr_NLMod_FloatingPointFeatureIDs:function(a){this.$e_0=a;return a},$f_0:0,get_attr_NLMod_FloatingPointFeatureIDValues:function(){return this.$f_0},set_attr_NLMod_FloatingPointFeatureIDValues:function(a){this.$f_0=a;return a},$S_0:0,get_attr_NLMod_ParentText:function(){return this.$S_0},set_attr_NLMod_ParentText:function(a){this.$S_0=a;return a},$O_0:0,get_attr_NLMod_Tokens:function(){return this.$O_0},set_attr_NLMod_Tokens:function(a){this.$O_0=a;return a},$9_0:0,get_attr_Span_StartIndex:function(){return this.$9_0},set_attr_Span_StartIndex:function(a){this.$9_0=a;return a},$B_0:0,get_attr_Span_Length:function(){return this.$B_0},set_attr_Span_Length:function(a){this.$B_0=a;return a},$a_0:0,get_attr_Span_Text:function(){return this.$a_0},set_attr_Span_Text:function(a){this.$a_0=a;return a},$1d_0:null,get_tokenString2TokenStringIdStringTable:function(){return this.$1d_0},set_tokenString2TokenStringIdStringTable:function(a){this.$1d_0=a;return a},$21_0:0,get_preInitialTokenStringId:function(){return this.$21_0},set_preInitialTokenStringId:function(a){this.$21_0=a;return a},$20_0:0,get_postFinalTokenStringId:function(){return this.$20_0},set_postFinalTokenStringId:function(a){this.$20_0=a;return a},$28_0:null,get_tokenStringGenerators:function(){return this.$28_0},set_tokenStringGenerators:function(a){this.$28_0=a;return a},$1R_0:null,get_featureTemplates:function(){return this.$1R_0},set_featureTemplates:function(a){this.$1R_0=a;return a},$5T_0:function(a){return new NLRT.StringTable(new NLRT.StringTableInit(a))},$5U_0:function(a,b,c){return NLRT.TokenStringGenerator.create(a,b,c)},$5Q_0:function(a){return new NLRT.FeatureTemplate(a)}};NLRT.NGramNLModule=function(e){this.get_tokenStringTable=this.get_$5g_0;this.getTokenSurfaceString=this.$5h_0;this.$0_0=e;this.$3R_0=0;this.$3Q_0=0;this.$2H_0=0;for(var c=this.$0_0.$1R_0,d=c.length,a=0;a<d;++a){var b=c[a];this.$3R_0=Math.max(this.$3R_0,b.get_preInitialTokenPositions());this.$3Q_0=Math.max(this.$3Q_0,b.get_postFinalTokenPositions());this.$2H_0=Math.max(this.$2H_0,b.get_slots().length)}};NLRT.NGramNLModule.prototype={get_filterTrie:function(){return this.$0_0.$1d_0.get_trie()},execute:function(f){if(!f)throw Error.argumentNull("input");var a,g,r,s;this.$5J_0(f,r={val:a},s={val:g}),a=r.val,g=s.val;var d=null,b=null,h={};if(this.$0_0.$1F_0){a=NLRT.Annotations.$Y(a);for(var j=0;j<a.get_items().length;++j)a.get_items()[j]=NLRT.Annotations.$Y(a.get_items()[j])}else{var t,u;d=(u=this.$4t_0(f,h,t={val:b}),b=t.val,u)}for(var z=new Array(this.$2H_0),o=new Array(this.$2H_0),p=0;p<o.length;++p)o[p]=new NLRT.NGramNLModule.FeatureGenStackRec;for(var c=-this.$3R_0;c<a.get_items().length+this.$3Q_0;++c){var k=null;if(this.$0_0.$1F_0){k=a.get_items()[c];h={};var v,w;d=(w=this.$4t_0(k,h,v={val:b}),b=v.val,w)}for(var q=this.$0_0.$1R_0,B=q.length,n=0;n<B;++n){var e=q[n];if(c<0&&-c>e.get_preInitialTokenPositions()||c>=a.get_items().length&&c-a.get_items().length+1>e.get_postFinalTokenPositions())continue;for(var A=true,l=0;l<e.get_slots().length;++l){var m=c+e.get_slots()[l];z[l]=m;if(m<0?this.$0_0.$21_0<0:m>=a.get_items().length?this.$0_0.$20_0<0:!g.$z_0[m]){A=false;break}}if(!A)continue;var x,y;this.$5K_0(e,g,x={val:d},y={val:b},h,o,z),d=x.val,b=y.val}if(this.$0_0.$1F_0){k.setAnnotation(this.$0_0.$j_0?this.$0_0.$e_0:this.$0_0.$d_0,d);this.$0_0.$j_0&&k.setAnnotation(this.$0_0.$f_0,b)}}var i=NLRT.Annotations.$Y(f);if(this.$0_0.$1F_0)i.setAnnotation(this.$0_0.$O_0,a);else{i.setAnnotation(this.$0_0.$j_0?this.$0_0.$e_0:this.$0_0.$d_0,d);this.$0_0.$j_0&&i.setAnnotation(this.$0_0.$f_0,b)}return i},$5J_0:function(e,f,b){if(!e||!e.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_0.$O_0,f))throw Error.argument("Expected input parameter NLMod.Tokens not found");var d,j,k;if(!(k=e.tryGetAnnotation_Cast(String,this.$0_0.$S_0,j={val:d}),d=j.val,k))d="";b.val=new NLRT.TokenStringLattice(f.val.get_items().length);for(var r=this,q=NLRT.ArrayUtils.where(NLRT.ITokenStringGenerator,this.$0_0.$28_0,function(a){return!a.get_inputFilter()||a.get_inputFilter().isMatch(e,null,null)}),a=0;a<f.val.get_items().length;++a){var n=f.val.get_items()[a],o=null;b.val.$1c_0[a]=b.val.$1Z_0.length;b.val.$z_0[a]=0;for(var h=0,i=q,p=i.length,g=0;g<p;++g){var c=i[g];if(c.get_maxExistingStrings()>0&&b.val.$z_0[a]+h>=c.get_maxExistingStrings())continue;if(c.get_tokenFilter()&&!c.get_tokenFilter().isMatch(n,null,null))continue;var l,m;c.apply(this,n,a,b.val,d,l={val:o},m={val:h}),o=l.val,h=m.val}}},$5K_0:function(l,e,j,f,s,b,u){var a=0;b[0].iCurrAlternative=-1;b[0].filterNode=l.get_rootFilterNode();while(true){var d=u[a],t=d<0||d>=e.$z_0.length?1:e.$z_0[d],q=false;while(b[a].iCurrAlternative<t-1){++b[a].iCurrAlternative;var g,h;if(d<0){g=this.$0_0.$21_0;h=1}else if(d>=e.$1c_0.length){g=this.$0_0.$20_0;h=1}else{var r=e.$1c_0[d]+b[a].iCurrAlternative;g=e.$1Z_0[r];h=e.$27_0[r]}b[a].scoreSoFar=h*(!a?l.get_score():b[a-1].scoreSoFar);var i,m,n;if(n=NLRT.DictionaryUtils.tryGetValue(Object,b[a].filterNode,g.toString(),m={val:i}),i=m.val,n){if(a===l.get_slots().length-1){var k=i;if(b[a].scoreSoFar){var c,o,p;if(!(p=NLRT.DictionaryUtils.tryGetValue(Number,s,k.toString(),o={val:c}),c=o.val,p))c=-1;if(c<0){j.val=NLRT.Annotations.$Y(j.val);Array.add(j.val.get_items(),k)}if(this.$0_0.$j_0){f.val=NLRT.Annotations.$Y(f.val);if(c<0)Array.add(f.val.get_items(),b[a].scoreSoFar);else f.val.get_items()[c]=f.val.get_items()[c]+b[a].scoreSoFar}if(c<0&&(this.$0_0.$2q_0||this.$0_0.$j_0))s[k.toString()]=j.val.get_items().length-1}}else{++a;b[a].iCurrAlternative=-1;b[a].filterNode=i}q=true;break}}if(!q){--a;if(a<0)break}}},$4t_0:function(d,g,c){var a,e,f;if(f=d.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_0.$j_0?this.$0_0.$e_0:this.$0_0.$d_0,e={val:a}),a=e.val,f)for(var b=0;b<a.get_items().length;++b)g[a.get_items()[b].toString()]=b;else a=new NLRT.ListValue(this.$0_0.$1_0,3);if(this.$0_0.$j_0){if(!d.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_0.$f_0,c))c.val=new NLRT.ListValue(this.$0_0.$1_0,5);if(c.val.get_items().length!==a.get_items().length)throw Error.argument("Length mismatch between NLMod.FloatingPointFeatureIDs and NLMod.FloatingPointFeatureValues on item "+this.$0_0.$1_0.valueToString(9,d));}else c.val=null;return a},get_$5g_0:function(){return this.$0_0.$1d_0},$5h_0:function(l,e){var c,d,f,g;if(g=e.tryGetAnnotation_Cast(String,this.$0_0.$a_0,f={val:d}),d=f.val,g)c=d;else{var a,h,i;if(!(i=e.tryGetAnnotation_Cast(Number,this.$0_0.$9_0,h={val:a}),a=h.val,i))throw Error.argument("Token is missing Span.StartIndex");var b,j,k;if(!(k=e.tryGetAnnotation_Cast(Number,this.$0_0.$B_0,j={val:b}),b=j.val,k))throw Error.argument("Token is missing Span.Length");if(a<0||b<0||a+b>l.length)throw Error.argument("Token indices are out of range");c=l.substr(a,b)}return c},$0_0:null,$3R_0:0,$3Q_0:0,$2H_0:0};NLRT.NGramNLModule.FeatureGenStackRec=function(){};NLRT.NGramNLModule.FeatureGenStackRec.prototype={iCurrAlternative:0,filterNode:null,scoreSoFar:0};NLRT.NLModuleFactory=function(){};NLRT.NLModuleFactory.prototype={getNLModule:function(c,b){var d=c.get_item(0),a=new(NLRT.ReadOnlyList$1.$$(Number));a.fromReadOnlyList(c,1,c.get_count()-1);switch(d){case 0:return new NLRT.ScriptNLModule(new NLRT.ScriptNLModuleInit(a,b));case 2:return new NLRT.TokenizerNLModule(new NLRT.TokenizerNLModuleInit(a,b));case 3:return new NLRT.NGramNLModule(new NLRT.NGramNLModuleInit(a,b));case 5:return new NLRT.FlatLexiconNLModule(new NLRT.FlatLexiconNLModuleInit(a,b));case 9:return new NLRT.TransliteratorNLModule(new NLRT.TransliteratorNLModuleInit(a,b));case 10:return new NLRT.TfIdfRankerNLModule(new NLRT.TfIdfRankerNLModuleInit(a,b));default:throw Error.notImplemented();}}};NLRT.TfIdfRankerNLModuleInit=function(b,c){this.$1_0=c.get_annotations();var a=0;this.$2T_0=b.get_item(a);++a;this.$d_0=b.get_item(a);++a;this.$2U_0=b.get_item(a);++a;this.$2V_0=b.get_item(a);++a;this.$e_0=b.get_item(a);++a;this.$f_0=b.get_item(a);++a;this.$2P_0=b.get_item(a);++a;this.$2Q_0=b.get_item(a);++a;this.$2R_0=b.get_item(a);++a;this.$2S_0=b.get_item(a);++a;var e=b.get_item(a);++a;for(var f=new Array(e),d=0;d<e;++d){f[d]=c.getString(b.get_item(a));++a}this.$2a_0=NLRT.ReadOnlyList$1.$$(String).createReadOnlyList(f);this.$2r_0=b.get_item(a);++a;this.$31_0=b.get_item(a);++a;var h=b.get_item(a);++a;this.$1s_0={};for(var g=0;g<h;++g){var k=c.getString(b.get_item(a));++a;var l=b.get_item(a);++a;this.$1s_0[k]=l}this.$1U_0=b.get_item(a);++a;this.$2t_0=b.get_item(a);++a;var i=b.get_item(a);++a;if(i>0){var m=c.getByteArray(b.get_item(a));++a;this.$1z_0=this.$3z_0(new NLRT.ByteArrayReader(m))}++a;var j=c.getByteArray(b.get_item(a));++a;this.$5R_0(j)};NLRT.TfIdfRankerNLModuleInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$2T_0:0,get_attr_NLMod_BooleanFeatures:function(){return this.$2T_0},set_attr_NLMod_BooleanFeatures:function(a){this.$2T_0=a;return a},$d_0:0,get_attr_NLMod_BooleanFeatureIDs:function(){return this.$d_0},set_attr_NLMod_BooleanFeatureIDs:function(a){this.$d_0=a;return a},$2U_0:0,get_attr_NLMod_FloatingPointFeatureNames:function(){return this.$2U_0},set_attr_NLMod_FloatingPointFeatureNames:function(a){this.$2U_0=a;return a},$2V_0:0,get_attr_NLMod_FloatingPointFeatureValues:function(){return this.$2V_0},set_attr_NLMod_FloatingPointFeatureValues:function(a){this.$2V_0=a;return a},$e_0:0,get_attr_NLMod_FloatingPointFeatureIDs:function(){return this.$e_0},set_attr_NLMod_FloatingPointFeatureIDs:function(a){this.$e_0=a;return a},$f_0:0,get_attr_NLMod_FloatingPointFeatureIDValues:function(){return this.$f_0},set_attr_NLMod_FloatingPointFeatureIDValues:function(a){this.$f_0=a;return a},$2P_0:0,get_attr_Classification_Features:function(){return this.$2P_0},set_attr_Classification_Features:function(a){this.$2P_0=a;return a},$2Q_0:0,get_attr_Classification_Predictions:function(){return this.$2Q_0},set_attr_Classification_Predictions:function(a){this.$2Q_0=a;return a},$2R_0:0,get_attr_Classification_PredictionString:function(){return this.$2R_0},set_attr_Classification_PredictionString:function(a){this.$2R_0=a;return a},$2S_0:0,get_attr_Classification_Probability:function(){return this.$2S_0},set_attr_Classification_Probability:function(a){this.$2S_0=a;return a},$2a_0:null,get_classNames:function(){return this.$2a_0},set_classNames:function(a){this.$2a_0=a;return a},$2r_0:0,get_maxClassesToReturn:function(){return this.$2r_0},set_maxClassesToReturn:function(a){this.$2r_0=a;return a},$31_0:0,get_queryFeatureWeightingStyle:function(){return this.$31_0},set_queryFeatureWeightingStyle:function(a){this.$31_0=a;return a},$1s_0:null,get_dynamicFeature2InternalFeatureId:function(){return this.$1s_0},set_dynamicFeature2InternalFeatureId:function(a){this.$1s_0=a;return a},$1U_0:0,get_minRecognizedStaticFeatureId:function(){return this.$1U_0},set_minRecognizedStaticFeatureId:function(a){this.$1U_0=a;return a},$2t_0:0,get_maxRecognizedStaticFeatureId:function(){return this.$2t_0},set_maxRecognizedStaticFeatureId:function(a){this.$2t_0=a;return a},$1z_0:null,get_nonDirectStaticFeatureId2InternalFeatureIdMapping:function(){return this.$1z_0},set_nonDirectStaticFeatureId2InternalFeatureIdMapping:function(a){this.$1z_0=a;return a},$2y_0:0,get_numOfInternalFeatures:function(){return this.$2y_0},set_numOfInternalFeatures:function(a){this.$2y_0=a;return a},$1S_0:null,get_internalFeatureId2InverseClassFrequency:function(){return this.$1S_0},set_internalFeatureId2InverseClassFrequency:function(a){this.$1S_0=a;return a},$2j_0:null,get_internalFeatureId2FirstClassScorePairIndex:function(){return this.$2j_0},set_internalFeatureId2FirstClassScorePairIndex:function(a){this.$2j_0=a;return a},$2k_0:null,get_internalFeatureId2NumOfClassScorePairs:function(){return this.$2k_0},set_internalFeatureId2NumOfClassScorePairs:function(a){this.$2k_0=a;return a},$2x_0:0,get_numOfClassScorePairs:function(){return this.$2x_0},set_numOfClassScorePairs:function(a){this.$2x_0=a;return a},$2b_0:null,get_classScorePair2ClassId:function(){return this.$2b_0},set_classScorePair2ClassId:function(a){this.$2b_0=a;return a},$2c_0:null,get_classScorePair2Score:function(){return this.$2c_0},set_classScorePair2Score:function(a){this.$2c_0=a;return a},$3z_0:function(a){return new NLRT.CompactIntArray(a.$1M_0,a.$J_0)},$5R_0:function(e){try{var a=new NLRT.ByteArrayReader(e);this.$2y_0=a.readInt32();if(a.readInt32()===1)this.$1S_0=NLRT.ReadOnlyList$1.$$(Number).createReadOnlyList(NLRT.FloatConverter.$4s(a,this.$2y_0));else this.$1S_0=null;var b=a.readInt32();this.$2j_0=this.$3z_0(a);a.$J_0+=b;var c=a.readInt32();this.$2k_0=this.$3z_0(a);a.$J_0+=c;this.$2x_0=a.readInt32();var d=a.readInt32();this.$2b_0=this.$3z_0(a);a.$J_0+=d;this.$2c_0=NLRT.ReadOnlyList$1.$$(Number).createReadOnlyList(NLRT.FloatConverter.$4s(a,this.$2x_0))}catch(f){throw Error.argument("byteReader");}}};NLRT.TfIdfRankerNLModule=function(a){this.$0_0=a};NLRT.TfIdfRankerNLModule.prototype={execute:function(f){if(!f)throw Error.argumentNull("input");var a=[],g=[];this.$57_0(f,a,g);this.$53_0(a,g);for(var h={},b=0;b<a.length;++b)for(var p=a[b],q=this.$0_0.$2j_0.get_item(p),u=this.$0_0.$2k_0.get_item(p),c=0;c<u;++c){var r=this.$0_0.$2a_0.get_item(this.$0_0.$2b_0.get_item(q+c)),v=this.$0_0.$2c_0.get_item(q+c),d,k,l;if(!(l=NLRT.DictionaryUtils.tryGetValue(Number,h,r,k={val:d}),d=k.val,l))d=0;h[r]=d+g[b]*v}var m=NLRT.DictionaryUtils.getKeyValues(h),w=this;m.sort(function(d,e){var b=d,c=e,a=-NLRT.MathUtils.compareDouble(b.value,c.value);if(!a)a=b.key.localeCompare(c.key);return a});for(var n=new NLRT.ListValue(this.$0_0.$1_0,9),j=NLRT.ArrayUtils.take(NLRT.KeyValuePair$2.$$(String,Number),m,this.$0_0.$2r_0),t=j.length,e=0;e<t;++e){var s=j[e],i=new NLRT.FeatureBundle(this.$0_0.$1_0);i.setAnnotation(this.$0_0.$2R_0,s.key);i.setAnnotation(this.$0_0.$2S_0,s.value);Array.add(n.get_items(),i)}var o=f;o.setAnnotation(this.$0_0.$2Q_0,n);return o},$57_0:function(u,e,f){var b,g,h;if(h=u.tryGetAnnotation_Cast(NLRT.IFeatureBundle,this.$0_0.$2P_0,g={val:b}),b=g.val,h){var a,i,j;if(j=b.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_0.$e_0,i={val:a}),a=i.val,j){var c,k,l;if(!(l=b.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_0.$f_0,k={val:c}),c=k.val,l)||a.get_items().length!==c.get_items().length)throw Error.argument("NLMod.FloatingPointFeatureIDs and NLMod.FloatingPointFeatureIDValues are mismatched");this.$3g_0(a,c,e,f)}var m,n;if(n=b.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_0.$2U_0,m={val:a}),a=m.val,n){var d,o,p;if(!(p=b.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_0.$2V_0,o={val:d}),d=o.val,p)||a.get_items().length!==d.get_items().length)throw Error.argument("NLMod.FloatingPointFeatureNames and NLMod.FloatingPointFeatureValues are mismatched");this.$3g_0(a,d,e,f)}var q,r;(r=b.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_0.$d_0,q={val:a}),a=q.val,r)&&this.$3g_0(a,null,e,f);var s,t;(t=b.tryGetAnnotation_Cast(NLRT.IListValue,this.$0_0.$2T_0,s={val:a}),a=s.val,t)&&this.$3g_0(a,null,e,f)}},$3g_0:function(e,h,j,k){for(var b=0;b<e.get_items().length;++b){var a;if(e.get_memberTypeID()===1){var i=e.get_items()[b],f,g;if(!(g=NLRT.DictionaryUtils.tryGetValue(Number,this.$0_0.$1s_0,i,f={val:a}),a=f.val,g))a=-1}else{var c=e.get_items()[b];if(c>=this.$0_0.$1U_0&&c<=this.$0_0.$2t_0)if(!this.$0_0.$1z_0)a=c-this.$0_0.$1U_0;else a=this.$0_0.$1z_0.get_item(c-this.$0_0.$1U_0)-1;else a=-1}if(a>=0){var d;if(!h)d=1;else d=h.get_items()[b];if(d>0){Array.add(j,a);Array.add(k,d)}}}},$53_0:function(g,a){if(!g.length)return;switch(this.$0_0.$31_0){case 0:break;case 1:for(var b=0;b<a.length;++b)a[b]=1+Math.log(a[b]);break;case 2:for(var h=NLRT.MathUtils.max(a),c=0;c<a.length;++c)a[c]=.5+.5*(a[c]/h);break;case 3:for(var e=0;e<a.length;++e)a[e]=1;break;default:throw Error.notImplemented();}if(this.$0_0.$1S_0)for(var d=0;d<a.length;++d)a[d]*=this.$0_0.$1S_0.get_item(g[d]);for(var i=NLRT.MathUtils.norm(a),f=0;f<a.length;++f)a[f]/=i},$0_0:null};NLRT.ScriptNLModuleInit=function(a,b){if(!a)return;this.$I_0=b.getAnnotationScript(a.get_item(0))};NLRT.ScriptNLModuleInit.prototype={$I_0:null,get_script:function(){return this.$I_0},set_script:function(a){this.$I_0=a;return a}};NLRT.ScriptNLModule=function(a){this.$0_0=a};NLRT.ScriptNLModule.prototype={execute:function(a){if(!a)throw Error.argumentNull("input");var b=a.clone();this.$0_0.$I_0.execute(b,null);return b},$0_0:null};NLRT.TokenizerNLModuleInit=function(b,c){if(!b)return;this.$1_0=c.get_annotations();var a=0;try{this.$S_0=b.get_item(a);++a;this.$O_0=b.get_item(a);++a;this.$1o_0=b.get_item(a);++a;this.$9_0=b.get_item(a);++a;this.$B_0=b.get_item(a);++a;this.$2p_0=b.get_item(a)===1;++a;var f=b.get_item(a);++a;if(f>0)this.$1v_0=c.getModule(f).get_filterTrie();this.$2e_0=!b.get_item(a)?"":c.getString(b.get_item(a));++a;var e=b.get_item(a);++a;this.$1V_0=new Array(e);this.$22_0=new Array(e);for(var d=0;d<e;++d){this.$1V_0[d]=new RegExp(c.getString(b.get_item(a)));++a;this.$22_0[d]=c.getString(b.get_item(a));++a}}catch(g){throw Error.argument("initData");}};NLRT.TokenizerNLModuleInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$S_0:0,get_attr_NLMod_ParentText:function(){return this.$S_0},set_attr_NLMod_ParentText:function(a){this.$S_0=a;return a},$O_0:0,get_attr_NLMod_Tokens:function(){return this.$O_0},set_attr_NLMod_Tokens:function(a){this.$O_0=a;return a},$1o_0:0,get_attr_Tokenization_TokenName:function(){return this.$1o_0},set_attr_Tokenization_TokenName:function(a){this.$1o_0=a;return a},$9_0:0,get_attr_Span_StartIndex:function(){return this.$9_0},set_attr_Span_StartIndex:function(a){this.$9_0=a;return a},$B_0:0,get_attr_Span_Length:function(){return this.$B_0},set_attr_Span_Length:function(a){this.$B_0=a;return a},$2p_0:false,get_isSentenceSeparator:function(){return this.$2p_0},set_isSentenceSeparator:function(a){this.$2p_0=a;return a},$1v_0:null,get_greedyMatchTokenTrie:function(){return this.$1v_0},set_greedyMatchTokenTrie:function(a){this.$1v_0=a;return a},$2e_0:null,get_greedyMatchTokenTag:function(){return this.$2e_0},set_greedyMatchTokenTag:function(a){this.$2e_0=a;return a},$1V_0:null,get_rulePatterns:function(){return this.$1V_0},set_rulePatterns:function(a){this.$1V_0=a;return a},$22_0:null,get_ruleTags:function(){return this.$22_0},set_ruleTags:function(a){this.$22_0=a;return a}};NLRT.TokenizerNLModule=function(a){this.$0_0=a};NLRT.TokenizerNLModule.prototype={execute:function(b){if(!b)throw Error.argumentNull("input");var c,e,f;if(!(f=b.tryGetAnnotation_Cast(String,this.$0_0.$S_0,e={val:c}),c=e.val,f))throw Error.argument("input","Expected to see annotation for attribute NLMod.ParentText");var a,g,h;if(!(h=b.tryGetAnnotation_Cast(Number,this.$0_0.$9_0,g={val:a}),a=g.val,h))a=0;var d,i,j;if(!(j=b.tryGetAnnotation_Cast(Number,this.$0_0.$B_0,i={val:d}),d=i.val,j))d=c.length-a;if(a<0||a>c.length)throw Error.argument("input","Start index out of range");if(d<0||d>c.length)throw Error.argument("input","Length out of range");if(a+d>c.length)throw Error.argument("input","Bad start-length range");var k=new NLRT.TokenizerNLModule.TokenizerData(c,a,a+d,new NLRT.ListValue(this.$0_0.$1_0,9));this.$5Y_0(k);var l=b.get_isReadOnly()?b.clone():b;l.setAnnotation(this.$0_0.$O_0,k.tokens);return l},$5Y_0:function(a){while(a.currentTokenStartIndex<a.firstCharAfterRangeToTokenize){if(this.$0_0.$1v_0){var b=this.$0_0.$1v_0.lookUpString(a.parentText,a.currentTokenStartIndex,a.firstCharAfterRangeToTokenize-a.currentTokenStartIndex,null);if(!b.succeeded&&b.nextShorterResult)b=b.nextShorterResult;if(b.succeeded){this.$4w_0(a,b.length,this.$0_0.$2e_0);a.currentTokenStartIndex+=b.length;continue}}for(var h=a.parentText.substr(a.currentTokenStartIndex),d=-1,g=-1,f=-1,e=0;e<this.$0_0.$1V_0.length;++e){var c=this.$0_0.$1V_0[e].exec(h);if(c&&c[1].length>0)if(d<0||c[0].length>g){d=e;g=c[0].length;f=c[1].length}}if(d>=0){this.$4w_0(a,f,this.$0_0.$22_0[d]);a.currentTokenStartIndex+=f}else a.currentTokenStartIndex+=1}},$4w_0:function(a,e,d){if(!this.$0_0.$2p_0){var c=new NLRT.FeatureBundle(this.$0_0.$1_0);c.setAnnotation(this.$0_0.$9_0,a.currentTokenStartIndex);c.setAnnotation(this.$0_0.$B_0,e);c.setAnnotation(this.$0_0.$1o_0,d);Array.add(a.tokens.get_items(),c)}else{if(d==="GAP")return;if(a.sentSepCurrentSentenceStart<0)a.sentSepCurrentSentenceStart=a.currentTokenStartIndex;a.sentSepCurrentSentenceLength=a.currentTokenStartIndex+e-a.sentSepCurrentSentenceStart;if(d==="EOS_CHUNK"){if(a.sentSepCurrentSentenceStart>=0&&a.sentSepCurrentSentenceLength>0){var b=new NLRT.FeatureBundle(this.$0_0.$1_0);b.setAnnotation(this.$0_0.$9_0,a.sentSepCurrentSentenceStart);b.setAnnotation(this.$0_0.$B_0,a.sentSepCurrentSentenceLength);b.setAnnotation(this.$0_0.$1o_0,"SENTENCE");b.setAnnotation(this.$0_0.$S_0,a.parentText);Array.add(a.tokens.get_items(),b)}a.sentSepCurrentSentenceStart=-1;a.sentSepCurrentSentenceLength=0}}},$0_0:null};NLRT.TokenizerNLModule.TokenizerData=function(c,b,a,d){this.parentText=c;this.firstCharAfterRangeToTokenize=a;this.tokens=d;this.currentTokenStartIndex=b;this.sentSepCurrentSentenceStart=-1;this.sentSepCurrentSentenceLength=0};NLRT.TokenizerNLModule.TokenizerData.prototype={parentText:null,firstCharAfterRangeToTokenize:0,tokens:null,currentTokenStartIndex:0,sentSepCurrentSentenceStart:0,sentSepCurrentSentenceLength:0};NLRT.TransliteratorNLModuleInit=function(b,d){if(!b)return;this.$1_0=d.get_annotations();var a=0;try{this.$2W_0=b.get_item(a);++a;this.$2X_0=b.get_item(a);++a;var e=b.get_item(a);++a;this.$25_0=new Array(e);for(var c=0;c<e;++c){var h=b.get_item(a);++a;var f=b.get_item(a);++a;var g=new(NLRT.ReadOnlyList$1.$$(Number));g.fromReadOnlyList(b,a,f);a+=f;this.$25_0[c]=this.$5S_0(h,g,d)}}catch(i){throw Error.argument("initData");}};NLRT.TransliteratorNLModuleInit.prototype={$1_0:null,get_annotations:function(){return this.$1_0},set_annotations:function(a){this.$1_0=a;return a},$2W_0:0,get_attr_NLMod_StringToTransliterate:function(){return this.$2W_0},set_attr_NLMod_StringToTransliterate:function(a){this.$2W_0=a;return a},$2X_0:0,get_attr_NLMod_TransliteratedString:function(){return this.$2X_0},set_attr_NLMod_TransliteratedString:function(a){this.$2X_0=a;return a},$25_0:null,get_stages:function(){return this.$25_0},set_stages:function(a){this.$25_0=a;return a},$5S_0:function(c,a,b){switch(c){case 0:return new NLRT.ChangeCaseTransliterationStage(a);case 1:return new NLRT.RegexReplaceTransliterationStage(a,b);case 2:return new NLRT.SingleCharSubstitutionsTransliterationStage(a,b);case 4:return new NLRT.LatinFullWidthToHalfWidthTransliterationStage;default:throw Error.invalidOperation("Unrecognized or unsupported transliteration stage flavor");}}};NLRT.ChangeCaseTransliterationStage=function(a){if(!a)return;this.$b_0=a.get_item(0)};NLRT.ChangeCaseTransliterationStage.$56=function(a,b){switch(b){case 0:return a.toLowerCase();case 1:return a==="I"?"\u0131":a.toLowerCase();case 2:return a.toUpperCase();case 3:return a==="i"?"\u0130":a.toUpperCase();default:throw Error.invalidOperation();}};NLRT.ChangeCaseTransliterationStage.prototype={$b_0:0,get_style:function(){return this.$b_0},set_style:function(a){this.$b_0=a;return a},apply:function(b){var a=this;return NLRT.TransliteratorNLModule.$4E(b,function(b){return NLRT.ChangeCaseTransliterationStage.$56(b,a.$b_0)})}};NLRT.ChangeCaseTransliterationStage.Casing=function(){};NLRT.ChangeCaseTransliterationStage.Casing.prototype={toLowerDefault:0,toLowerTurkishAzeri:1,toUpperDefault:2,toUpperTurkishAzeri:3};NLRT.ChangeCaseTransliterationStage.Casing.registerEnum("NLRT.ChangeCaseTransliterationStage.Casing",false);NLRT.RegexReplaceTransliterationStage=function(a,b){if(!a)return;this.$y_0=b.getRegex(a.get_item(0));this.$32_0=b.getString(a.get_item(1))};NLRT.RegexReplaceTransliterationStage.prototype={$y_0:null,get_regex:function(){return this.$y_0},set_regex:function(a){this.$y_0=a;return a},$32_0:null,get_replacement:function(){return this.$32_0},set_replacement:function(a){this.$32_0=a;return a},apply:function(a){return a.replace(this.$y_0,this.$32_0)}};NLRT.SingleCharSubstitutionsTransliterationStage=function(a,c){if(!a)return;var f=a.get_item(0),d=c.getString(a.get_item(1)),g=new NLRT.CompactIntArray(c.getByteArray(a.get_item(2)),0),e=a.get_item(3)<0?null:new NLRT.CompactIntArray(c.getByteArray(a.get_item(3)),0);this.$1a_0={};for(var b=0;b<f;++b)this.$1a_0[d.charAt(b).toString()]=d.substr(g.get_item(b),!e?1:e.get_item(b))};NLRT.SingleCharSubstitutionsTransliterationStage.prototype={$1a_0:null,get_substitutions:function(){return this.$1a_0},set_substitutions:function(a){this.$1a_0=a;return a},apply:function(b){var a=this;return NLRT.TransliteratorNLModule.$4E(b,function(b){return b in a.$1a_0?a.$1a_0[b]:b})}};NLRT.LatinFullWidthToHalfWidthTransliterationStage=function(){};NLRT.LatinFullWidthToHalfWidthTransliterationStage.$5a=function(b){var a=b.charCodeAt(0);return a>=65281&&a<=65374?String.fromCharCode(a-65248):b};NLRT.LatinFullWidthToHalfWidthTransliterationStage.prototype={apply:function(a){return NLRT.TransliteratorNLModule.$4E(a,NLRT.LatinFullWidthToHalfWidthTransliterationStage.$5a)}};NLRT.TransliteratorNLModule=function(a){this.$0_0=a};NLRT.TransliteratorNLModule.$4E=function(c,d){for(var b=new Sys.StringBuilder,a=0;a<c.length;++a)b.append(d(c.substr(a,1)));return b.toString()};NLRT.TransliteratorNLModule.prototype={execute:function(c){if(!c)throw Error.argumentNull("input");var a,e,f;if(!(f=c.tryGetAnnotation_Cast(String,this.$0_0.$2W_0,e={val:a}),a=e.val,f))throw Error.argument("Expected input parameter NLMod.StringToTransliterate not found");for(var d=this.$0_0.$25_0,h=d.length,b=0;b<h;++b){var i=d[b];a=i.apply(a)}var g=NLRT.Annotations.$Y(c);g.setAnnotation(this.$0_0.$2X_0,a);return g},$0_0:null};NLRT.IFeatureTemplate=function(){};NLRT.IFeatureTemplate.registerInterface("NLRT.IFeatureTemplate");NLRT.ITokenStringGeneratorServiceProvider=function(){};NLRT.ITokenStringGeneratorServiceProvider.registerInterface("NLRT.ITokenStringGeneratorServiceProvider");NLRT.ITokenStringGenerator=function(){};NLRT.ITokenStringGenerator.registerInterface("NLRT.ITokenStringGenerator");NLRT.FeatureTemplate=function(b){if(!b)return;var a=0;try{if(b.get_item(a)!==240803228)throw Error.argument("initData","Input does not represent a feature template");++a;var f=b.get_item(a);++a;this.$33_0=new Array(f);for(var c=0;c<f;++c){this.$33_0[c]=b.get_item(a);++a}this.$3b_0=b.get_item(a);++a;this.$3Z_0=b.get_item(a);++a;this.$X_0=b.get_item(a);++a;var d,e;this.$3d_0=(e=NLRT.FeatureTemplate.$4y(b,d={val:a}),a=d.val,e)}catch(g){throw Error.argument("initData");}};NLRT.FeatureTemplate.$4y=function(b,a){var f=b.get_item(a.val);++a.val;for(var c={},d=0;d<f;++d){var e=b.get_item(a.val);++a.val;if(!b.get_item(a.val)){++a.val;c[e.toString()]=b.get_item(a.val);++a.val}else c[e.toString()]=NLRT.FeatureTemplate.$4y(b,a)}return c};NLRT.FeatureTemplate.prototype={$33_0:null,get_slots:function(){return this.$33_0},set_slots:function(a){this.$33_0=a;return a},$3b_0:0,get_preInitialTokenPositions:function(){return this.$3b_0},set_preInitialTokenPositions:function(a){this.$3b_0=a;return a},$3Z_0:0,get_postFinalTokenPositions:function(){return this.$3Z_0},set_postFinalTokenPositions:function(a){this.$3Z_0=a;return a},$X_0:0,get_score:function(){return this.$X_0},set_score:function(a){this.$X_0=a;return a},$3d_0:null,get_rootFilterNode:function(){return this.$3d_0},set_rootFilterNode:function(a){this.$3d_0=a;return a}};NLRT.TokenStringGeneratorInit=function(){};NLRT.TokenStringGeneratorInit.prototype={$2h_0:null,get_inputFilter:function(){return this.$2h_0},set_inputFilter:function(a){this.$2h_0=a;return a},$3A_0:null,get_tokenFilter:function(){return this.$3A_0},set_tokenFilter:function(a){this.$3A_0=a;return a},$2s_0:0,get_maxExistingStrings:function(){return this.$2s_0},set_maxExistingStrings:function(a){this.$2s_0=a;return a},$X_0:0,get_score:function(){return this.$X_0},set_score:function(a){this.$X_0=a;return a},$1y_0:0,get_maxStringsToGenerate:function(){return this.$1y_0},set_maxStringsToGenerate:function(a){this.$1y_0=a;return a},parseCommonFields:function(b,a,c){this.$X_0=b.get_item(a.val);++a.val;this.$2h_0=!b.get_item(a.val)?null:c.getFilter(b.get_item(a.val));++a.val;this.$3A_0=!b.get_item(a.val)?null:c.getFilter(b.get_item(a.val));++a.val;this.$2s_0=b.get_item(a.val);++a.val;this.$1y_0=b.get_item(a.val);++a.val}};NLRT.TokenStringGenerator=function(a){this.$3J_0=a};NLRT.TokenStringGenerator.create=function(b,d,e){var a=0;try{if(b.get_item(a)!==1099767983)throw Error.argument("initData","Input does not represent a token string generator");++a;var f=b.get_item(a);++a;var c=new(NLRT.ReadOnlyList$1.$$(Number));c.fromReadOnlyList(b,a,b.get_count()-a);switch(f){case 0:return new NLRT.SurfaceStringTokenStringGenerator(new NLRT.SurfaceStringTokenStringGeneratorInit(c,d));case 1:return new NLRT.QueryTokenStringGenerator(new NLRT.QueryTokenStringGeneratorInit(c,d));case 2:return new NLRT.FuzzyMatchTokenStringGenerator(new NLRT.FuzzyMatchTokenStringGeneratorInit(c,d,e));default:throw Error.argument("initData");}}catch(g){throw Error.argument("initData");}};NLRT.TokenStringGenerator.$4m=function(b,c,d,e,f,g){var a=b.get_tokenStringTable().getId(c,null);if(a<0){++g.val;return}NLRT.TokenStringGenerator.$4n(a,d,e,f)};NLRT.TokenStringGenerator.$4n=function(b,c,d,a){Array.add(a.$1Z_0,b);Array.add(a.$27_0,c);++a.$z_0[d]};NLRT.TokenStringGenerator.prototype={get_inputFilter:function(){return this.$3J_0.$2h_0},get_tokenFilter:function(){return this.$3J_0.$3A_0},get_maxExistingStrings:function(){return this.$3J_0.$2s_0},$3J_0:null};NLRT.SurfaceStringTokenStringGeneratorInit=function(a,d){NLRT.SurfaceStringTokenStringGeneratorInit.initializeBase(this);if(!a)return;var c=0;try{var b;this.parseCommonFields(a,b={val:c},d),c=b.val}catch(e){throw Error.argument("initData");}};NLRT.SurfaceStringTokenStringGenerator=function(a){NLRT.SurfaceStringTokenStringGenerator.initializeBase(this,[a]);this.$0_1=a};NLRT.SurfaceStringTokenStringGenerator.prototype={apply:function(b,g,f,e,d,a,c){if(a.val==null)a.val=b.getTokenSurfaceString(d,g);NLRT.TokenStringGenerator.$4m(b,a.val,this.$0_1.$X_0,f,e,c)},$0_1:null};NLRT.QueryTokenStringGeneratorInit=function(c,b){NLRT.QueryTokenStringGeneratorInit.initializeBase(this);if(!c)return;this.$1_1=b.get_annotations();var a=0;try{var d;this.parseCommonFields(c,d={val:a},b),a=d.val;this.$q_1=b.getString(c.get_item(a));++a;this.$2_1=b.getAnnotationQuery(c.get_item(a));++a}catch(e){throw Error.argument("initData");}};NLRT.QueryTokenStringGeneratorInit.prototype={$1_1:null,get_annotations:function(){return this.$1_1},set_annotations:function(a){this.$1_1=a;return a},$q_1:null,get_name:function(){return this.$q_1},set_name:function(a){this.$q_1=a;return a},$2_1:null,get_query:function(){return this.$2_1},set_query:function(a){this.$2_1=a;return a}};NLRT.QueryTokenStringGenerator=function(a){NLRT.QueryTokenStringGenerator.initializeBase(this,[a]);this.$0_1=a};NLRT.QueryTokenStringGenerator.prototype={apply:function(f,i,h,g,l,k,e){var d=this.$0_1.$2_1.load(i,null),j=0,b=0,a=null;if(this.$0_1.$2_1.get_returnType()===2){if(d)a=this.$0_1.$q_1}else{a=this.$0_1.$q_1;if(a)a+="_";a+=this.$0_1.$1_1.valueToString(this.$0_1.$2_1.get_returnType(),d)}if(!(a==null)){var c;NLRT.TokenStringGenerator.$4m(f,a,this.$0_1.$X_0,h,g,c={val:b}),b=c.val;++j}e.val+=b},$0_1:null};NLRT.FuzzyMatchTokenStringGeneratorInit=function(b,e,d){NLRT.FuzzyMatchTokenStringGeneratorInit.initializeBase(this);if(!b)return;var a=0;try{var c;this.parseCommonFields(b,c={val:a},e),a=c.val;this.$2z_1=b.get_item(a)===1;++a;this.$2f_1=b.get_item(a)===1;++a;var f=b.get_item(a);++a;this.$2d_1=this.$5O_1(d,f)}catch(g){throw Error.argument("initData");}};NLRT.FuzzyMatchTokenStringGeneratorInit.prototype={$2z_1:false,get_onlyIfUnrecognized:function(){return this.$2z_1},set_onlyIfUnrecognized:function(a){this.$2z_1=a;return a},$2f_1:false,get_includeAllCompletions:function(){return this.$2f_1},set_includeAllCompletions:function(a){this.$2f_1=a;return a},$2d_1:null,get_errorTolerantTrie:function(){return this.$2d_1},set_errorTolerantTrie:function(a){this.$2d_1=a;return a},$5O_1:function(a,b){return new NLRT.ErrorTolerantTrieLookupEngine(a,b)}};NLRT.FuzzyMatchTokenStringGenerator=function(a){NLRT.FuzzyMatchTokenStringGenerator.initializeBase(this,[a]);this.$0_1=a};NLRT.FuzzyMatchTokenStringGenerator.prototype={apply:function(s,w,k,j,r,b){if(b.val==null)b.val=s.getTokenSurfaceString(r,w);var f=this.$0_1.$2d_1.lookUp(b.val);if(this.$0_1.$2z_1)for(var g=f,t=g.length,c=0;c<t;++c){var p=g[c];if(!p.$8_0&&p.$1C_0)return}for(var a=0,h=f,u=h.length,d=0;d<u;++d){var q=h[d];if(!q.$8_0)continue;var l,m;if(!(m=this.$4o_1(q,true,k,j,l={val:a}),a=l.val,m))return}if(this.$0_1.$2f_1)for(var i=f,v=i.length,e=0;e<v;++e){var x=i[e],n,o;if(!(o=this.$4o_1(x,false,k,j,n={val:a}),a=n.val,o))return}},$4o_1:function(b,f,g,h,e){var a,c;if(f){a=0;c=b.$1C_0?1:0}else{a=b.$1C_0?1:0;c=b.$V_0-a}for(var d=0;d<c;++d){NLRT.TokenStringGenerator.$4n(b.$h_0+a+d,this.$0_1.$X_0,g,h);++e.val;if(this.$0_1.$1y_0>0&&e.val>=this.$0_1.$1y_0)return false}return true},$0_1:null};NLRT.TokenStringLattice=function(a){this.$1c_0=new Array(a);this.$z_0=new Array(a);this.$1Z_0=new Array(0);this.$27_0=new Array(0)};NLRT.TokenStringLattice.prototype={$1c_0:null,get_tokenIndex2FirstStringIndex:function(){return this.$1c_0},set_tokenIndex2FirstStringIndex:function(a){this.$1c_0=a;return a},$z_0:null,get_tokenIndex2StringCount:function(){return this.$z_0},set_tokenIndex2StringCount:function(a){this.$z_0=a;return a},$1Z_0:null,get_stringIDs:function(){return this.$1Z_0},set_stringIDs:function(a){this.$1Z_0=a;return a},$27_0:null,get_stringScores:function(){return this.$27_0},set_stringScores:function(a){this.$27_0=a;return a}};NLRT.KeyValuePair$2=function(){this.key=this.$$gta["NLRT.KeyValuePair$2"].TK===Number||Type.isEnum(this.$$gta["NLRT.KeyValuePair$2"].TK)?0:this.$$gta["NLRT.KeyValuePair$2"].TK===Boolean?false:null;this.value=this.$$gta["NLRT.KeyValuePair$2"].TV===Number||Type.isEnum(this.$$gta["NLRT.KeyValuePair$2"].TV)?0:this.$$gta["NLRT.KeyValuePair$2"].TV===Boolean?false:null};NLRT.KeyValuePair$2.$$=function(f,g){var a="KeyValuePair$2$"+f.getName().replace(/\./g,"_")+"$"+g.getName().replace(/\./g,"_");if(!NLRT[a]){var c=NLRT[a]=function(){for(var b=[],a=0;a<arguments.length;++a)b[a]=arguments[a];NLRT.KeyValuePair$2.apply(this,b)};c.registerClass("NLRT."+a);var h={"NLRT.KeyValuePair$2":{TK:f,TV:g}};c.prototype.$$gta=h;var d=NLRT.KeyValuePair$2.prototype;for(var e in d){var b={key:e,value:d[e]};if("constructor"!==b.key)c.prototype[b.key]=b.value}}return NLRT[a]};NLRT.DictionaryUtils=function(){};NLRT.DictionaryUtils.tryGetValue=function(d,b,a,c){c.val=b[a];return a in b};NLRT.DictionaryUtils.getKeyValues=function(f){var d=[],b=f;for(var c in b){var e={key:c,value:b[c]},a=new(NLRT.KeyValuePair$2.$$(String,Number));a.key=e.key;a.value=e.value;Array.add(d,a)}return d};NLRT.ArrayUtils=function(){};NLRT.ArrayUtils.reduce=function(f,g,c,e,d){for(var a=d,b=0;b<c.length;b++)a=e(a,c[b]);return a};NLRT.ArrayUtils.map=function(e,f,b,d){for(var c=new Array(b.length),a=0;a<b.length;a++)c[a]=d(b[a]);return c};NLRT.ArrayUtils.take=function(e,c,d){for(var b=new Array(Math.min(d,c.length)),a=0;a<b.length;a++)b[a]=c[a];return b};NLRT.ArrayUtils.where=function(h,g,e){for(var c=[],b=g,f=b.length,a=0;a<f;++a){var d=b[a];e(d)&&Array.add(c,d)}return c};NLRT.MathUtils=function(){};NLRT.MathUtils.norm=function(b){var a=NLRT.ArrayUtils.map(Number,Number,b,function(a){return a*a});return Math.sqrt(NLRT.ArrayUtils.reduce(Number,Number,a,function(a,b){return a+b},0))};NLRT.MathUtils.max=function(a){return NLRT.ArrayUtils.reduce(Number,Number,a,function(a,b){return a>b?a:b},a[0])};NLRT.MathUtils.compareDouble=function(a,b){return a>b?1:a<b?-1:0};NLRT.AnnotationQuery.registerClass("NLRT.AnnotationQuery",null,NLRT.IAnnotationQuery);NLRT.AnnotationQueryInit.registerClass("NLRT.AnnotationQueryInit");NLRT.AnnotationQueryStoreContinuation.registerClass("NLRT.AnnotationQueryStoreContinuation",null,NLRT.IAnnotationQueryStoreContinuation);NLRT.Annotations.registerClass("NLRT.Annotations",null,NLRT.IAnnotations);NLRT.FeatureBundle.registerClass("NLRT.FeatureBundle",null,NLRT.IFeatureBundle,NLRT.IComplexAnnotationObject);NLRT.FeatureBundle.AttrValuePair.registerClass("NLRT.FeatureBundle.AttrValuePair");NLRT.StructValue.registerClass("NLRT.StructValue",null,NLRT.IStructValue,NLRT.IComplexAnnotationObject);NLRT.ListValue.registerClass("NLRT.ListValue",null,NLRT.IListValue,NLRT.IComplexAnnotationObject);NLRT.SimpleNamedFeatureBundleResolver.registerClass("NLRT.SimpleNamedFeatureBundleResolver",null,NLRT.INamedFeatureBundleResolver);NLRT.AnnotationScript.registerClass("NLRT.AnnotationScript",null,NLRT.IAnnotationScript);NLRT.AnnotationScriptInit.registerClass("NLRT.AnnotationScriptInit");NLRT.ErrorTolerantTrieMatch.registerClass("NLRT.ErrorTolerantTrieMatch");NLRT.TrieBookmark.registerClass("NLRT.TrieBookmark");NLRT.ErrorTolerantTrieLookupEngine.registerClass("NLRT.ErrorTolerantTrieLookupEngine",null,NLRT.IErrorTolerantTrieLookupEngine);NLRT.FilterFactory.registerClass("NLRT.FilterFactory",null,NLRT.IFilterFactory);NLRT.RawFlatLexicon.registerClass("NLRT.RawFlatLexicon",null,NLRT.IRawFlatLexicon);NLRT.ObjectFetcher.registerClass("NLRT.ObjectFetcher",null,NLRT.IObjectFetcher);NLRT.REMatch.registerClass("NLRT.REMatch");NLRT.CaptureRec.registerClass("NLRT.CaptureRec");NLRT.SpanRegularExpression.registerClass("NLRT.SpanRegularExpression",null,NLRT.ISpanRegularExpression);NLRT.SpanRegularExpression.WHEREConstraintData.registerClass("NLRT.SpanRegularExpression.WHEREConstraintData");NLRT.StringTable.registerClass("NLRT.StringTable",null,NLRT.IStringTable);NLRT.StringTableInit.registerClass("NLRT.StringTableInit");NLRT.TrieResult.registerClass("NLRT.TrieResult");NLRT.Trie.registerClass("NLRT.Trie",null,NLRT.ITrie);NLRT.Trie.LookUpStringVisitor.registerClass("NLRT.Trie.LookUpStringVisitor",null,NLRT.ITriePrefixVisitor);NLRT.Trie.TrieSymbol.registerClass("NLRT.Trie.TrieSymbol");NLRT.Trie.TRIESCAN.registerClass("NLRT.Trie.TRIESCAN");NLRT.Trie.TRIESTATS.registerClass("NLRT.Trie.TRIESTATS");NLRT.FloatConverter.registerClass("NLRT.FloatConverter");NLRT.ByteArrayReader.registerClass("NLRT.ByteArrayReader");NLRT.ByteArray.registerClass("NLRT.ByteArray");NLRT.CompactIntArray.registerClass("NLRT.CompactIntArray",null,NLRT.IReadOnlyList$1.$$(Number));NLRT.ReadOnlyListOverByteArray.registerClass("NLRT.ReadOnlyListOverByteArray",null,NLRT.IReadOnlyList$1.$$(Number));NLRT.FeatureBundleNameQueryStepInit.registerClass("NLRT.FeatureBundleNameQueryStepInit");NLRT.AttrQueryStepInit.registerClass("NLRT.AttrQueryStepInit");NLRT.FieldQueryStepInit.registerClass("NLRT.FieldQueryStepInit");NLRT.IfQueryStepInit.registerClass("NLRT.IfQueryStepInit");NLRT.SingleQueryQueryStepInit.registerClass("NLRT.SingleQueryQueryStepInit");NLRT.SingleOptionalQueryQueryStepInit.registerClass("NLRT.SingleOptionalQueryQueryStepInit");NLRT.SingleFilterQueryStepInit.registerClass("NLRT.SingleFilterQueryStepInit");NLRT.ApplyQueryStepInit.registerClass("NLRT.ApplyQueryStepInit");NLRT.ApplyExpandQueryStepInit.registerClass("NLRT.ApplyExpandQueryStepInit");NLRT.ValueQueryStepInit.registerClass("NLRT.ValueQueryStepInit");NLRT.CallModuleQueryStepInit.registerClass("NLRT.CallModuleQueryStepInit");NLRT.StartAndCountOrLengthQueryStepInit.registerClass("NLRT.StartAndCountOrLengthQueryStepInit");NLRT.VarNameAndQueryQueryStepInit.registerClass("NLRT.VarNameAndQueryQueryStepInit");NLRT.AnnotationsOnlyQueryStepInit.registerClass("NLRT.AnnotationsOnlyQueryStepInit");NLRT.IndexAndItemQueryStepInit.registerClass("NLRT.IndexAndItemQueryStepInit");NLRT.AnnotationQueryStep.registerClass("NLRT.AnnotationQueryStep",null,NLRT.IAnnotationQueryStep);NLRT.GetAnnotationQueryStep.registerClass("NLRT.GetAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.IsDefinedAnnotationQueryStep.registerClass("NLRT.IsDefinedAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.AttrAnnotationQueryStep.registerClass("NLRT.AttrAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.FieldAnnotationQueryStep.registerClass("NLRT.FieldAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.IfAnnotationQueryStep.registerClass("NLRT.IfAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.MatchesAnnotationQueryStep.registerClass("NLRT.MatchesAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.MatchesAsListAnnotationQueryStep.registerClass("NLRT.MatchesAsListAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ApplyAnnotationQueryStep.registerClass("NLRT.ApplyAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ApplyExpandAnnotationQueryStep.registerClass("NLRT.ApplyExpandAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ValueAnnotationQueryStep.registerClass("NLRT.ValueAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.CallModuleAnnotationQueryStep.registerClass("NLRT.CallModuleAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.RangeAnnotationQueryStep.registerClass("NLRT.RangeAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ConvertAnnotationQueryStep.registerClass("NLRT.ConvertAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ItemAnnotationQueryStep.registerClass("NLRT.ItemAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.LastItemAnnotationQueryStep.registerClass("NLRT.LastItemAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.CountAnnotationQueryStep.registerClass("NLRT.CountAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.FirstItemMatchingAnnotationQueryStep.registerClass("NLRT.FirstItemMatchingAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ForAllAnnotationQueryStep.registerClass("NLRT.ForAllAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ExistsAnnotationQueryStep.registerClass("NLRT.ExistsAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.AppendAnnotationQueryStep.registerClass("NLRT.AppendAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.SublistAnnotationQueryStep.registerClass("NLRT.SublistAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ItemsMatchingAnnotationQueryStep.registerClass("NLRT.ItemsMatchingAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ToListAnnotationQueryStep.registerClass("NLRT.ToListAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.InsertAtAnnotationQueryStep.registerClass("NLRT.InsertAtAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.SubstringAnnotationQueryStep.registerClass("NLRT.SubstringAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ConcatAnnotationQueryStep.registerClass("NLRT.ConcatAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.LengthAnnotationQueryStep.registerClass("NLRT.LengthAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.ToCharListAnnotationQueryStep.registerClass("NLRT.ToCharListAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.NumericAnnotationQueryStep.registerClass("NLRT.NumericAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.AddAnnotationQueryStep.registerClass("NLRT.AddAnnotationQueryStep",NLRT.NumericAnnotationQueryStep);NLRT.SubtractAnnotationQueryStep.registerClass("NLRT.SubtractAnnotationQueryStep",NLRT.NumericAnnotationQueryStep);NLRT.MultiplyAnnotationQueryStep.registerClass("NLRT.MultiplyAnnotationQueryStep",NLRT.NumericAnnotationQueryStep);NLRT.DivideAnnotationQueryStep.registerClass("NLRT.DivideAnnotationQueryStep",NLRT.NumericAnnotationQueryStep);NLRT.ModuloAnnotationQueryStep.registerClass("NLRT.ModuloAnnotationQueryStep",NLRT.NumericAnnotationQueryStep);NLRT.ExpAnnotationQueryStep.registerClass("NLRT.ExpAnnotationQueryStep",NLRT.NumericAnnotationQueryStep);NLRT.BinaryBooleanAnnotationQueryStep.registerClass("NLRT.BinaryBooleanAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.AndAnnotationQueryStep.registerClass("NLRT.AndAnnotationQueryStep",NLRT.BinaryBooleanAnnotationQueryStep);NLRT.OrAnnotationQueryStep.registerClass("NLRT.OrAnnotationQueryStep",NLRT.BinaryBooleanAnnotationQueryStep);NLRT.NotAnnotationQueryStep.registerClass("NLRT.NotAnnotationQueryStep",NLRT.AnnotationQueryStep);NLRT.LvalueAndRvalueQueryScriptCommandInit.registerClass("NLRT.LvalueAndRvalueQueryScriptCommandInit");NLRT.RemoveScriptCommandInit.registerClass("NLRT.RemoveScriptCommandInit");NLRT.NewScriptCommandInit.registerClass("NLRT.NewScriptCommandInit");NLRT.EnumerateScriptCommandInit.registerClass("NLRT.EnumerateScriptCommandInit");NLRT.IfScriptCommandInit.registerClass("NLRT.IfScriptCommandInit");NLRT.ApplyScriptCommandInit.registerClass("NLRT.ApplyScriptCommandInit");NLRT.AssignAnnotationScriptCommand.registerClass("NLRT.AssignAnnotationScriptCommand",null,NLRT.IAnnotationScriptCommand);NLRT.ModifyAnnotationScriptCommand.registerClass("NLRT.ModifyAnnotationScriptCommand",null,NLRT.IAnnotationScriptCommand);NLRT.RemoveAnnotationScriptCommand.registerClass("NLRT.RemoveAnnotationScriptCommand",null,NLRT.IAnnotationScriptCommand);NLRT.NewAnnotationScriptCommand.registerClass("NLRT.NewAnnotationScriptCommand",null,NLRT.IAnnotationScriptCommand);NLRT.EnumerateAnnotationScriptCommand.registerClass("NLRT.EnumerateAnnotationScriptCommand",null,NLRT.IAnnotationScriptCommand);NLRT.IfAnnotationScriptCommand.registerClass("NLRT.IfAnnotationScriptCommand",null,NLRT.IAnnotationScriptCommand);NLRT.ApplyAnnotationScriptCommand.registerClass("NLRT.ApplyAnnotationScriptCommand",null,NLRT.IAnnotationScriptCommand);NLRT.CopyAnnotationScriptCommand.registerClass("NLRT.CopyAnnotationScriptCommand",null,NLRT.IAnnotationScriptCommand);NLRT.Ranker.registerClass("NLRT.Ranker");NLRT.PredictionWithScore.registerClass("NLRT.PredictionWithScore");NLRT.PredictionsWithTokenAttributes.registerClass("NLRT.PredictionsWithTokenAttributes");NLRT.TokenAttributes.registerClass("NLRT.TokenAttributes");NLRT.NonterminalFilterInit.registerClass("NLRT.NonterminalFilterInit");NLRT.RegexStringFilterInit.registerClass("NLRT.RegexStringFilterInit");NLRT.QueryStringFilterInit.registerClass("NLRT.QueryStringFilterInit");NLRT.StoredValueBooleanFilterInit.registerClass("NLRT.StoredValueBooleanFilterInit");NLRT.SingleQueryFilterInit.registerClass("NLRT.SingleQueryFilterInit");NLRT.NumberFilterInit.registerClass("NLRT.NumberFilterInit");NLRT.StoredValueEnumFilterInit.registerClass("NLRT.StoredValueEnumFilterInit");NLRT.QueryEnumFilterInit.registerClass("NLRT.QueryEnumFilterInit");NLRT.FieldValueMatchesStructFilterInit.registerClass("NLRT.FieldValueMatchesStructFilterInit");NLRT.SingleFilterFilterInit.registerClass("NLRT.SingleFilterFilterInit");NLRT.ValueFilterAnnotationFilterInit.registerClass("NLRT.ValueFilterAnnotationFilterInit");NLRT.PredicateAnnotationFilterInit.registerClass("NLRT.PredicateAnnotationFilterInit");NLRT.TextSpanFilterInit.registerClass("NLRT.TextSpanFilterInit");NLRT.SubSreWhereConstraintFilterInit.registerClass("NLRT.SubSreWhereConstraintFilterInit");NLRT.NonterminalFilter.registerClass("NLRT.NonterminalFilter",null,NLRT.IFilter);NLRT.RegexStringFilter.registerClass("NLRT.RegexStringFilter",null,NLRT.IFilter);NLRT.QueryStringFilter.registerClass("NLRT.QueryStringFilter",null,NLRT.IFilter);NLRT.StoredValueBooleanFilter.registerClass("NLRT.StoredValueBooleanFilter",null,NLRT.IFilter);NLRT.QueryBooleanFilter.registerClass("NLRT.QueryBooleanFilter",null,NLRT.IFilter);NLRT.NumberFilter.registerClass("NLRT.NumberFilter",null,NLRT.IFilter);NLRT.StoredValueEnumFilter.registerClass("NLRT.StoredValueEnumFilter",null,NLRT.IFilter);NLRT.QueryEnumFilter.registerClass("NLRT.QueryEnumFilter",null,NLRT.IFilter);NLRT.FieldValueMatchesStructFilter.registerClass("NLRT.FieldValueMatchesStructFilter",null,NLRT.IFilter);NLRT.QueryStructFilter.registerClass("NLRT.QueryStructFilter",null,NLRT.IFilter);NLRT.ItemTestListFilter.registerClass("NLRT.ItemTestListFilter",null,NLRT.IFilter);NLRT.LengthMatchesListFilter.registerClass("NLRT.LengthMatchesListFilter",null,NLRT.IFilter);NLRT.QueryListFilter.registerClass("NLRT.QueryListFilter",null,NLRT.IFilter);NLRT.HasAnnotationsAnnotationFilter.registerClass("NLRT.HasAnnotationsAnnotationFilter",null,NLRT.IFilter);NLRT.AnnotatedWithAnnotationFilter.registerClass("NLRT.AnnotatedWithAnnotationFilter",null,NLRT.IFilter);NLRT.AnnotatedWithAndValueMatchesAnnotationFilter.registerClass("NLRT.AnnotatedWithAndValueMatchesAnnotationFilter",null,NLRT.IFilter);NLRT.PredicateAnnotationFilter.registerClass("NLRT.PredicateAnnotationFilter",null,NLRT.IFilter);NLRT.TextSpanFilter.registerClass("NLRT.TextSpanFilter",null,NLRT.IFilter);NLRT.QueryWhereConstraintFilter.registerClass("NLRT.QueryWhereConstraintFilter",null,NLRT.IFilter);NLRT.SubSreWhereConstraintFilter.registerClass("NLRT.SubSreWhereConstraintFilter",null,NLRT.IFilter);NLRT.FlatLexiconNLModuleInit.registerClass("NLRT.FlatLexiconNLModuleInit");NLRT.FlatLexiconNLModule.registerClass("NLRT.FlatLexiconNLModule",null,NLRT.INLModule);NLRT.FlatLexiconNLModule.TriePrefixVisitor.registerClass("NLRT.FlatLexiconNLModule.TriePrefixVisitor",null,NLRT.ITriePrefixVisitor);NLRT.FlatLexiconNLModule.$$sm_Microsoft$NaturalLanguage$Runtime$ScriptSharp$NLModules$FlatLexiconNLModule$CreateNewTokenAndApplyLexicalAnalyses.registerClass("NLRT.FlatLexiconNLModule.$$sm_Microsoft$NaturalLanguage$Runtime$ScriptSharp$NLModules$FlatLexiconNLModule$CreateNewTokenAndApplyLexicalAnalyses",null,Sys.IDisposable,Sys.IEnumerable$1,Sys.IEnumerator$1);NLRT.NGramNLModuleInit.registerClass("NLRT.NGramNLModuleInit");NLRT.NGramNLModule.registerClass("NLRT.NGramNLModule",null,NLRT.INLModule,NLRT.ITokenStringGeneratorServiceProvider);NLRT.NGramNLModule.FeatureGenStackRec.registerClass("NLRT.NGramNLModule.FeatureGenStackRec");NLRT.NLModuleFactory.registerClass("NLRT.NLModuleFactory",null,NLRT.INLModuleFactory);NLRT.TfIdfRankerNLModuleInit.registerClass("NLRT.TfIdfRankerNLModuleInit");NLRT.TfIdfRankerNLModule.registerClass("NLRT.TfIdfRankerNLModule",null,NLRT.INLModule);NLRT.ScriptNLModuleInit.registerClass("NLRT.ScriptNLModuleInit");NLRT.ScriptNLModule.registerClass("NLRT.ScriptNLModule",null,NLRT.INLModule);NLRT.TokenizerNLModuleInit.registerClass("NLRT.TokenizerNLModuleInit");NLRT.TokenizerNLModule.registerClass("NLRT.TokenizerNLModule",null,NLRT.INLModule);NLRT.TokenizerNLModule.TokenizerData.registerClass("NLRT.TokenizerNLModule.TokenizerData");NLRT.TransliteratorNLModuleInit.registerClass("NLRT.TransliteratorNLModuleInit");NLRT.ChangeCaseTransliterationStage.registerClass("NLRT.ChangeCaseTransliterationStage",null,NLRT.ITransliterationStage);NLRT.RegexReplaceTransliterationStage.registerClass("NLRT.RegexReplaceTransliterationStage",null,NLRT.ITransliterationStage);NLRT.SingleCharSubstitutionsTransliterationStage.registerClass("NLRT.SingleCharSubstitutionsTransliterationStage",null,NLRT.ITransliterationStage);NLRT.LatinFullWidthToHalfWidthTransliterationStage.registerClass("NLRT.LatinFullWidthToHalfWidthTransliterationStage",null,NLRT.ITransliterationStage);NLRT.TransliteratorNLModule.registerClass("NLRT.TransliteratorNLModule",null,NLRT.INLModule);NLRT.FeatureTemplate.registerClass("NLRT.FeatureTemplate",null,NLRT.IFeatureTemplate);NLRT.TokenStringGeneratorInit.registerClass("NLRT.TokenStringGeneratorInit");NLRT.TokenStringGenerator.registerClass("NLRT.TokenStringGenerator",null,NLRT.ITokenStringGenerator);NLRT.SurfaceStringTokenStringGeneratorInit.registerClass("NLRT.SurfaceStringTokenStringGeneratorInit",NLRT.TokenStringGeneratorInit);NLRT.SurfaceStringTokenStringGenerator.registerClass("NLRT.SurfaceStringTokenStringGenerator",NLRT.TokenStringGenerator);NLRT.QueryTokenStringGeneratorInit.registerClass("NLRT.QueryTokenStringGeneratorInit",NLRT.TokenStringGeneratorInit);NLRT.QueryTokenStringGenerator.registerClass("NLRT.QueryTokenStringGenerator",NLRT.TokenStringGenerator);NLRT.FuzzyMatchTokenStringGeneratorInit.registerClass("NLRT.FuzzyMatchTokenStringGeneratorInit",NLRT.TokenStringGeneratorInit);NLRT.FuzzyMatchTokenStringGenerator.registerClass("NLRT.FuzzyMatchTokenStringGenerator",NLRT.TokenStringGenerator);NLRT.TokenStringLattice.registerClass("NLRT.TokenStringLattice");NLRT.DictionaryUtils.registerClass("NLRT.DictionaryUtils");NLRT.ArrayUtils.registerClass("NLRT.ArrayUtils");NLRT.MathUtils.registerClass("NLRT.MathUtils");NLRT.Annotations.typeiD_None=0;NLRT.Annotations.typeiD_String=1;NLRT.Annotations.typeiD_Boolean=2;NLRT.Annotations.typeiD_Integer=3;NLRT.Annotations.typeiD_FloatingPoint=5;NLRT.Annotations.typeiD_FeatureBundle=9;NLRT.StringTableInit.c_MAGIC_NUMBER=1025118440;NLRT.ByteArray.$3T=[62,0,0,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,0,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]