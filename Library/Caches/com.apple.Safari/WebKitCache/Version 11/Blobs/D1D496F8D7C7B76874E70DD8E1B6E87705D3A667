webpackJsonp([38],{0:function(t,n){t.exports=function(t){if(typeof execScript!=="undefined")execScript(t);else eval.call(null,t)}},4095:function(t,n,e){e(0)(e(4096))},4096:function(t,n){t.exports="/* eslint indent: [\"error\", \"tab\", { \"outerIIFEBody\": 0 }] */\n\n/**\n * page_landing\n * @desc For the homepage\n * @param {Object} page - namespace for the page\n * @return {void}\n */\n;(function (page) {\n\t'use strict';\n\n\t// Public\n\n\tpage.options = {\n\t\theader_height: 825,\n\t\tperf_beacon_prefix: '',\n\t\tscroll_fixed_cutoff: 10,\n\t\tstory_name: '',\n\t\troot_url: ''\n\t};\n\n\t// Private\n\tvar _underline = {};\n\tvar _has_complete_typewrite = false;\n\n\tvar _$window = $(window);\n\tvar _$body = $('body');\n\tvar _$screenshots = $('#screenshots');\n\tvar _$ways_container = $('#communicate');\n\n\tvar _header_carousel_active = true;\n\tvar _header_advance_interval = false;\n\tvar _ways_advance_interval = false;\n\n\tvar _HEADER_ADVANCE_PERIOD_MS = 5000;\n\tvar _WAYS_ADVANCE_PERIOD_MS = 5000;\n\n\tvar _$CVO = window.$CVO || [];\n\tvar _convertro_id = 0; // eslint-disable-line no-unused-vars\n\n\t/**\n  * DOM Ready\n  * @private\n  * @return {void}\n  */\n\tvar _onDOMReady = function _onDOMReady() {\n\t\t_bindUI();\n\t\t_onStart();\n\t};\n\n\t/**\n  * Bind all events\n  * @private\n  * @return {void}\n  */\n\tvar _bindUI = function _bindUI() {\n\t\t_$window.on('scroll', _onScroll);\n\n\t\t// Pagination on ad landing pages (brewbetter.slack.com)\n\t\t$('#screenshots .switcher a').on('click', _onClickPagination);\n\n\t\t// On ad landing pages (brewbetter.slack.com)\n\t\t$('#screenshots').on('click', _onClickScreenshots);\n\n\t\t// Tour 'ways' section\n\t\t// MOVE\n\t\t$('#communicate .way').on('click', _onClickTourWay);\n\t\t$('#communicate .switcher a').on('click', _onClickSwitcher);\n\t\t$('#communicate').on('click', _onClickCommunicate);\n\n\t\t// A/B test CTA\n\t\t$('.cta_track').on('click', _onClickCTATrack);\n\n\t\t// A/B test email form\n\t\t$('.cta_form').on('submit', _onSubmitCTA);\n\n\t\t// Clogs clicks on the pricing link in the top nav bar for Growth team\n\t\t$('[data-qa=\"pricing\"] .mobile_nav_pricing').click(function () {\n\t\t\tTS.clog.track('GROWTH_PRICING', { contexts: { ui_context: {\n\t\t\t\t\t\tstep: 'homepage',\n\t\t\t\t\t\taction: 'click',\n\t\t\t\t\t\tui_element: 'pricing_link'\n\t\t\t\t\t} } });\n\t\t});\n\t};\n\n\t/**\n  * Start!\n  * @private\n  * @return {void}\n  */\n\tvar _onStart = function _onStart() {\n\t\tif (_getQueryVariable('story') || page.options.story_name) {\n\t\t\t_preloadImage();\n\t\t\tif ($(window).width() < 641) {\n\t\t\t\t$('.typed_remove').addClass('hidden');\n\t\t\t\t_completeTypewrite();\n\t\t\t}\n\t\t}\n\n\t\t_createRotationList();\n\t};\n\n\t/**\n  * Load tiny bg image to start animation\n  * @private\n  * @return {void}\n  */\n\tvar _preloadImage = function _preloadImage() {\n\t\tvar story_query = _getQueryVariable('story') || page.options.story_name;\n\t\tvar header_img;\n\n\t\tif (story_query === 'marsandbeyond') {\n\t\t\theader_img = 'nasa-header-image';\n\t\t} else if (story_query === 'neutrinoinahaystack') {\n\t\t\theader_img = 'neutrino-observatory-header-image';\n\t\t} else if (story_query === 'decodingdna') {\n\t\t\theader_img = 'macarthur-lab-header-image';\n\t\t} else if (story_query === 'brewbetter') {\n\t\t\theader_img = 'blue-bottle-header';\n\t\t} else if (story_query === 'openforbusiness') {\n\t\t\theader_img = 'square-header-image';\n\t\t} else {\n\t\t\t_typewrite(27);\n\t\t\treturn;\n\t\t}\n\n\t\tvar image = new Image();\n\t\timage.onload = function () {\n\t\t\tsetTimeout(_typewrite, 2400, 27);\n\t\t};\n\n\t\timage.src = '/img/wired/' + header_img + '@tiny.jpg';\n\t};\n\n\t/**\n  * On page complete load\n  * @private\n  * @return {void}\n  */\n\tvar _onLoad = function _onLoad() {\n\t\t// Snatches the convertro ID\n\t\t_$CVO.push(['getCode', function (convertro_id) {\n\t\t\t_convertro_id = convertro_id;\n\t\t}]);\n\n\t\t$('nav.mobile_menu').removeClass('loading');\n\n\t\t$('[data-srcset]').each(function () {\n\t\t\t$(this).attr('srcset', $(this).attr('data-srcset'));\n\t\t});\n\t\t$('[data-src]').each(function () {\n\t\t\t$(this).attr('src', $(this).attr('data-src'));\n\t\t});\n\t\t$('[data-defer-bg]').each(function () {\n\t\t\t$(this).removeAttr('data-defer-bg');\n\t\t});\n\n\t\t// Start header carousel auto-advance\n\t\tif (_$screenshots.length) _startHeaderAutoAdvance();\n\n\t\t// Start tour \"ways\" auto-advance\n\t\tif (_$ways_container.length) _startWaysAutoAdvance();\n\n\t\t// ads\n\t\t$('#story_scroll').on('click', function () {\n\t\t\tvar animate_to;\n\n\t\t\tif ($('.top_ad_header_mobile').length > 0 && _$window.width() <= 640) {\n\t\t\t\tanimate_to = $('.top_ad_header_mobile');\n\t\t\t} else if ($('header').length > 0) {\n\t\t\t\tanimate_to = $('header');\n\t\t\t} else {\n\t\t\t\tanimate_to = $('#page');\n\t\t\t}\n\t\t\t$('html, body').animate({\n\t\t\t\tscrollTop: animate_to.offset().top - $('nav.top').height() }, 250);\n\t\t});\n\n\t\tvar query_story = _getQueryVariable('story');\n\t\tvar query_slide = _getQueryVariable('s');\n\t\tvar query_cta_bottom = _getQueryVariable('cta_bottom');\n\n\t\tif (_getQueryVariable('hp_debug') !== '1') {\n\t\t\tsetTimeout(function () {\n\t\t\t\t// cookie?\n\t\t\t\tif (_getQueryVariable('reset_cookie') === '1') {\n\t\t\t\t\twindow.eraseCookie('lp_nt', '.slack.com');\n\t\t\t\t} else if (_getQueryVariable('story') === 'marsandbeyond') {\n\t\t\t\t\thistory.replaceState({}, 'story', '/');\n\t\t\t\t} else if (_getQueryVariable('story') === 'openforbusiness') {\n\t\t\t\t\thistory.replaceState({}, 'story', '/');\n\t\t\t\t} else if (_getQueryVariable('story') === 'neutrinoinahaystack') {\n\t\t\t\t\thistory.replaceState({}, 'story', '/');\n\t\t\t\t} else if (_getQueryVariable('clean') === '1') {\n\t\t\t\t\thistory.replaceState({}, 'clean', '/');\n\t\t\t\t}\n\t\t\t}, bowser.msie ? 200 : 0);\n\t\t}\n\n\t\tvar hp_version_perf;\n\t\tif (query_story) {\n\t\t\thp_version_perf = 'slide_' + (query_slide || '0') + '_cta_' + (query_cta_bottom || '0');\n\t\t} else {\n\t\t\thp_version_perf = 'control';\n\t\t}\n\t\t// Page loaded; beacon back load time.\n\t\tif (page.options.perf_beacon_prefix) {\n\t\t\twindow.TSMeasureAndBeacon(page.options.perf_beacon_prefix + '_load', 'start_load');\n\t\t\twindow.TSMeasureAndBeacon(page.options.perf_beacon_prefix + '_total_load', 'start_nav');\n\t\t\twindow.TSMeasureAndBeacon(page.options.perf_beacon_prefix + '_' + hp_version_perf + '_load', 'start_load');\n\t\t}\n\t};\n\n\t/**\n  * Typewrite using typed.js plugin\n  * @private\n  * @param {Function} speed - typing pace\n  * @return {void}\n  */\n\tvar _typewrite = function _typewrite(speed) {\n\t\t$('.typed_remove').addClass('hidden');\n\t\t$('.typewriter').typed({\n\t\t\tstrings: [$('.typewriter_copy').html()],\n\t\t\ttypeSpeed: speed,\n\t\t\tcallback: _completeTypewrite\n\t\t});\n\t};\n\n\t/**\n  * Show underlines\n  * @private\n  * @return {void}\n  */\n\tvar _completeTypewrite = function _completeTypewrite() {\n\t\tif (_has_complete_typewrite) return;\n\n\t\t_underline.robots_path = bowser.msie ? $('.underline_robots_image') : $('.underline_robots_path');\n\t\t_underline.mars_path = bowser.msie ? $('.underline_mars_image') : $('.underline_mars_path');\n\t\t_underline.robots = $('.underline_robots');\n\t\t_underline.mars = $('.underline_mars');\n\n\t\t_underline.robots.append(_underline.robots_path);\n\t\t_underline.mars.append(_underline.mars_path);\n\t\t$('.typed-cursor').addClass('hide');\n\t\t_$body.addClass('start_animation');\n\t\t_has_complete_typewrite = true;\n\t};\n\n\t/**\n  * Rotation list for homepage bg\n  * @private\n  * @return {void}\n  */\n\tvar _createRotationList = function _createRotationList() {\n\t\tvar list = ['neutrinoinahaystack', 'waterislife', 'marsandbeyond'];\n\n\t\tif (window.readCookie('lp_l')) {\n\t\t\tlist = window.readCookie('lp_l');\n\t\t\tlist = list.split(',');\n\t\t\tlist.push(list.shift());\n\t\t}\n\n\t\twindow.createCookie('lp_l', list, 365, 'slack.com');\n\t};\n\n\t/**\n  * Scroll\n  * @private\n  * @return {void}\n  */\n\tvar _onScroll = function _onScroll() {\n\t\tif ($('nav.top[data-no-scroll]').length) return;\n\n\t\tif (this.pageYOffset >= page.options.scroll_fixed_cutoff && !_$body.hasClass('scrolled')) {\n\t\t\t_$body.addClass('scrolled');\n\t\t} else if (this.pageYOffset < page.options.scroll_fixed_cutoff && _$body.hasClass('scrolled')) {\n\t\t\t_$body.removeClass('scrolled');\n\t\t}\n\t\tif (this.pageYOffset >= page.options.header_height) {\n\t\t\t_header_carousel_active = false;\n\t\t} else {\n\t\t\t_header_carousel_active = true;\n\t\t}\n\t};\n\n\t/**\n  * Handle pagination click on ads landing pages\n  * @private\n  * @param {Event} e - pagination click event\n  * @return {void}\n  */\n\tvar _onClickPagination = function _onClickPagination(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\t_stopHeaderAutoAdvance();\n\t\t$('#screenshots').attr('data-highlight', $(this).data('highlight'));\n\t};\n\n\t/**\n  * Handle carousel click on ads landing pages\n  * @private\n  * @return {void}\n  */\n\tvar _onClickScreenshots = function _onClickScreenshots() {\n\t\t_stopHeaderAutoAdvance();\n\t\t_moveHeaderCarouselRight();\n\t};\n\n\t/**\n  * Handle carousel click on ads landing pages\n  * @private\n  * @param {Event} e - tour way click event\n  * @return {void}\n  */\n\tvar _onClickTourWay = function _onClickTourWay(e) {\n\t\t// Don't act as switcher on mobile version\n\t\tif ($(document).width() <= 945) return;\n\n\t\te.stopPropagation();\n\t\t_stopWaysAutoAdvance();\n\t\t$('#communicate').attr('data-highlight', $(this).data('highlight'));\n\t};\n\n\t/**\n  * Handle carousel click on ads landing pages\n  * @private\n  * @param {Event} e - switcher click event\n  * @return {void}\n  */\n\tvar _onClickSwitcher = function _onClickSwitcher(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\t_stopWaysAutoAdvance();\n\t\t$('#communicate').attr('data-highlight', $(this).data('highlight'));\n\t};\n\n\t/**\n  * Handle carousel click on ads landing pages\n  * @private\n  * @return {void}\n  */\n\tvar _onClickCommunicate = function _onClickCommunicate() {\n\t\t_stopWaysAutoAdvance();\n\t\t_moveWaysForward();\n\t};\n\n\t/**\n  * Handle carousel click CTA\n  * @private\n  * @param {Event} e - cta tracking event\n  * @return {void}\n  */\n\tvar _onClickCTATrack = function _onClickCTATrack(e) {\n\t\te.preventDefault();\n\t\t$(this).append('<form id=\"cta_submit\" action=\"' + page.options.root_url + 'create\" method=\"post\" type=\"hidden\"></form>');\n\t\t$('#cta_submit').submit();\n\t};\n\n\t/**\n  * Handle carousel click CTA\n  * @private\n  * @param {Event} e - submit cta event\n  * @return {void}\n  */\n\tvar _onSubmitCTA = function _onSubmitCTA(e) {\n\t\te.preventDefault();\n\n\t\tvar $form = $(this);\n\t\tvar $email = $('.input_email', $(this));\n\n\t\t// Removes zero-width whitespace\n\t\tvar email_str = $.trim($email.val()).replace(/[\\u200B-\\u200D\\uFEFF]/g, '');\n\t\tvar email_regex = new RegExp(\"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$\", 'i');\n\n\t\tvar error_msg;\n\t\tvar error_color;\n\t\tvar d = $.Deferred();\n\n\t\td.fail(function () {\n\t\t\t_addToolTip($form.find('.cta_input_email_wrapper'), error_msg, error_color);\n\t\t});\n\n\t\t// Checks for empty email input.\n\t\tif (!email_str) {\n\t\t\terror_msg = TS.i18n.t('Please fill out your email address!', 'page_landing')();\n\t\t\treturn d.reject(error_msg);\n\t\t}\n\n\t\t// Checks for valid email regex.\n\t\tif (!email_regex.test(email_str)) {\n\t\t\terror_msg = TS.i18n.t('Oops! That looks like an invalid email address!', 'page_landing')();\n\t\t\treturn d.reject(error_msg);\n\t\t}\n\n\t\t// Checks against blacklisted email domains.\n\t\twindow.callSlackAPIUnauthed('signup.checkEmail', { email: email_str }, function (ok, data) {\n\t\t\tif (ok) {\n\t\t\t\treturn d.resolve();\n\t\t\t}\n\n\t\t\tif (data.error === 'bad_email_domain') {\n\t\t\t\tvar email_domain = email_str.split('@')[1];\n\t\t\t\terror_msg = TS.i18n.t('Sorry, but we do not allow signups from @{email_domain}.<br class=\"hide_on_mobile\"> Please pick a different email address!', 'page_landing')({\n\t\t\t\t\temail_domain: email_domain\n\t\t\t\t});\n\t\t\t\terror_color = 'red';\n\t\t\t} else {\n\t\t\t\t// Only other error should be ratelimit.\n\t\t\t\terror_msg = TS.i18n.t('Sorry, you’ve hit the rate limit.<br class=\"hide_on_mobile\"> You’ll be able to try again soon.', 'page_landing')();\n\t\t\t\terror_color = 'red';\n\t\t\t}\n\n\t\t\treturn d.reject();\n\t\t});\n\n\t\td.then(function () {\n\t\t\t// Success! Detach event handler so that the above logic doesn't happen, and submit form.\n\t\t\t$form.off('submit');\n\t\t\t$form.submit();\n\t\t});\n\t};\n\n\t/**\n  * Add tooltip on cta fields\n  * @private\n  * @param {jQuery} $input_wrapper - wrapper\n  * @param {Event} error_msg - message\n  * @param {Event} error_color - color\n  * @return {void}\n  */\n\tvar _addToolTip = function _addToolTip($input_wrapper, error_msg, error_color) {\n\t\terror_color = error_color || 'orange';\n\t\tvar $ts_tip_tip = $input_wrapper.find('.ts_tip_tip');\n\t\tvar $input_email = $input_wrapper.find('.input_email');\n\n\t\t// No tooltip! Create one\n\t\tif (!$ts_tip_tip.length) {\n\t\t\t$ts_tip_tip = $('<span class=\"ts_tip_tip\"><span class=\"ts_tip_multiline_inner\">' + error_msg + '</span></span>');\n\t\t\t$input_wrapper.addClass('ts_tip ts_tip_top ts_tip_float ts_tip_hide ts_tip_multiline').append($ts_tip_tip);\n\t\t\t$input_email.on('input', function () {\n\t\t\t\t$input_wrapper.addClass('ts_tip_hide');\n\t\t\t});\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t$input_wrapper.removeClass('ts_tip_hide');\n\t\t\t}, 0);\n\t\t} else {\n\t\t\t$input_wrapper.removeClass('ts_tip_hide').find('.ts_tip_multiline_inner').html(error_msg);\n\t\t}\n\n\t\t$ts_tip_tip.attr('data-color', error_color);\n\t\t$input_email.focus();\n\t};\n\n\t/**\n  * Move carousel next\n  * @private\n  * @return {void}\n  */\n\tvar _moveHeaderCarouselRight = function _moveHeaderCarouselRight() {\n\t\tif (!_header_carousel_active) return;\n\t\tvar current = _$screenshots.attr('data-highlight');\n\t\tswitch (current) {\n\t\t\tcase 'channels':\n\t\t\t\t_$screenshots.attr('data-highlight', 'integrations');\n\t\t\t\tbreak;\n\t\t\tcase 'integrations':\n\t\t\t\t_$screenshots.attr('data-highlight', 'search');\n\t\t\t\tbreak;\n\t\t\tcase 'search':\n\t\t\t\t_$screenshots.attr('data-highlight', 'channels');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n  * Header carousel advancing\n  * @private\n  * @return {void}\n  */\n\tvar _startHeaderAutoAdvance = function _startHeaderAutoAdvance() {\n\t\tif (!_header_advance_interval) {\n\t\t\t_header_advance_interval = setInterval(_moveHeaderCarouselRight, _HEADER_ADVANCE_PERIOD_MS);\n\t\t}\n\t};\n\n\t/**\n  * Stop header auto advance\n  * @private\n  * @return {void}\n  */\n\tvar _stopHeaderAutoAdvance = function _stopHeaderAutoAdvance() {\n\t\tclearInterval(_header_advance_interval);\n\t\t_header_advance_interval = false;\n\t};\n\n\t/**\n  * Move ways forward\n  * @private\n  * @return {void}\n  */\n\tvar _moveWaysForward = function _moveWaysForward() {\n\t\tif (!_header_carousel_active) return;\n\t\tvar current = _$ways_container.attr('data-highlight');\n\t\tswitch (current) {\n\t\t\tcase 'channel':\n\t\t\t\t_$ways_container.attr('data-highlight', 'group');\n\t\t\t\tbreak;\n\t\t\tcase 'dm':\n\t\t\t\t_$ways_container.attr('data-highlight', 'channel');\n\t\t\t\tbreak;\n\t\t\tcase 'group':\n\t\t\t\t_$ways_container.attr('data-highlight', 'dm');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n  * Start ways auto advance\n  * @private\n  * @return {void}\n  */\n\tvar _startWaysAutoAdvance = function _startWaysAutoAdvance() {\n\t\tif (!_ways_advance_interval) {\n\t\t\t_ways_advance_interval = setInterval(_moveWaysForward, _WAYS_ADVANCE_PERIOD_MS);\n\t\t}\n\t};\n\n\t/**\n  * Stop ways auto advance\n  * @private\n  * @return {void}\n  */\n\tvar _stopWaysAutoAdvance = function _stopWaysAutoAdvance() {\n\t\tclearInterval(_ways_advance_interval);\n\t\t_ways_advance_interval = false;\n\t};\n\n\t/**\n  * Get query params\n  * @private\n  * @param {String} variable - query\n  * @return {void}\n  */\n\tvar _getQueryVariable = function _getQueryVariable(variable) {\n\t\tvar query = window.location.search.substring(1);\n\t\tvar vars = query.split('&');\n\t\tfor (var i = 0; i < vars.length; i += 1) {\n\t\t\tvar pair = vars[i].split('=');\n\t\t\tif (pair[0] == variable) return pair[1];\n\t\t}\n\t\treturn false;\n\t};\n\n\t$(document).ready(_onDOMReady);\n\t$(window).load(_onLoad);\n})(window.page_landing = window.page_landing || {});"}},[4095]);